{
	"appsUsed":[
		"slack"
	],
	"createdTime":1751223669352,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1758216617741,
		"deployedBy":20249,
		"deployedDefinitionId":"68cc41a96329502febf37f1c",
		"status":"PAUSED",
		"version":2,
		"workflowVersion":27
	},
	"edges":[
		{
			"fromNodeId":"wgNcE",
			"priority":0,
			"skip":false,
			"toNodeId":"n_EoxlO",
			"type":"next"
		},
		{
			"fromNodeId":"n_EoxlO",
			"priority":0,
			"skip":false,
			"toNodeId":"WoHEz",
			"type":"next"
		},
		{
			"fromNodeId":"WoHEz",
			"priority":0,
			"skip":false,
			"toNodeId":"_jZMLH",
			"type":"next"
		},
		{
			"fromNodeId":"_jZMLH",
			"priority":0,
			"skip":false,
			"toNodeId":"n_HYZWl",
			"type":"next"
		},
		{
			"fromNodeId":"n_HYZWl",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"TYHXj",
			"type":"next"
		},
		{
			"fromNodeId":"n_HYZWl",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_6ngJu",
			"type":"if"
		},
		{
			"fromNodeId":"TYHXj",
			"priority":0,
			"skip":false,
			"toNodeId":"n_6ngJu",
			"type":"next"
		},
		{
			"fromNodeId":"n_ErUw1",
			"priority":0,
			"skip":false,
			"toNodeId":"n_6ngJu",
			"type":"next"
		},
		{
			"fromNodeId":"n_6ngJu",
			"priority":0,
			"skip":false,
			"toNodeId":"n_ErUw1",
			"type":"loop"
		},
		{
			"fromNodeId":"n_6ngJu",
			"priority":0,
			"skip":false,
			"toNodeId":"3OfOg",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"EXPORT_AS_TEMPLATE",
					"A",
					"C",
					"S",
					"VI",
					"D",
					"TEST",
					"VIEW_RUNS",
					"E",
					"V",
					"VS",
					"DEP"
				],
				"principalIds":[
					"20249"
				],
				"principalType":"USER"
			}
		]
	},
	"id":"685028c5d535ee67dd6c720d",
	"lastModifiedBy":124029,
	"lcName":"[dnd] routine load checker",
	"modifiedTime":1758995612140,
	"name":"[DND] Routine Load Checker",
	"nodes":[
		{
			"context":{
				"appName":"schedule",
				"resourceVersion":33,
				"resourceName":"schedule_default"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"k0Y9m-1",
			"id":"wgNcE",
			"index":1,
			"inputs":{
				"cron":"INTERVAL",
				"sequential":false,
				"interval":5,
				"frequency":"MINUTES"
			},
			"skip":false,
			"subTitle":"Schedule",
			"title":"New recurring event",
			"trigger":{
				"type":"SCHEDULED"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":28,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"k0Y9m-1",
			"id":"n_EoxlO",
			"index":2,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"baseUrl":{
							"type":"string",
							"title":"Base Url"
						},
						"env":{
							"type":"string",
							"title":"Env"
						},
						"slackChannel":{
							"type":"string",
							"title":"Slack Channel"
						},
						"Heartbeat_path":{
							"type":"string",
							"title":"Heartbeat Path"
						},
						"heartbeat_apitoken":{
							"type":"string",
							"title":"Heartbeat Apitoken"
						},
						"Heartbeat_baseurl":{
							"type":"string",
							"title":"Heartbeat_baseurl"
						}
					},
					"required":[
						"baseUrl",
						"env",
						"Heartbeat_path",
						"heartbeat_apitoken",
						"Heartbeat_baseurl"
					]
				}
			},
			"inputs":{
				"baseUrl":"http://internal-global-svc:80",
				"slackChannel":" "
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"baseUrl":{
							"type":"string",
							"title":"Base Url"
						},
						"env":{
							"type":"string",
							"title":"Env"
						},
						"slackChannel":{
							"type":"string",
							"title":"Slack Channel"
						},
						"Heartbeat_path":{
							"type":"string",
							"title":"Heartbeat Path"
						},
						"heartbeat_apitoken":{
							"type":"string",
							"title":"Heartbeat Apitoken"
						},
						"Heartbeat_baseurl":{
							"type":"string",
							"title":"Heartbeat_baseurl"
						}
					},
					"required":[
						"baseUrl",
						"env",
						"Heartbeat_path",
						"heartbeat_apitoken",
						"Heartbeat_baseurl"
					]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"additional":{
				"xsdSchemaConfig":{}
			},
			"context":{
				"appName":"custom_http_endpoint",
				"resourceVersion":10,
				"resourceName":"custom_http_endpoint_execute",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"k0Y9m-1",
			"id":"WoHEz",
			"index":3,
			"inputs":{
				"isAsync":false,
				"enableProxy":false,
				"requestTimeoutInSecs":-1,
				"httpMethod":"POST",
				"body":{
					"resourceType":"USER_CUSTOMER",
					"collectionName":"Customer",
					"limit":1000,
					"query":{
						"d":false
					}
				},
				"connectionType":"DIRECT",
				"sslVerify":false,
				"path":"/internal/mongo-internal/find/0",
				"responseSchema":{
					"type":"array",
					"items":{
						"type":"object",
						"properties":{
							"_id":{
								"type":"string",
								"title":"_id"
							},
							"cTm":{
								"type":"integer",
								"title":"cTm"
							},
							"d":{
								"type":"boolean",
								"title":"d"
							},
							"lMBy":{
								"type":"integer",
								"title":"lMBy"
							},
							"mTm":{
								"type":"integer",
								"title":"mTm"
							},
							"name":{
								"type":"string",
								"title":"name"
							},
							"oUId":{
								"type":"integer",
								"title":"oUId"
							},
							"v":{
								"type":"integer",
								"title":"v"
							}
						},
						"additionalProperties":false
					}
				},
				"baseUrl":"{{ n_EoxlO.outputs.baseUrl }}",
				"httpVersion":"HTTP_2",
				"bodySchema":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"query",
						"resourceType",
						"collectionName",
						"limit"
					],
					"dynamic":true,
					"properties":{
						"query":{
							"type":"object",
							"properties":{
								"d":{
									"type":"boolean",
									"title":"D"
								}
							},
							"additionalProperties":false,
							"title":"Query",
							"required":[
								"d"
							]
						},
						"resourceType":{
							"type":"string",
							"title":"Resource Type"
						},
						"collectionName":{
							"type":"string",
							"title":"Collection Name"
						},
						"limit":{
							"type":"integer",
							"title":"Limit"
						}
					}
				},
				"queryParamsList":[],
				"responseContentType":"application/json",
				"headersList":[],
				"authType":"CUSTOM",
				"requestContentType":"application/json",
				"ignoreTrailingSlashes":false,
				"certificateType":"CERT_STRING"
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"cacheKey":"{{ __RUN__.outputs.customerId }}",
					"enabled":true,
					"timeToLive":"86400",
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false,
					"slidingWindowType":"COUNT_BASED"
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"unit":"MINUTES",
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"Find customers",
			"title":"Execute REST request",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"custom_http_endpoint",
				"resourceVersion":10,
				"resourceName":"custom_http_endpoint_execute",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"k0Y9m-1",
			"id":"_jZMLH",
			"index":4,
			"inputs":{
				"isAsync":false,
				"enableProxy":false,
				"requestTimeoutInSecs":-1,
				"httpMethod":"POST",
				"body":{
					"sql":"SELECT TABLE_SCHEMA FROM information_schema.COLUMNS WHERE TABLE_NAME = 'WORKFLOW_NODE_EXECUTION' AND TABLE_SCHEMA LIKE 'REPORTING%' GROUP BY TABLE_SCHEMA HAVING SUM(CASE WHEN COLUMN_NAME = 'inputs' THEN 1 ELSE 0 END) = 0"
				},
				"connectionType":"DIRECT",
				"sslVerify":false,
				"path":"/internal/sql-report/runSQL/query/{{ __RUN__.outputs.customerId }}",
				"responseSchema":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"hasMore":{
							"type":"boolean",
							"title":"hasMore"
						},
						"objects":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"TABLE_SCHEMA":{
										"type":"string",
										"title":"TABLE SCHEMA"
									}
								},
								"additionalProperties":false,
								"required":[
									"TABLE_SCHEMA"
								]
							},
							"title":"objects"
						}
					}
				},
				"baseUrl":"{{ n_EoxlO.outputs.baseUrl }}",
				"httpVersion":"HTTP_2",
				"bodySchema":{
					"type":"object",
					"additionalProperties":false,
					"dynamic":true,
					"properties":{
						"sql":{
							"type":"string",
							"title":"sql"
						}
					}
				},
				"queryParamsList":[
					{
						"key":"sqlResourceType",
						"value":"PLATFORM"
					}
				],
				"responseContentType":"application/json",
				"headersList":[
					{
						"key":"x-admin-authorization",
						"value":"4f90129cfef7bebf5cfb343c116a9983"
					},
					{
						"key":"Content-Type",
						"value":"application/json"
					}
				],
				"authType":"CUSTOM",
				"requestContentType":"application/json",
				"ignoreTrailingSlashes":false,
				"certificateType":"CERT_STRING"
			},
			"skip":false,
			"subTitle":"Any missing input output fields",
			"title":"Execute REST request",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":111,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"k0Y9m-1",
			"id":"n_HYZWl",
			"index":5,
			"inputs":{
				"filters":[
					{
						"property":"=LEN({{ _jZMLH.outputs.result.objects }})",
						"filter":{
							"operator":"EQUAL",
							"value":"0"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"slack",
				"resourceVersion":69,
				"connectionId":"68c5caf011d8705efe24b1d1",
				"resourceName":"slack_post_message_in_channel",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_HYZWl@k0Y9m-1@n",
			"id":"TYHXj",
			"index":6,
			"inputs":{
				"link_names":true,
				"messageType":"blocks",
				"Attach":[
					{
						"attachmentsBlock":{
							"mrkdwn_in":[
								"text",
								"pretext",
								"fields",
								"footer"
							],
							"color":"#FF0000",
							"text":"```{{ _jZMLH.outputs.result.objects }}```",
							"pretext":"[{{ n_EoxlO.outputs.env }}] Missing Input Output fields",
							"title":"Missing Input Output fields"
						},
						"attachmentsType":"attachmentBlock"
					}
				],
				"channel":"C07A4L20DB4",
				"mrkdwn":true
			},
			"skip":false,
			"subTitle":"Slack",
			"title":"Post message",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":112,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"k0Y9m-1",
			"id":"n_6ngJu",
			"index":7,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ WoHEz.outputs.result }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":116,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"CONTINUE",
			"groupId":"n_6ngJu@k0Y9m-1@l",
			"id":"n_ErUw1",
			"index":8,
			"inputs":{
				"automationId":"683982aeba2ee119413d8d69",
				"runtimeConnections":{},
				"synchronous":true,
				"triggerWorkflowWithRuntimeType":"DEFAULT",
				"version":"-1",
				"parameters":{
					"customerId":"{{ n_6ngJu.outputs.item._id }}",
					"customerName":"{{ n_6ngJu.outputs.item.name }}",
					"env":"DGE Sandbox",
					"slackChannel":"{{ n_EoxlO.outputs.slackChannel }}",
					"baseUrl":"{{ n_EoxlO.outputs.baseUrl }}"
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false,
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false,
					"slidingWindowType":"COUNT_BASED"
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"unit":"MINUTES",
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"CONTINUE",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"stop"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"k0Y9m-1",
			"id":"3OfOg",
			"index":9,
			"skip":false,
			"subTitle":"Stop",
			"title":"Stop",
			"type":"STOP"
		}
	],
	"ownerUserId":20249,
	"projectId":2049,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"headerValueTierMap":{},
			"tierName":"global"
		}
	},
	"standard":false,
	"tags":[
		"Platform Alerts"
	],
	"version":32
}
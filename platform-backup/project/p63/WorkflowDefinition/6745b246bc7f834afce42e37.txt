{
	"appsUsed":[
		
	],
	"createdTime":1732620870090,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1758646574910,
		"deployedBy":0,
		"deployedDefinitionId":"68d2d12e9f85565fb8fa5e34",
		"status":"DEPLOYED",
		"version":65,
		"workflowVersion":494
	},
	"edges":[
		{
			"fromNodeId":"_zCuz3",
			"priority":0,
			"skip":false,
			"toNodeId":"_yzaLF",
			"type":"next"
		},
		{
			"fromNodeId":"_yzaLF",
			"priority":0,
			"skip":false,
			"toNodeId":"_BdZ4M",
			"type":"next"
		},
		{
			"fromNodeId":"_BdZ4M",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_SXfA5",
			"type":"if"
		},
		{
			"fromNodeId":"_SXfA5",
			"priority":0,
			"skip":false,
			"toNodeId":"_ddCcn",
			"type":"next"
		},
		{
			"fromNodeId":"_BdZ4M",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_ddCcn",
			"type":"next"
		},
		{
			"fromNodeId":"_ddCcn",
			"priority":0,
			"skip":false,
			"toNodeId":"_13O5i",
			"type":"next"
		},
		{
			"fromNodeId":"_13O5i",
			"priority":0,
			"skip":false,
			"toNodeId":"_NIL5D",
			"type":"loop"
		},
		{
			"fromNodeId":"_NIL5D",
			"name":"error",
			"priority":0,
			"skip":false,
			"toNodeId":"8ULra",
			"type":"error"
		},
		{
			"fromNodeId":"_NIL5D",
			"priority":0,
			"skip":false,
			"toNodeId":"_drmp2",
			"type":"next"
		},
		{
			"fromNodeId":"8ULra",
			"priority":0,
			"skip":false,
			"toNodeId":"_drmp2",
			"type":"next"
		},
		{
			"fromNodeId":"_drmp2",
			"priority":0,
			"skip":false,
			"toNodeId":"_UlXln",
			"type":"next"
		},
		{
			"fromNodeId":"_UlXln",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"_13O5i",
			"type":"next"
		},
		{
			"fromNodeId":"_13O5i",
			"priority":0,
			"skip":false,
			"toNodeId":"_TlsfS",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"6745b246bc7f834afce42e37",
	"lastModifiedBy":0,
	"lcName":"text to workflow input filling main [do not touch]",
	"modifiedTime":1758655397972,
	"name":"Text to Workflow INPUT Filling MAIN [DO NOT TOUCH]",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":73,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_DWlKr-1",
			"id":"_zCuz3",
			"index":0,
			"inputs":{
				"result":{
					"type":"object",
					"properties":{
						"schema":{
							"type":"object",
							"title":"schema"
						},
						"status":{
							"type":"boolean",
							"title":"Status"
						}
					},
					"additionalProperties":false,
					"required":[
						"status"
					]
				},
				"setup":{
					"type":"object",
					"properties":{
						"workflowDefinition":{
							"type":"object",
							"title":"workflowDefinition",
							"properties":{},
							"required":[]
						},
						"user_query":{
							"type":"string",
							"title":"User Query"
						}
					},
					"additionalProperties":false,
					"required":[
						"user_query"
					]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":92,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_DWlKr-1",
			"id":"_yzaLF",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"sortedNodes":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"subTitle":{
										"type":"string",
										"title":"subTitle"
									},
									"fallbackMode":{
										"type":"string",
										"title":"fallbackMode"
									},
									"groupId":{
										"type":"string",
										"title":"groupId"
									},
									"context":{
										"type":"object",
										"properties":{
											"appName":{
												"type":"string",
												"title":"appName"
											},
											"resourceName":{
												"type":"string",
												"title":"resourceName"
											},
											"type":{
												"type":"string",
												"title":"type"
											}
										},
										"title":"context",
										"additionalProperties":false
									},
									"skip":{
										"type":"boolean",
										"title":"skip"
									},
									"id":{
										"type":"string",
										"title":"id"
									},
									"trigger":{
										"type":"object",
										"properties":{
											"type":{
												"type":"string",
												"title":"type"
											}
										},
										"title":"trigger",
										"additionalProperties":false
									},
									"title":{
										"type":"string",
										"title":"title"
									},
									"type":{
										"type":"string",
										"title":"type"
									}
								},
								"additionalProperties":false
							},
							"title":"sortedNodes"
						},
						"cycle":{
							"type":"boolean",
							"title":"cycle"
						},
						"workflowDefinitionMap":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Workflow Definition Map"
						}
					},
					"additionalProperties":false,
					"required":[
						"workflowDefinitionMap"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"workflowJson":{
							"type":"object",
							"title":"workflowJson"
						}
					},
					"additionalProperties":false
				},
				"code":"def nodesList = workflowJson.nodes\ndef edgesList = workflowJson.edges\n\n// Map of node ID to node object\ndef nodesMap = nodesList.collectEntries { [(it.id): it] }\n\n// Build adjacency list representation of the graph\ndef adjacencyList = [:].withDefault { [] }\nedgesList.each { edge ->\n    def fromNode = edge.fromNodeId\n    def toNode = edge.toNodeId\n    adjacencyList[fromNode] << toNode\n}\n\n// Perform topological sort using Kahn's Algorithm\ndef inDegree = [:].withDefault { 0 }\n\n// Initialize in-degree of each node\nnodesMap.keySet().each { nodeId ->\n    inDegree[nodeId] = 0\n}\n\n// Update in-degree based on edges\nedgesList.each { edge ->\n    inDegree[edge.toNodeId] = inDegree[edge.toNodeId] + 1\n}\n\n// Queue for nodes with in-degree 0\ndef queue = [] as Queue\n\ninDegree.each { nodeId, degree ->\n    if (degree == 0) {\n        queue << nodeId\n    }\n}\n\ndef sortedNodes = []\n\nwhile (!queue.isEmpty()) {\n    def node = queue.poll()\n    sortedNodes << nodesMap[node]\n\n    adjacencyList[node].each { adjacent ->\n        inDegree[adjacent] = inDegree[adjacent] - 1\n        if (inDegree[adjacent] == 0) {\n            queue << adjacent\n        }\n    }\n}\n\nif (sortedNodes.size() != nodesMap.size()) {\n    return [\"cycle\": true]\n} else {\n    return [\"cycle\": false, \"sortedNodes\": sortedNodes, \"workflowDefinitionMap\": nodesMap]\n}",
				"isAsync":false,
				"parameters":{
					"workflowJson":"{{ _zCuz3.outputs.workflowDefinition }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":73,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_DWlKr-1",
			"id":"_BdZ4M",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ _yzaLF.outputs.result.cycle }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":75,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_BdZ4M@_DWlKr-1@y",
			"id":"_SXfA5",
			"index":0,
			"inputs":{
				"result":{
					"status":false,
					"schema":"{{ _zCuz3.outputs.workflowDefinition }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":150,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_DWlKr-1",
			"id":"_ddCcn",
			"index":0,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"workflowDefition":{
							"type":"object",
							"title":"workflowDefition"
						},
						"workflowDefitionMap":{
							"type":"object",
							"title":"workflowDefitionMap"
						}
					}
				}
			},
			"inputs":{
				"workflowDefition":"{{ _zCuz3.outputs.workflowDefinition }}",
				"workflowDefitionMap":"{{ _yzaLF.outputs.result.workflowDefinitionMap }}"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"workflowDefition":{
							"type":"object",
							"title":"workflowDefition"
						},
						"workflowDefitionMap":{
							"type":"object",
							"title":"workflowDefitionMap"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":116,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_DWlKr-1",
			"id":"_13O5i",
			"index":0,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ _yzaLF.outputs.result.sortedNodes }}"
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":80,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"MANUAL",
			"groupId":"_13O5i@_DWlKr-1@l",
			"id":"_NIL5D",
			"index":0,
			"inputs":{
				"automationId":"6746fadcafeea234643bfa3d",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"node":{
						"subTitle":"{{ _13O5i.outputs.item.subTitle }}",
						"fallbackMode":"{{ _13O5i.outputs.item.fallbackMode }}",
						"groupId":"{{ _13O5i.outputs.item.groupId }}",
						"context":{
							"appName":"{{ _13O5i.outputs.item.context.appName }}",
							"resourceName":"{{ _13O5i.outputs.item.context.resourceName }}",
							"type":"{{ _13O5i.outputs.item.context.type }}"
						},
						"skip":"{{ _13O5i.outputs.item.skip }}",
						"id":"{{ _13O5i.outputs.item.id }}",
						"trigger":{
							"type":"{{ _13O5i.outputs.item.trigger.type }}"
						},
						"title":"{{ _13O5i.outputs.item.title }}",
						"type":"{{ _13O5i.outputs.item.type }}"
					},
					"user_query":"{{ _zCuz3.outputs.user_query }}",
					"workflowDefinition":"{{ _ddCcn.outputs.workflowDefition }}",
					"workflowDefinitionMap":"{{ _ddCcn.outputs.workflowDefitionMap }}"
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"MANUAL",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"continue",
				"resourceVersion":263,
				"resourceName":"continue",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_NIL5D@_13O5i@_DWlKr-1@l@error",
			"id":"8ULra",
			"index":0,
			"inputs":{
				"loop":"_13O5i"
			},
			"skip":false,
			"subTitle":"Continue",
			"title":"Continue",
			"type":"CONTINUE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.inputs.schema",
					"root.parameters.inputs.workflowDefinitionMap",
					"root.parameters.inputs.nodeId",
					"root.parameters.inputs.workflowDefinition"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":96,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_13O5i@_DWlKr-1@l",
			"id":"_drmp2",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"updatedWorkflowDefinitionMap":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"updatedWorkflowDefinitionMap"
						},
						"updatedWorkflowDefinition":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"updatedWorkflowDefinition"
						}
					},
					"additionalProperties":false,
					"required":[
						"updatedWorkflowDefinitionMap"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"inputs":{
							"type":"object",
							"properties":{
								"schema":{
									"type":"object",
									"title":"schema"
								},
								"workflowDefinitionMap":{
									"type":"object",
									"title":"workflowDefinitionMap"
								},
								"nodeId":{
									"type":"object",
									"title":"nodeId"
								},
								"workflowDefinition":{
									"type":"object",
									"properties":{},
									"additionalProperties":false,
									"title":"Workflow Definition"
								}
							},
							"title":"inputs",
							"additionalProperties":false,
							"required":[]
						}
					},
					"additionalProperties":false
				},
				"compile_static":false,
				"code":"if(inputs.containsKey(\"schema\")){\n  inputs.workflowDefinitionMap[inputs.nodeId][\"inputs\"] = inputs.schema\n}\nfor (int idx = 0; idx < inputs.workflowDefinition.nodes.size(); idx++) {\n    if (inputs.workflowDefinition.nodes[idx].id == inputs.nodeId) {\n        inputs.workflowDefinition.nodes[idx] = inputs.workflowDefinitionMap[inputs.nodeId]\n    }\n}\nreturn [\n  \"updatedWorkflowDefinition\": inputs.workflowDefinition,\n  \"updatedWorkflowDefinitionMap\": inputs.workflowDefinitionMap,\n]",
				"isAsync":false,
				"parameters":{
					"inputs":{
						"schema":"{{ _NIL5D.outputs.schema }}",
						"nodeId":"{{ _13O5i.outputs.item.id }}",
						"workflowDefinitionMap":"{{ _ddCcn.outputs.workflowDefitionMap }}",
						"workflowDefinition":"{{ _ddCcn.outputs.workflowDefition }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":88,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_13O5i@_DWlKr-1@l",
			"id":"_UlXln",
			"index":0,
			"inputs":{
				"variables":[
					{
						"source":"{{ _ddCcn.outputs.workflowDefition }}",
						"value":"{{ _drmp2.outputs.result.updatedWorkflowDefinition }}"
					},
					{
						"source":"{{ _ddCcn.outputs.workflowDefitionMap }}",
						"value":"{{ _drmp2.outputs.result.updatedWorkflowDefinitionMap }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":65,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_DWlKr-1",
			"id":"_TlsfS",
			"index":0,
			"inputs":{
				"result":{
					"status":true,
					"schema":"{{ _ddCcn.outputs.workflowDefition }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":520,
	"projectId":63,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		
	],
	"version":495
}
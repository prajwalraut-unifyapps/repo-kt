{
	"appsUsed":[
		
	],
	"createdTime":1758102287800,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1758785579810,
		"deployedBy":103171,
		"deployedDefinitionId":"68d4f02b125eb61e310c6d58",
		"status":"DEPLOYED",
		"version":2,
		"workflowVersion":6
	},
	"edges":[
		{
			"fromNodeId":"n_g1jzk",
			"priority":0,
			"skip":false,
			"toNodeId":"n_t3ZzR",
			"type":"next"
		},
		{
			"fromNodeId":"n_t3ZzR",
			"priority":0,
			"skip":false,
			"toNodeId":"n_iTFtl",
			"type":"next"
		}
	],
	"id":"68ca830f2634b07e24d0974f",
	"lastModifiedBy":103171,
	"lcName":"[virtu-rpa-contractuploadfn] contract_records_split",
	"modifiedTime":1758891142573,
	"name":"[virtu-rpa-contractuploadfn] contract_records_split",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":875,
				"resourceName":"callables_from_api"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_RiGOz-1",
			"id":"n_g1jzk",
			"index":1,
			"inputs":{
				"request":{
					"contentType":"application/json"
				},
				"endpointType":"REST",
				"response":[
					{
						"status":200,
						"contentType":"application/json",
						"textBody":{
							"type":"string"
						},
						"body":{
							"type":"object"
						},
						"namespaces":[]
					}
				],
				"streamingResponse":false
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via API",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"additional":{
				"xsdSchemaConfig":{
					"root":{}
				}
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":776,
				"resourceName":"code_by_unifyapps_python",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_RiGOz-1",
			"id":"n_t3ZzR",
			"index":2,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"result":{
							"type":"string",
							"title":"Result"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"reqBody":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Req Body"
						}
					}
				},
				"configurationMode":"DEFAULT",
				"code":"import pandas as pd\n\ncontract_data = reqBody\ncontract_data_df = pd.DataFrame(contract_data)\n\nunique_contract_list = contract_data_df['Contract Number'].unique()\n\nout_string = \"[\"\n\nfor contract in unique_contract_list:\n    filter = '`Contract Number`== \"' + contract + '\"'\n    current_cont_df1 = contract_data_df.query(filter, inplace=False)\n\n    out_string += \"[\"\n    for index, row in current_cont_df1.iterrows():\n        out_string += \"{\"\n        out_string += '\"Index\":\"' + row['Index'] + '\",'\n        out_string += '\"Business Unit\":\"' + row['Business Unit'] + '\",'\n        out_string += '\"Contract Number\":\"' + row['Contract Number'] + '\",'\n        out_string += '\"Description\":\"' + row['Description'] + '\",'\n        out_string += '\"Customer Number\":\"' + row['Customer Number'] + '\",'\n        out_string += '\"Customer Name\":\"' + row['Customer Name'] + '\",'\n        out_string += '\"Contract Currency\":\"' + row['Contract Currency'] + '\",'\n        out_string += '\"Header Start Date\":\"' + row['Header Start Date'] + '\",'\n        out_string += '\"Header End Date\":\"' + row['Header End Date'] + '\",'\n        out_string += '\"Contract Amount\":\"' + row['Contract Amount'] + '\",'\n        out_string += '\"Inventory Organization\":\"' + row['Inventory Organization'] + '\",'\n        out_string += '\"Billing Entity Number(BSV)\":\"' + str(row['Billing Entity Number(BSV)']) + '\",'\n        out_string += '\"Genarated Invoice Status\":\"' + row['Genarated Invoice Status'] + '\",'\n        out_string += '\"Line Type\":\"' + row['Line Type'] + '\",'\n        out_string += '\"Line Name\":\"' + row['Line Name'] + '\",'\n        out_string += '\"Line Description\":\"' + row['Line Description'] + '\",'\n        out_string += '\"Line Start Date\":\"' + row['Line Start Date'] + '\",'\n        out_string += '\"Line End Date\":\"' + row['Line End Date'] + '\",'\n        out_string += '\"Line Amount\":\"' + row['Line Amount'] + '\",'\n        out_string += '\"PO Number\":\"' + row['PO Number'] + '\",'\n        out_string += '\"Ship To Site\":\"' + row['Ship To Site'] + '\",'\n        out_string += '\"Bill To Site\":\"' + row['Bill To Site'] + '\",'\n        out_string += '\"Bill Plan Name\":\"' + row['Bill Plan Name'] + '\",'\n        out_string += '\"Bill Method\":\"' + row['Bill Method'] + '\",'\n        out_string += '\"Bill set\":\"' + row['Bill set'] + '\",'\n        out_string += '\"Payment Terms\":\"' + row['Payment Terms'] + '\",'\n        out_string += '\"Billing Cycle\":\"' + row['Billing Cycle'] + '\",'\n        out_string += '\"Discount Percentage\":\"' + row['Discount Percentage'] + '\",'\n        out_string += '\"Revenue Plan Name\":\"' + row['Revenue Plan Name'] + '\",'\n        out_string += '\"Revenue Method\":\"' + row['Revenue Method'] + '\",'\n        out_string += '\"Engagement Type\":\"' + row['Engagement Type'] + '\",'\n        out_string += '\"Signed/Work At Risk\":\"' + row['Signed/Work At Risk'] + '\",'\n        out_string += '\"Project Number\":\"' + row['Project Number'] + '\",'\n        out_string += '\"Task Number\":\"' + row['Task Number'] + '\",'\n        out_string += '\"Funded Amount\":\"' + row['Funded Amount'] + '\",'\n        out_string += '\"Message\":\"' + row['Message'] + '\"'\n        out_string += \"},\"\n\n    out_string = out_string[0:len(out_string) - 1]\n    out_string += \"],\"\n\nout_string = out_string[0:len(out_string) - 1]\nout_string += \"]\"\n\nresult = str(out_string)",
				"isAsync":false,
				"python_version":"3.12",
				"captureStdOutput":false,
				"parameters":{
					"reqBody":"{{ n_g1jzk.outputs.body }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Python script",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":828,
				"resourceName":"callables_return_response_to_api",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_RiGOz-1",
			"id":"n_iTFtl",
			"index":3,
			"inputs":{
				"streamingCompleted":true,
				"responseName":"200_undefined",
				"body":"{{ n_t3ZzR.outputs.result }}",
				"status":200
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to API request",
			"type":"STOP"
		}
	],
	"ownerUserId":44105,
	"projectId":1927,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":false,
	"tags":[
		
	],
	"version":7
}
{
	"appsUsed":[
		"storage_by_unifyapps"
	],
	"createdTime":1753270680874,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1759570917833,
		"deployedBy":76193,
		"deployedDefinitionId":"68e0ebe56aaeb4123b9bf2b4",
		"status":"DEPLOYED",
		"version":16,
		"workflowVersion":60
	},
	"edges":[
		{
			"fromNodeId":"n_NEAl4",
			"priority":0,
			"skip":false,
			"toNodeId":"n_WSMBz",
			"type":"next"
		},
		{
			"fromNodeId":"n_WSMBz",
			"priority":0,
			"skip":false,
			"toNodeId":"_L2RjM",
			"type":"next"
		},
		{
			"fromNodeId":"_L2RjM",
			"priority":0,
			"skip":false,
			"toNodeId":"_lo7qR",
			"type":"next"
		},
		{
			"fromNodeId":"_lo7qR",
			"priority":0,
			"skip":false,
			"toNodeId":"n_StsRc",
			"type":"next"
		},
		{
			"fromNodeId":"n_StsRc",
			"priority":0,
			"skip":false,
			"toNodeId":"_BdonV",
			"type":"next"
		},
		{
			"fromNodeId":"_BdonV",
			"priority":0,
			"skip":false,
			"toNodeId":"n_C8UJH",
			"type":"next"
		},
		{
			"fromNodeId":"n_C8UJH",
			"priority":0,
			"skip":false,
			"toNodeId":"n_35MsX",
			"type":"next"
		},
		{
			"fromNodeId":"n_35MsX",
			"priority":0,
			"skip":false,
			"toNodeId":"n_gZTQ7",
			"type":"next"
		}
	],
	"id":"685eb4b2e91eec28672c44f6",
	"lastModifiedBy":76193,
	"lcName":"accounts-from-sfdc",
	"modifiedTime":1759571034449,
	"name":"accounts-from-SFDC",
	"nodes":[
		{
			"additional":{
				"xsdSchemaConfig":{
					"root":{}
				}
			},
			"context":{
				"appName":"callables",
				"resourceVersion":15,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_F5hZx-1",
			"id":"n_NEAl4",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"properties":{
						"records":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"ROOT_ACCOUNT_NAME__c":{
										"type":"string",
										"title":"ROOT_ACCOUNT_NAME__c"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"records"
						}
					},
					"additionalProperties":false
				},
				"setup":{
					"type":"object",
					"properties":{
						"Segment":{
							"type":"string",
							"title":"Segment"
						}
					},
					"additionalProperties":false,
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":15,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_F5hZx-1",
			"id":"n_WSMBz",
			"index":2,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_xxcmn_applicationname",
							"filter":{
								"operator":"EQUAL",
								"value":"AccessToken_URL"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"endpoint_table",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"translationsOption":"DEFAULT",
				"page":{
					"paginateBy":"OFFSET",
					"limit":20
				},
				"numberOfRecordsToFetch":"SINGLE",
				"readThroughSessionVariables":false,
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"AccessToken_URL",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":15,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_F5hZx-1",
			"id":"_L2RjM",
			"index":3,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"baseUrl":{
							"type":"string",
							"title":"Base Url"
						},
						"path":{
							"type":"string",
							"title":"Path"
						}
					},
					"additionalProperties":false,
					"required":[
						"baseUrl",
						"path"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"input":{
							"type":"string",
							"title":"Input"
						}
					},
					"additionalProperties":false,
					"required":[
						"input"
					]
				},
				"compile_static":false,
				"code":"def urlString = input\n        // Create URL object from the string\n        URL url = new URL(urlString)\n        \n        // Extract base URL (protocol + host + port if present)\n        String baseUrl = \"${url.protocol}://${url.host}\"\n        if (url.port != -1) {\n            baseUrl += \":${url.port}\"\n        }\n        \n        // Extract path\n        String path = url.path ?: \"/\"\n        \n        return [\n            \"baseUrl\": baseUrl,\n            \"path\": path\n        ]\n    \n\n",
				"parameters":{
					"input":"{{ n_WSMBz.outputs.properties.xxcmn_endpoint }}"
				}
			},
			"skip":false,
			"subTitle":"AccessToken_URL",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":34,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_F5hZx-1",
			"id":"_lo7qR",
			"index":4,
			"inputs":{
				"automationId":"68c85adbfac1a74ba2228237",
				"runtimeConnections":{},
				"synchronous":true,
				"triggerWorkflowWithRuntimeType":"IN_MEMORY",
				"version":"6",
				"parameters":{
					"Keys":"Virtu-Business-Public-sub-key,Virtusa-Projects-Subscription-Key,fusionUserName,fusionPassword,virtuIntegrationAppClientID,virtuIntegrationAppSecret,virtuIntegrationAppAudiance,ServicenowIntegrationPassword,ServicenowIntegrationUser,Virtusa-Sales-Subscription-Key"
				}
			},
			"options":{
				"bulkheadConfig":{
					"enabled":false,
					"global":false
				},
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"cacheKey":"Virtu-Business-Public-sub-key,Virtusa-Projects-Subscription-Key,fusionUserName,fusionPassword,virtuIntegrationAppClientID,virtuIntegrationAppSecret,virtuIntegrationAppAudiance,ServicenowIntegrationPassword,ServicenowIntegrationUser,Virtusa-Sales-Subscription-Key",
					"enabled":false,
					"timeToLive":"3600",
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				},
				"timeoutConfig":{
					"enabled":false
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":1,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_F5hZx-1",
			"id":"n_StsRc",
			"index":5,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"subscriptionKey",
						"b_subscriptionKey",
						"appAudience",
						"salesSubKey"
					],
					"properties":{
						"subscriptionKey":{
							"type":"string",
							"title":"Subscription Key"
						},
						"fusionUsername":{
							"type":"string",
							"title":"Fusion Username"
						},
						"fusionPassword":{
							"type":"string",
							"title":"Fusion Password"
						},
						"clientID":{
							"type":"string",
							"title":"Client ID"
						},
						"clientSecret":{
							"type":"string",
							"title":"Client Secret"
						},
						"b_subscriptionKey":{
							"type":"string",
							"title":"B Subscription Key"
						},
						"appAudience":{
							"type":"string",
							"title":"App Audience"
						},
						"serviceNowUsername":{
							"type":"string",
							"title":"Service Now Username"
						},
						"serviceNowPassword":{
							"type":"string",
							"title":"Service Now Password"
						},
						"salesSubKey":{
							"type":"string",
							"title":"Sales Sub Key"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"input"
					],
					"properties":{
						"input":{
							"type":"string",
							"title":"Input"
						}
					}
				},
				"code":"\r\nreturn [\r\n    \"appAudience\": \"fb37e32e-cf16-434b-93e6-3420f7bc11f9\",\r\n    \"b_subscriptionKey\": \"2f43f7d7982b42298a17bc98a8e77d4c\",\r\n    \"clientID\": \"fb37e32e-cf16-434b-93e6-3420f7bc11f9\",\r\n    \"clientSecret\": \"-x78Q~hqobOag7~iajzYchgfM3YXPvMlvTEEDa38\",\r\n    \"fusionPassword\": \"Welcome@123\",\r\n    \"fusionUsername\": \"fusionmwuser\",\r\n    \"salesSubKey\": \"df7787d3fdb0436fa14ddfec5326f3ac\",\r\n    \"serviceNowPassword\": \"Azureintegr@tion123\",\r\n    \"serviceNowUsername\": \"azureintegration\",\r\n    \"subscriptionKey\": \"d6f3f63f50854c0990cd61dbd7e64057\"\r\n]\r\n",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"input":"{{ _lo7qR.outputs.Secrets }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"xsdSchemaConfig":{
					"root":{}
				}
			},
			"context":{
				"appName":"custom_http_endpoint",
				"resourceVersion":16,
				"resourceName":"custom_http_endpoint_execute_multipart",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_F5hZx-1",
			"id":"_BdonV",
			"index":6,
			"inputs":{
				"isAsync":false,
				"enableProxy":false,
				"requestTimeoutInSecs":-1,
				"httpMethod":"POST",
				"body":{
					"grant_type":"client_credentials",
					"client_id":"{{ n_StsRc.outputs.result.clientID }}",
					"client_secret":"{{ n_StsRc.outputs.result.clientSecret }}",
					"resource":"{{ n_StsRc.outputs.result.appAudience }}"
				},
				"connectionType":"DIRECT",
				"sslVerify":false,
				"path":"{{ _L2RjM.outputs.result.path }}",
				"responseSchema":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"access_token"
					],
					"properties":{
						"access_token":{
							"type":"string",
							"title":"Access Token"
						}
					}
				},
				"baseUrl":"{{ _L2RjM.outputs.result.baseUrl }}",
				"httpVersion":"HTTP_2",
				"bodySchema":{
					"type":"object",
					"additionalProperties":false,
					"properties":{
						"client_id":{
							"type":"string",
							"title":"client_id"
						},
						"grant_type":{
							"type":"string",
							"title":"grant_type"
						},
						"client_secret":{
							"type":"string",
							"title":"client_secret"
						},
						"resource":{
							"type":"string",
							"title":"resource"
						}
					}
				},
				"responseContentType":"application/json",
				"headersList":[
					{
						"key":"Content-Type",
						"value":"application/x-www-form-urlencoded"
					},
					{
						"key":"Ocp-Apim-Subscription-Key",
						"value":"{{ n_StsRc.outputs.result.b_subscriptionKey }}"
					}
				],
				"authType":"CUSTOM",
				"requestContentType":"application/json",
				"ignoreTrailingSlashes":false
			},
			"options":{
				"bulkheadConfig":{
					"enabled":false,
					"global":false
				},
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false,
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"Custom HTTP Endpoint",
			"title":"Execute REST multipart request",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":15,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_F5hZx-1",
			"id":"n_C8UJH",
			"index":7,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"encodedSegments":{
							"type":"string",
							"title":"Encoded Segments"
						}
					},
					"additionalProperties":false,
					"required":[
						"encodedSegments"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"segment":{
							"type":"string",
							"title":"Segment"
						}
					},
					"additionalProperties":false,
					"required":[
						"segment"
					]
				},
				"compile_static":false,
				"code":"// Simulate input from Compose_2\ndef compose2Output = segment\n// Custom URI encoder (basic version)\ndef encodeUriComponent(String input) {\n    input\n        .replaceAll('%', '%25')\n        .replaceAll(' ', '%20')\n        .replaceAll('!', '%21')\n        .replaceAll('\"', '%22')\n        .replaceAll('#', '%23')\n        .replaceAll('\\\\$', '%24')\n        .replaceAll('&', '%26')\n        .replaceAll('\\'', '%27')\n        .replaceAll('\\\\(', '%28')\n        .replaceAll('\\\\)', '%29')\n        .replaceAll('\\\\*', '%2A')\n        .replaceAll('\\\\+', '%2B')\n        .replaceAll(',', '%2C')\n        .replaceAll('/', '%2F')\n        .replaceAll(':', '%3A')\n        .replaceAll(';', '%3B')\n        .replaceAll('=', '%3D')\n        .replaceAll('\\\\?', '%3F')\n        .replaceAll('@', '%40')\n        .replaceAll('\\\\[', '%5B')\n        .replaceAll(']', '%5D')\n}\n// Encode the input\ndef encodedSegments = encodeUriComponent(compose2Output)\n// Print the result\nreturn [\"encodedSegments\": encodedSegments ]",
				"parameters":{
					"segment":"{{ n_NEAl4.outputs.Segment }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"custom_http_endpoint",
				"resourceVersion":15,
				"resourceName":"custom_http_endpoint_execute",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_F5hZx-1",
			"id":"n_35MsX",
			"index":8,
			"inputs":{
				"isAsync":false,
				"enableProxy":false,
				"requestTimeoutInSecs":-1,
				"httpMethod":"GET",
				"connectionType":"DIRECT",
				"sslVerify":false,
				"path":"/sfdc-api/v1/execute-query?q=SELECT%20ROOT_ACCOUNT_NAME__c%20FROM%20Account%20Where%20SBU_Segment__c%20in%20('{{ n_C8UJH.outputs.result.encodedSegments }}')%20",
				"responseSchema":{
					"type":"object",
					"properties":{
						"records":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"attributes":{
										"type":"object",
										"properties":{
											"type":{
												"type":"string",
												"title":"type"
											},
											"url":{
												"type":"string",
												"title":"url"
											}
										},
										"title":"attributes",
										"additionalProperties":false
									},
									"ROOT_ACCOUNT_NAME__c":{
										"type":"string",
										"title":"ROOT_ACCOUNT_NAME__c"
									}
								},
								"additionalProperties":false
							},
							"title":"records"
						}
					},
					"additionalProperties":false
				},
				"baseUrl":"https://api.virtusa.com",
				"responseContentType":"application/json",
				"headersList":[
					{
						"key":"Ocp-Apim-Subscription-Key",
						"value":"fd2e27758beb45f2b53436c8ecf7fff4"
					},
					{
						"key":"Authorization",
						"value":"{{ _BdonV.outputs.result.access_token }}"
					}
				],
				"authType":"CUSTOM",
				"requestContentType":"application/json",
				"ignoreTrailingSlashes":false
			},
			"skip":false,
			"subTitle":"Custom HTTP Endpoint",
			"title":"Execute REST request",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.result.G_1.source",
					"root.result.G_1.ua:type",
					"root.result.G_1.items.PROJECT_ID",
					"root.result.G_1.items.PERCENT_COMPLETE",
					"root.result.G_1.items.RECOGNISED_REVENUE",
					"root.result.G_1.items.CUM_RECOGNISED_REVENUE",
					"root.result.G_1.items.CUMULATIVE_BILLING_POSITION",
					"root.result.G_1.items.CHANGE_REVENUE_MILESTONES",
					"root.result.G_1.items.AS_OF_DATE",
					"root.result.G_1.items.PROGRESS_PERIOD",
					"root.result.G_1.items.TOTAL_PLAN_EFFORT",
					"root.result.G_1.items.PROJECT_NUMBER",
					"root.result.G_1.items.MILESTONES_BILLED_OVER_THE_MONTHS",
					"root.result.G_1.items.MONTH_ON_MONTH_VARIATION",
					"root.result.G_1.items.PRECENTAGE_OF_UNBILLED_VS_PRECENTAGE_OF_DEFFERED",
					"root.result.G_1.items.ACTUAL_EFFORT",
					"root.result.G_1.items.EFFORTS",
					"root.result.G_1.items.VARIANCE_PRECENTAGE"
				]
			},
			"context":{
				"appName":"callables",
				"resourceVersion":15,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_F5hZx-1",
			"id":"n_gZTQ7",
			"index":9,
			"inputs":{
				"result":{
					"records":{
						"source":"{{ n_35MsX.outputs.result.records }}",
						"ua:type":"mappedArray",
						"items":{
							"ROOT_ACCOUNT_NAME__c":"{{ n_35MsX.outputs.result.records[0].ROOT_ACCOUNT_NAME__c }}"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":76193,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":false,
		"route":{
			"default":false,
			"headerValueTierMap":{},
			"tierName":"global"
		}
	},
	"standard":false,
	"tags":[
		
	],
	"version":62
}
{
	"appsUsed":[
		"storage_by_unifyapps"
	],
	"createdTime":1750490286159,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1759243554647,
		"deployedBy":-1,
		"deployedDefinitionId":"68dbed225e003e08cdeb2ee9",
		"status":"DEPLOYED",
		"version":45,
		"workflowVersion":69
	},
	"edges":[
		{
			"fromNodeId":"eQz45",
			"priority":0,
			"skip":false,
			"toNodeId":"PnCtR",
			"type":"next"
		},
		{
			"fromNodeId":"PnCtR",
			"priority":0,
			"skip":false,
			"toNodeId":"zVBIB",
			"type":"next"
		},
		{
			"fromNodeId":"zVBIB",
			"priority":0,
			"skip":false,
			"toNodeId":"on9FA",
			"type":"next"
		},
		{
			"fromNodeId":"on9FA",
			"priority":0,
			"skip":false,
			"toNodeId":"3Z2tC",
			"type":"loop"
		},
		{
			"fromNodeId":"3Z2tC",
			"priority":0,
			"skip":false,
			"toNodeId":"tzUmv",
			"type":"next"
		},
		{
			"fromNodeId":"tzUmv",
			"priority":0,
			"skip":false,
			"toNodeId":"X5Crd",
			"type":"loop"
		},
		{
			"fromNodeId":"X5Crd",
			"priority":0,
			"skip":false,
			"toNodeId":"Hmx3I",
			"type":"next"
		},
		{
			"fromNodeId":"Hmx3I",
			"priority":0,
			"skip":false,
			"toNodeId":"vqHGW",
			"type":"loop"
		},
		{
			"fromNodeId":"vqHGW",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"Hmx3I",
			"type":"next"
		},
		{
			"fromNodeId":"Hmx3I",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"tzUmv",
			"type":"next"
		},
		{
			"fromNodeId":"tzUmv",
			"priority":0,
			"skip":false,
			"toNodeId":"7UCJn",
			"type":"next"
		},
		{
			"fromNodeId":"7UCJn",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"on9FA",
			"type":"next"
		},
		{
			"fromNodeId":"on9FA",
			"priority":0,
			"skip":false,
			"toNodeId":"yRz3p",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"683fd6772fd52d16111b609f",
	"lastModifiedBy":-1,
	"lcName":"graphrag | knowledge set indexer",
	"modifiedTime":1759243586986,
	"name":"GraphRAG | Knowledge Set Indexer",
	"nodes":[
		{
			"context":{
				"appName":"webhooks",
				"resourceVersion":2,
				"resourceName":"webhooks_default"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Ujps4-1",
			"id":"eQz45",
			"index":0,
			"inputs":{
				"request":{
					"contentType":"application/json",
					"body":{
						"type":"object",
						"properties":{
							"knowledgeSetId":{
								"type":"string",
								"title":"Knowledge Set Id"
							},
							"knowledgeIds":{
								"type":"array",
								"items":{
									"type":"string"
								},
								"title":"Knowledge Ids"
							}
						},
						"additionalProperties":false,
						"required":[
							"knowledgeSetId",
							"knowledgeIds"
						]
					}
				}
			},
			"skip":false,
			"subTitle":"Webhook",
			"title":"New event",
			"trigger":{
				"type":"WEBHOOK"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":2,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Ujps4-1",
			"id":"PnCtR",
			"index":0,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"createdTime":{
							"type":"number",
							"title":"Created Time"
						}
					},
					"required":[
						"createdTime"
					]
				}
			},
			"inputs":{
				"createdTime":0
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"createdTime":{
							"type":"number",
							"title":"Created Time"
						}
					},
					"required":[
						"createdTime"
					]
				}
			},
			"skip":false,
			"subTitle":"Variable",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":83,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Ujps4-1",
			"id":"zVBIB",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"entityTypes":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"entityTypes"
						},
						"domainContext":{
							"type":"string",
							"title":"domainContext"
						}
					},
					"additionalProperties":false
				},
				"compile_static":false,
				"code":"return [\n  // entityTypes: [\"\"],  // This is very important. Needs to be configured based on knowledge context.\n  // // default:\n  entityTypes: [\"Person\", \"Concept\", \"Place\", \"Event\", \"Date\", \"Theme\", \"Organization\", \"Department\", \"Object\", \"Animal\", \"Activity\", \"Policy\", \"Equipment\", \"Level\"],\n  domainContext: \"Glean as many entities you can find with relevant entity types. If in doubt, use the 'object' type but do not skip any entity.\"  // This can be empty\n]"
			},
			"skip":false,
			"subTitle":"GraphRAG setup",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":2,
				"resourceName":"loop_while",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Ujps4-1",
			"id":"on9FA",
			"index":0,
			"inputs":{
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"While loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"on9FA@Ujps4-1@l",
			"id":"3Z2tC",
			"index":0,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"createdTime",
							"filter":{
								"operator":"GT",
								"value":"{{ PnCtR.outputs.createdTime }}"
							}
						},
						{
							"filters":[
								{
									"property":"properties.knowledgeSetId",
									"filter":{
										"operator":"EQUAL",
										"value":"{{ eQz45.outputs.body.knowledgeSetId }}"
									}
								}
							],
							"operator":"OR"
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge_vector_store_open_ai_3072",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"sortBy":[
					{
						"field":"cTm",
						"order":"ASC"
					}
				],
				"page":{
					"paginateBy":"OFFSET",
					"limit":100
				},
				"numberOfRecordsToFetch":"MULTIPLE",
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"Storage",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":2,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"on9FA@Ujps4-1@l",
			"id":"tzUmv",
			"index":0,
			"inputs":{
				"repeatMode":"BATCH",
				"listSource":"{{ 3Z2tC.outputs.objects }}",
				"captureIterations":false,
				"batchSize":100
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":87,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"tzUmv@on9FA@Ujps4-1@l@l",
			"id":"X5Crd",
			"index":0,
			"inputs":{
				"automationId":"67d974b49fd67f0caf7bbbde",
				"runtimeConnections":{},
				"synchronous":false,
				"version":"-1",
				"parameters":{
					"simThreshold":0.825,
					"customGraphID":"{{ eQz45.outputs.body.knowledgeSetId }}",
					"domainContext":"{{ zVBIB.outputs.result.domainContext }}",
					"entityTypes":{
						"source":"{{ zVBIB.outputs.result.entityTypes }}",
						"ua:type":"mappedArray",
						"items":"{{ zVBIB.outputs.result.entityTypes[0] }}"
					},
					"chunks":{
						"ua:type":"mappedArray",
						"items":{
							"sharedWithIds":{
								"ua:type":"mappedArray",
								"source":"{{ tzUmv.outputs.item[0].properties.sharedWithIds }}",
								"items":"{{ tzUmv.outputs.item[0].properties.sharedWithIds[0] }}"
							},
							"data":"{{ tzUmv.outputs.item[0].properties.text }}",
							"chunkMetadata":"{{ tzUmv.outputs.item[0].properties.chunkMetadata }}",
							"knowledgeId":"{{ tzUmv.outputs.item[0].properties.knowledgeId }}",
							"knowledgeVersion":"{{ tzUmv.outputs.item[0].properties.knowledgeVersion }}",
							"uniqueEntityId":"{{ tzUmv.outputs.item[0].properties.uniqueEntityId }}",
							"authorEmail":"{{ tzUmv.outputs.item[0].properties.authorEmail }}"
						},
						"source":"{{ tzUmv.outputs.item }}"
					}
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"duration":"1",
					"enabled":true,
					"threshold":"10",
					"waitForNextWindow":true
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"GraphRAG",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":2,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"tzUmv@on9FA@Ujps4-1@l@l",
			"id":"Hmx3I",
			"index":0,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ tzUmv.outputs.item }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":2,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Hmx3I@tzUmv@on9FA@Ujps4-1@l@l@l",
			"id":"vqHGW",
			"index":0,
			"inputs":{
				"variables":[
					{
						"source":"{{ PnCtR.outputs.createdTime }}",
						"value":"{{ Hmx3I.outputs.item.createdTime }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"break",
				"resourceVersion":2,
				"resourceName":"break",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"on9FA@Ujps4-1@l",
			"id":"7UCJn",
			"index":0,
			"inputs":{
				"loop":"on9FA",
				"conditions":{
					"filters":[
						{
							"property":"=LEN({{ 3Z2tC.outputs.objects }})",
							"filter":{
								"operator":"LT",
								"value":"1"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"subTitle":"Break",
			"title":"Break",
			"type":"BREAK"
		},
		{
			"context":{
				"appName":"stop"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Ujps4-1",
			"id":"yRz3p",
			"index":0,
			"skip":false,
			"subTitle":"Stop",
			"title":"Stop",
			"type":"STOP"
		}
	],
	"ownerUserId":1728,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"version":70
}
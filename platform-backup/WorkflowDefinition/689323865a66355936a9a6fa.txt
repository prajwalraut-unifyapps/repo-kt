{
	"appsUsed":[
		
	],
	"createdTime":1756795874239,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1758655401886,
		"deployedBy":0,
		"deployedDefinitionId":"68d2f3a938757c179b123d9a",
		"status":"DEPLOYED",
		"version":12,
		"workflowVersion":62
	},
	"edges":[
		{
			"fromNodeId":"n_2Mhg0",
			"priority":0,
			"skip":false,
			"toNodeId":"n_mHTT5",
			"type":"next"
		},
		{
			"fromNodeId":"n_mHTT5",
			"priority":0,
			"skip":false,
			"toNodeId":"n_xly7l",
			"type":"next"
		},
		{
			"fromNodeId":"n_xly7l",
			"name":"1",
			"priority":0,
			"skip":false,
			"toNodeId":"n_xly7l@1",
			"type":"branch"
		},
		{
			"fromNodeId":"n_xly7l@1",
			"priority":0,
			"skip":false,
			"toNodeId":"_atEml",
			"type":"next"
		},
		{
			"fromNodeId":"n_xly7l",
			"name":"3",
			"priority":0,
			"skip":false,
			"toNodeId":"n_xly7l@3",
			"type":"branch"
		},
		{
			"fromNodeId":"n_xly7l@3",
			"priority":0,
			"skip":false,
			"toNodeId":"_jydsv",
			"type":"next"
		},
		{
			"fromNodeId":"n_xly7l",
			"name":"4",
			"priority":0,
			"skip":false,
			"toNodeId":"n_xly7l@4",
			"type":"branch"
		},
		{
			"fromNodeId":"n_xly7l@4",
			"priority":0,
			"skip":false,
			"toNodeId":"_P97Pz",
			"type":"next"
		},
		{
			"fromNodeId":"_P97Pz",
			"priority":0,
			"skip":false,
			"toNodeId":"n_bFhCv",
			"type":"next"
		},
		{
			"fromNodeId":"n_xly7l",
			"name":"7",
			"priority":0,
			"skip":false,
			"toNodeId":"n_xly7l@7",
			"type":"branch"
		},
		{
			"fromNodeId":"n_xly7l@7",
			"priority":0,
			"skip":false,
			"toNodeId":"_jYxdn",
			"type":"next"
		},
		{
			"fromNodeId":"n_xly7l",
			"name":"5",
			"priority":0,
			"skip":false,
			"toNodeId":"n_xly7l@5",
			"type":"branch"
		},
		{
			"fromNodeId":"n_xly7l@5",
			"priority":0,
			"skip":false,
			"toNodeId":"n_u0QeS",
			"type":"next"
		},
		{
			"fromNodeId":"_atEml",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Xavax",
			"type":"next"
		},
		{
			"fromNodeId":"_jydsv",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Xavax",
			"type":"next"
		},
		{
			"fromNodeId":"n_bFhCv",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Xavax",
			"type":"next"
		},
		{
			"fromNodeId":"_jYxdn",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Xavax",
			"type":"next"
		},
		{
			"fromNodeId":"n_u0QeS",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Xavax",
			"type":"next"
		},
		{
			"fromNodeId":"n_xly7l",
			"name":"default",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Xavax",
			"type":"branch"
		},
		{
			"fromNodeId":"n_Xavax",
			"priority":0,
			"skip":false,
			"toNodeId":"n_RgTBN",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"689323865a66355936a9a6fa",
	"lastModifiedBy":-1,
	"lcName":"metering | enterprise search | statcards and datasource usage",
	"modifiedTime":1759243580294,
	"name":"Metering | Enterprise Search | StatCards and DataSource usage",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":447,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_cNV7f-1",
			"id":"n_2Mhg0",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"totalQueries":{
							"type":"integer",
							"title":"Total Queries"
						},
						"successRatio":{
							"type":"number",
							"title":"Success Ratio"
						},
						"averageResponseTime":{
							"type":"number",
							"title":"Average Response Time"
						},
						"sourcePercentageUse":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"columns":{
										"type":"object",
										"properties":{
											"appName":{
												"type":"string",
												"title":"App Name",
												"foreignKey":{
													"primaryFieldValueJsonPath":"objects[*].columns.appName",
													"reference":"ENTITY_ID:e_node_builder_record"
												}
											},
											"sourcePercentageUse":{
												"type":"integer",
												"title":"Source Percentage Use"
											}
										},
										"additionalProperties":false,
										"title":"Columns",
										"required":[]
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"Source Percentage Use"
						},
						"totalSources":{
							"type":"integer",
							"title":"Total Sources"
						},
						"queriesPerUser":{
							"type":"number",
							"title":"Queries Per User"
						}
					}
				},
				"setup":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"since":{
							"type":"integer",
							"title":"Since"
						},
						"until":{
							"type":"integer",
							"title":"Until"
						},
						"previousSince":{
							"type":"integer",
							"title":"Previous Since"
						},
						"previousUntil":{
							"type":"integer",
							"title":"Previous Until"
						},
						"filter":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Filter"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":451,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_cNV7f-1",
			"id":"n_mHTT5",
			"index":2,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"startTime":{
							"type":"integer",
							"title":"Start Time"
						},
						"endTime":{
							"type":"integer",
							"title":"End Time"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"since":{
							"type":"integer",
							"title":"Since"
						},
						"until":{
							"type":"integer",
							"title":"Until"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"import groovy.time.TimeCategory\n\ndef startTime\ndef endTime\n\n// Step 1: Determine endTime\nif (binding.hasVariable('until')) {\n    endTime = until\n} else {\n    endTime = new Date().time\n}\n\n// Step 2: Determine startTime\nif (binding.hasVariable('since')) {\n    startTime = since\n} else {\n    use(TimeCategory) {\n        startTime = (new Date(endTime) - 30.days).time  // 30 days before endTime\n    }\n}\n\nreturn [startTime: startTime, endTime: endTime]\n",
				"parameters":{
					"since":"{{ n_2Mhg0.outputs.since }}",
					"until":"{{ n_2Mhg0.outputs.until }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"branch",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_cNV7f-1",
			"id":"n_xly7l",
			"index":3,
			"inputs":{
				"branches":[
					{
						"id":"1",
						"inputs":{
							"name":"Total Queries Queries"
						}
					},
					{
						"id":"3",
						"inputs":{
							"name":"Success Rate"
						}
					},
					{
						"id":"4",
						"inputs":{
							"name":"Data Source Usage"
						}
					},
					{
						"id":"7",
						"inputs":{
							"name":"Average Response Time"
						}
					},
					{
						"id":"5",
						"inputs":{
							"name":"Query/User"
						}
					},
					{
						"id":"default"
					}
				]
			},
			"skip":false,
			"subTitle":"Branch",
			"title":"",
			"type":"BRANCH"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":0,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_xly7l@_cNV7f-1@1",
			"id":"n_xly7l@1",
			"index":4,
			"inputs":{
				"name":"Total Queries Queries"
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"analytics_by_unifyapps",
				"resourceVersion":454,
				"resourceName":"analytics_by_unifyapps_query_reports",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_xly7l@_cNV7f-1@1",
			"id":"_atEml",
			"index":5,
			"inputs":{
				"projections":[
					{
						"aggregationFunction":"COUNT",
						"includePercentageChange":false,
						"name":"ENTITY_e_traces=::=ID",
						"alias":"count"
					}
				],
				"filter":{
					"filters":[
						{
							"property":"ENTITY_e_traces=::=fromAutomationId",
							"filter":{
								"operator":"EQUAL",
								"value":"66966960e8797a59f4a46292"
							}
						},
						{
							"property":"ENTITY_e_traces=::=aiAgentId",
							"filter":{
								"operator":"EQUAL",
								"value":"enterprise_search_agent"
							}
						},
						{
							"resolvedFilter":{
								"filter":"{{ n_2Mhg0.outputs.filter }}"
							}
						}
					],
					"operator":"AND"
				},
				"entityType":"ENTITY_e_traces",
				"includeTotalHits":false,
				"timeFilter":{
					"since":"{{ n_mHTT5.outputs.result.startTime }}",
					"until":"{{ n_mHTT5.outputs.result.endTime }}"
				},
				"group":"ENTITY_REPORTING"
			},
			"skip":false,
			"subTitle":"Fetch Total Queries",
			"title":"Analytics Query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":0,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_xly7l@_cNV7f-1@3",
			"id":"n_xly7l@3",
			"index":6,
			"inputs":{
				"name":"Success Rate"
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"analytics_by_unifyapps",
				"resourceVersion":454,
				"resourceName":"analytics_by_unifyapps_query_reports",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_xly7l@_cNV7f-1@3",
			"id":"_jydsv",
			"index":7,
			"inputs":{
				"projections":[
					{
						"aggregationFunction":"COUNT",
						"includePercentageChange":false,
						"name":"ENTITY_e_traces=::=messageId",
						"alias":"errorCount"
					},
					{
						"aggregationFunction":"GROUP",
						"includePercentageChange":false,
						"name":"ENTITY_service_hub_message=::=content__agentResponse__executionError",
						"alias":"execError"
					}
				],
				"filter":{
					"filters":[
						{
							"property":"ENTITY_e_traces=::=fromAutomationId",
							"filter":{
								"operator":"EQUAL",
								"value":"66966960e8797a59f4a46292"
							}
						},
						{
							"property":"ENTITY_e_traces=::=aiAgentId",
							"filter":{
								"operator":"EQUAL",
								"value":"enterprise_search_agent"
							}
						},
						{
							"resolvedFilter":{
								"filter":"{{ n_2Mhg0.outputs.filter }}"
							}
						},
						{
							"property":"ENTITY_service_hub_message=::=content__agentResponse__executionError",
							"filter":{
								"operator":"EXISTS"
							}
						},
						{
							"property":"ENTITY_service_hub_message=::=content__agentResponse__executionError",
							"filter":{
								"operator":"NOT_EQUAL",
								"value":""
							}
						}
					],
					"operator":"AND"
				},
				"entityType":"ENTITY_e_traces",
				"includeTotalHits":false,
				"timeFilter":{
					"since":"{{ n_mHTT5.outputs.result.startTime }}",
					"until":"{{ n_mHTT5.outputs.result.endTime }}"
				},
				"group":"ENTITY_REPORTING"
			},
			"skip":false,
			"subTitle":"Failed Queries",
			"title":"Analytics Query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":0,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_xly7l@_cNV7f-1@4",
			"id":"n_xly7l@4",
			"index":8,
			"inputs":{
				"name":"Data Source Usage"
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"analytics_by_unifyapps",
				"resourceVersion":454,
				"resourceName":"analytics_by_unifyapps_query_reports",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_xly7l@_cNV7f-1@4",
			"id":"_P97Pz",
			"index":9,
			"inputs":{
				"projections":[
					{
						"aggregationFunction":"GROUP",
						"includePercentageChange":false,
						"name":"ENTITY_citation_store=::=metadata__appName",
						"alias":"appName"
					},
					{
						"aggregationFunction":"COUNT",
						"includePercentageChange":false,
						"name":"ENTITY_citation_store=::=COUNT",
						"alias":"count"
					}
				],
				"filter":{
					"filters":[
						{
							"resolvedFilter":{
								"filter":"{{ n_2Mhg0.outputs.filter }}"
							}
						},
						{
							"property":"ENTITY_citation_store=::=metadata__appName",
							"filter":{
								"operator":"EXISTS"
							}
						},
						{
							"property":"ENTITY_service_hub_case=::=additional__aiAgentId",
							"filter":{
								"operator":"EQUAL",
								"value":"enterprise_search_agent"
							}
						}
					],
					"operator":"AND"
				},
				"entityType":"ENTITY_citation_store",
				"timeFilter":{
					"since":"{{ n_mHTT5.outputs.result.startTime }}",
					"until":"{{ n_mHTT5.outputs.result.endTime }}"
				},
				"group":"ENTITY_REPORTING"
			},
			"skip":false,
			"subTitle":"Fetch Error Count on Fan Message",
			"title":"Analytics Query",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.appNameVsCount.items.appName",
					"root.parameters.appNameVsCount.items.usageCount"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":451,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_xly7l@_cNV7f-1@4",
			"id":"n_bFhCv",
			"index":10,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"sourcePercentageUse":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"columns":{
										"type":"object",
										"properties":{
											"appName":{
												"type":"string",
												"title":"appName"
											},
											"sourcePercentageUse":{
												"type":"integer",
												"title":"sourcePercentageUse"
											}
										},
										"title":"columns",
										"additionalProperties":false
									}
								},
								"additionalProperties":false
							},
							"title":"sourcePercentageUse"
						},
						"totalSources":{
							"type":"integer",
							"title":"totalSources"
						}
					},
					"additionalProperties":false
				},
				"input":{
					"type":"object",
					"properties":{
						"appNameVsCount":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"appName":{
										"type":"string",
										"title":"App Name"
									},
									"usageCount":{
										"type":"integer",
										"title":"Usage Count"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"App Name Vs Count"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"if (binding.hasVariable('appNameVsCount') && appNameVsCount) {\n\n    // Calculate total usage\n    def totalUsage = appNameVsCount.sum { it.usageCount ?: 0 }\n\n    // Convert usage map to array of objects with percentages\n    def usageWithPct = appNameVsCount.collect { entry ->\n        def percentage = totalUsage ? (entry.usageCount / totalUsage.toDouble() * 100).round(2) : 0\n        [\n            appName: entry.appName,\n            percentage: percentage\n        ]\n    }\n\n    // Sort descending by percentage\n    usageWithPct.sort { -it.percentage }\n\n    // Take top 5\n    def top5 = usageWithPct.take(5)\n\n    // Group the rest into \"Others\"\n    def othersPct = usageWithPct.drop(5)*.percentage.sum() ?: 0\n    if (othersPct > 0) {\n        top5 << [appName: \"Others\", percentage: othersPct.round(2)]\n    }\n\n    // Wrap result\n    def sourcePercentageUse = top5.collect {\n        [columns: [appName: it.appName, sourcePercentageUse: it.percentage]]\n    }\n\n    return [\n        sourcePercentageUse: sourcePercentageUse,\n        totalSources       : appNameVsCount.size()\n    ]\n}\n\nreturn [sourcePercentageUse: [], totalSources: 0]",
				"parameters":{
					"appNameVsCount":{
						"source":"{{ _P97Pz.outputs.objects }}",
						"ua:type":"mappedArray",
						"items":{
							"appName":"{{ _P97Pz.outputs.objects[0].columns.appName }}",
							"usageCount":"{{ _P97Pz.outputs.objects[0].columns.count }}"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Calculate Source Percentage Usage",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":0,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_xly7l@_cNV7f-1@7",
			"id":"n_xly7l@7",
			"index":11,
			"inputs":{
				"name":"Average Response Time"
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"analytics_by_unifyapps",
				"resourceVersion":454,
				"resourceName":"analytics_by_unifyapps_query_reports",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_xly7l@_cNV7f-1@7",
			"id":"_jYxdn",
			"index":12,
			"inputs":{
				"projections":[
					{
						"aggregationFunction":"AVG",
						"includePercentageChange":false,
						"name":"ENTITY_service_hub_message=::=additional__responseTime",
						"alias":"avgResponseTime"
					},
					{
						"aggregationFunction":"GROUP",
						"includePercentageChange":false,
						"name":"ENTITY_e_traces=::=aiAgentId",
						"alias":"agentId"
					}
				],
				"filter":{
					"filters":[
						{
							"property":"ENTITY_e_traces=::=fromAutomationId",
							"filter":{
								"operator":"EQUAL",
								"value":"66966960e8797a59f4a46292"
							}
						},
						{
							"property":"ENTITY_e_traces=::=aiAgentId",
							"filter":{
								"operator":"EQUAL",
								"value":"enterprise_search_agent"
							}
						},
						{
							"resolvedFilter":{
								"filter":"{{ n_2Mhg0.outputs.filter }}"
							}
						}
					],
					"operator":"AND"
				},
				"entityType":"ENTITY_e_traces",
				"includeTotalHits":false,
				"timeFilter":{
					"since":"{{ n_mHTT5.outputs.result.startTime }}",
					"until":"{{ n_mHTT5.outputs.result.endTime }}"
				},
				"group":"ENTITY_REPORTING"
			},
			"skip":false,
			"subTitle":"Fetch Response Time",
			"title":"Analytics Query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":0,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_xly7l@_cNV7f-1@5",
			"id":"n_xly7l@5",
			"index":13,
			"inputs":{
				"name":"Query/User"
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"analytics_by_unifyapps",
				"resourceVersion":456,
				"resourceName":"analytics_by_unifyapps_query_reports",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_xly7l@_cNV7f-1@5",
			"id":"n_u0QeS",
			"index":14,
			"inputs":{
				"projections":[
					{
						"aggregationFunction":"DISTINCT_COUNT",
						"includePercentageChange":false,
						"name":"USER=::=USER_ID",
						"alias":"userCount"
					}
				],
				"filter":{
					"filters":[
						{
							"property":"ENTITY_e_traces=::=fromAutomationId",
							"filter":{
								"operator":"EQUAL",
								"value":"66966960e8797a59f4a46292"
							}
						},
						{
							"property":"ENTITY_e_traces=::=aiAgentId",
							"filter":{
								"operator":"EQUAL",
								"value":"enterprise_search_agent"
							}
						}
					],
					"operator":"AND"
				},
				"entityType":"ENTITY_e_traces",
				"page":{
					"offset":0,
					"limit":100000
				},
				"timeFilter":{
					"since":"{{ n_mHTT5.outputs.result.startTime }}",
					"until":"{{ n_mHTT5.outputs.result.endTime }}"
				},
				"group":"ENTITY_REPORTING"
			},
			"skip":false,
			"subTitle":"Query / User",
			"title":"Analytics Query",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.uniqueErrorCount.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":451,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_cNV7f-1",
			"id":"n_Xavax",
			"index":15,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"successRatio":{
							"type":"number",
							"title":"Success Ratio"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"totalQueries":{
							"type":"integer",
							"title":"Total Queries"
						},
						"uniqueErrorCount":{
							"type":"array",
							"items":{
								"type":"integer"
							},
							"title":"Unique Error Count"
						}
					}
				},
				"compile_static":false,
				"code":"if (!binding.hasVariable('uniqueErrorCount') || (uniqueErrorCount && uniqueErrorCount.size()==0)) {\n  return [\"successRatio\": 100]\n}\n\nint errorCount = uniqueErrorCount.sum() as int\nint totalSuccess = totalQueries - errorCount\n\ndouble successRatio = (totalSuccess / totalQueries.toDouble()) * 100\n\nreturn [\"successRatio\": successRatio]",
				"parameters":{
					"totalQueries":"{{ _atEml.outputs.objects[0].columns.count }}",
					"uniqueErrorCount":{
						"source":"{{ _jydsv.outputs.objects }}",
						"ua:type":"mappedArray",
						"items":"{{ _jydsv.outputs.objects[0].columns.errorCount }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Calculate Success Ratio",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":457,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_cNV7f-1",
			"id":"n_RgTBN",
			"index":16,
			"inputs":{
				"result":{
					"totalQueries":"=TEXT({{ _atEml.outputs.objects[0].columns.count }}, \"#,##0\")",
					"successRatio":"=ROUND({{ n_Xavax.outputs.result.successRatio }}, 2)",
					"averageResponseTime":"=ROUND({{ _jYxdn.outputs.objects[0].columns.avgResponseTime }},2)",
					"totalSources":"{{ n_bFhCv.outputs.result.totalSources }}",
					"queriesPerUser":"=ROUND({{ _atEml.outputs.objects[0].columns.count }}/{{ n_u0QeS.outputs.objects[0].columns.userCount }},0)",
					"sourcePercentageUse":{
						"source":"{{ n_bFhCv.outputs.result.sourcePercentageUse }}",
						"ua:type":"mappedArray",
						"items":{
							"columns":{
								"appName":"{{ n_bFhCv.outputs.result.sourcePercentageUse[0].columns.appName }}",
								"sourcePercentageUse":"{{ n_bFhCv.outputs.result.sourcePercentageUse[0].columns.sourcePercentageUse }}"
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":33860,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		
	],
	"version":63
}
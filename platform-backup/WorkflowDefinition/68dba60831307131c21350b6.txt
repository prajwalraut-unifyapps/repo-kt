{
	"appsUsed":[
		"figma"
	],
	"createdTime":1759225352240,
	"deleted":false,
	"edges":[
		{
			"fromNodeId":"n_FwUrL",
			"priority":0,
			"skip":false,
			"toNodeId":"n_uqNcn",
			"type":"next"
		},
		{
			"fromNodeId":"n_uqNcn",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Xwx8B",
			"type":"next"
		}
	],
	"id":"68dba60831307131c21350b6",
	"lastModifiedBy":155341,
	"lcName":"testt",
	"modifiedTime":1759231970689,
	"name":"testt",
	"nodes":[
		{
			"context":{
				"appName":"schedule",
				"resourceVersion":814,
				"resourceName":"schedule_default"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_6onmr-1",
			"id":"n_FwUrL",
			"index":1,
			"inputs":{
				"cron":"INTERVAL",
				"sequential":false,
				"interval":15,
				"frequency":"MINUTES"
			},
			"skip":false,
			"subTitle":"Schedule",
			"title":"New recurring event",
			"trigger":{
				"type":"SCHEDULED"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"figma",
				"resourceVersion":3489,
				"connectionId":"685908af5383fe2b52b71f02",
				"resourceName":"figma_get_file",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_6onmr-1",
			"id":"n_uqNcn",
			"index":2,
			"inputs":{
				"file_id":"d401028xDRb0wmAgwpJEFL"
			},
			"skip":false,
			"subTitle":"Figma",
			"title":"Get file",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":871,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_6onmr-1",
			"id":"n_Xwx8B",
			"index":3,
			"inputs":{
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"figmaFile":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Figma File"
						}
					}
				},
				"code":"\n\nclass FigmaInteractionParser {\n\n    /**\n     * Parses a Figma API JSON response and generates a human-readable\n     * list of all prototype interactions.\n     * @param jsonResponse The full JSON string from the GET /v1/files/ endpoint.\n     * @return A String describing the interaction flows.\n     */\n    String generateFlow(Map figmaFile) {\n        \n\n        def document = figmaFile\n\n        // Pass 1: Traverse the entire tree to map all node IDs to their names\n        // and collect all nodes in a flat list.\n        def nodeIdToNameMap = [:]\n        def allNodes = []\n        traverseNodes(document, nodeIdToNameMap, allNodes)\n\n        // Pass 2: Iterate through the collected nodes to find and process reactions\n        def flowBuilder = new StringBuilder(\"Figma Interaction Flow:\\n\")\n        flowBuilder.append(\"=======================\\n\")\n        \n        int interactionCount = 0\n        allNodes.each { node ->\n            // Check if the node has prototype interactions\n            if (node.reactions) {\n                node.reactions.each { reaction ->\n                    // We only care about actions that navigate or change to another node\n                    def action = reaction.action\n                    if (action?.type == 'NODE' && action?.destinationId) {\n                        def sourceName = node.name ?: \"Unnamed Node\"\n                        def sourceId = node.id\n                        def destinationId = action.destinationId\n                        def destinationName = nodeIdToNameMap[destinationId] ?: \"Unknown Destination\"\n                        def triggerType = reaction.trigger?.type ?: \"UNKNOWN_TRIGGER\"\n                        def navigationType = action.navigation ?: \"ACTION\" // e.g., NAVIGATE_TO, CHANGE_TO\n\n                        flowBuilder.append(\n                            \"➡️ \\\"${sourceName}\\\" (${sourceId})\\n\" +\n                            \"   └── triggers [${triggerType}] to perform [${navigationType}]\\n\" +\n                            \"   └── goes to \\\"${destinationName}\\\" (${destinationId})\\n\\n\"\n                        )\n                        interactionCount++\n                    }\n                }\n            }\n        }\n        \n        if (interactionCount == 0) {\n            return \"No prototype interactions were found in this file.\\n(Did you include the '?prototype_data=true' parameter in your API call?)\"\n        }\n\n        return flowBuilder.toString()\n    }\n\n    /**\n     * A recursive helper method to walk through the Figma node tree.\n     * @param node The current node to process.\n     * @param map The map to populate with [nodeId: nodeName].\n     * @param list The flat list to populate with every node object.\n     */\n    private void traverseNodes(def node, Map map, List list) {\n        if (!node) return\n\n        // Add the current node's info to our collections\n        map[node.id] = node.name\n        list.add(node)\n\n        // If the node has children, recurse into them\n        if (node.children) {\n            node.children.each { child ->\n                traverseNodes(child, map, list)\n            }\n        }\n    }\n}\n\n\n// --- Example Usage ---\n\ndef parser = new FigmaInteractionParser()\ndef flow = parser.generateFlow(figmaFile)\nreturn [\"flow\": flow]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"figmaFile":"{{ n_uqNcn.outputs.document }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		}
	],
	"ownerUserId":155341,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":false,
	"tags":[
		
	],
	"version":5
}
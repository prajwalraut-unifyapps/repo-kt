{
	"appsUsed":[
		"prometheus"
	],
	"createdTime":1755184107650,
	"deleted":false,
	"edges":[
		{
			"fromNodeId":"n_K5UEK",
			"priority":0,
			"skip":false,
			"toNodeId":"n_FysCB",
			"type":"next"
		},
		{
			"fromNodeId":"n_FysCB",
			"priority":0,
			"skip":false,
			"toNodeId":"n_fFMWO",
			"type":"next"
		},
		{
			"fromNodeId":"n_fFMWO",
			"priority":0,
			"skip":false,
			"toNodeId":"n_MtmHY",
			"type":"next"
		},
		{
			"fromNodeId":"n_MtmHY",
			"priority":0,
			"skip":false,
			"toNodeId":"n_3tiSm",
			"type":"next"
		},
		{
			"fromNodeId":"n_3tiSm",
			"priority":0,
			"skip":false,
			"toNodeId":"n_i66pe",
			"type":"next"
		},
		{
			"fromNodeId":"n_i66pe",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_8soEO",
			"type":"if"
		}
	],
	"id":"689de9484b1b9fa852348870",
	"lastModifiedBy":46030,
	"lcName":"infra | redis | check client connections",
	"modifiedTime":1759219928544,
	"name":"Infra | Redis | Check Client Connections",
	"nodes":[
		{
			"context":{
				"appName":"schedule",
				"resourceVersion":113,
				"resourceName":"schedule_default"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_NbFhw-1",
			"id":"n_K5UEK",
			"index":1,
			"inputs":{
				"cron":"INTERVAL",
				"interval":15,
				"frequency":"MINUTES"
			},
			"skip":false,
			"subTitle":"Schedule",
			"title":"New recurring event",
			"trigger":{
				"type":"SCHEDULED"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":111,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_NbFhw-1",
			"id":"n_FysCB",
			"index":2,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"slackChannel":{
							"type":"string",
							"title":"Slack Channel"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"slackChannel":"fsdfsfsdf"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"slackChannel":{
							"type":"string",
							"title":"Slack Channel"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"prometheus",
				"resourceVersion":234,
				"connectionId":"686b62b905711f331a0063dd",
				"resourceName":"prometheus_get_instant_metrics",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_NbFhw-1",
			"id":"n_fFMWO",
			"index":3,
			"inputs":{
				"query":"redis_connected_clients"
			},
			"skip":false,
			"subTitle":"Connected Clients",
			"title":"Query instant metrics",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"prometheus",
				"resourceVersion":234,
				"connectionId":"686b62b905711f331a0063dd",
				"resourceName":"prometheus_get_instant_metrics",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_NbFhw-1",
			"id":"n_MtmHY",
			"index":4,
			"inputs":{
				"query":"redis_blocked_clients"
			},
			"skip":false,
			"subTitle":"Blocked Clients",
			"title":"Query instant metrics",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":112,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_NbFhw-1",
			"id":"n_3tiSm",
			"index":5,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"connectedClients":{
							"type":"integer",
							"title":"Connected Clients"
						},
						"blockedClients":{
							"type":"integer",
							"title":"Blocked Clients"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"connectedClients":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Connected Clients"
						},
						"blockedClients":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Blocked Clients"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"return [connectedClients: connectedClients?.value?.get(1)?.toLong(), blockedClients: blockedClients?.value?.get(1)?.toLong()]",
				"parameters":{
					"connectedClients":"{{ n_fFMWO.outputs.data.result[0] }}",
					"blockedClients":"{{ n_MtmHY.outputs.data.result[0] }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":111,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_NbFhw-1",
			"id":"n_i66pe",
			"index":6,
			"inputs":{
				"filters":[
					{
						"property":"{{ n_3tiSm.outputs.result.blockedClients }}",
						"filter":{
							"operator":"EXISTS"
						}
					},
					{
						"property":"{{ n_3tiSm.outputs.result.blockedClients }}",
						"filter":{
							"operator":"GTE",
							"value":"0"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":114,
				"resourceName":"callables_call_interface",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_i66pe@_NbFhw-1@y",
			"id":"n_8soEO",
			"index":7,
			"inputs":{
				"callableInterfaceId":"6866873d7a1370019ad1e6ec",
				"runtimeConnections":{},
				"synchronous":true,
				"triggerWorkflowWithRuntimeType":"DEFAULT",
				"callableInterfaces":[],
				"fallbackWorkflowId":"686687c77a1370019ad206dd",
				"parameters":{
					"pretext":"*Redis Client*",
					"title":"*Blocked Client info: *",
					"text":"```Total blocked: {{ n_3tiSm.outputs.result.clientsInfo.blockedClients }}\\nTotal Connected: {{ n_3tiSm.outputs.result.clientsInfo.connectedClients }}```",
					"slackChannel":"{{ n_FysCB.outputs.slackChannel }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call interface",
			"type":"CALL_WORKFLOW"
		}
	],
	"ownerUserId":46030,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":false,
	"tags":[
		"ua-infra",
		"Infra Tools"
	],
	"version":14
}
{
	"appsUsed":[
		"openai",
		"storage_by_unifyapps"
	],
	"createdTime":1745148786346,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1757441832297,
		"deployedBy":0,
		"deployedDefinitionId":"68c06f2891dbf0016b768894",
		"status":"DEPLOYED",
		"version":296,
		"workflowVersion":382
	},
	"edges":[
		{
			"fromNodeId":"KQMqH",
			"priority":0,
			"skip":false,
			"toNodeId":"IQaDe",
			"type":"next"
		},
		{
			"fromNodeId":"IQaDe",
			"priority":0,
			"skip":false,
			"toNodeId":"Rr4km",
			"type":"next"
		},
		{
			"fromNodeId":"Rr4km",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"T4UAG",
			"type":"if"
		},
		{
			"fromNodeId":"T4UAG",
			"priority":0,
			"skip":false,
			"toNodeId":"Qy7Hz",
			"type":"next"
		},
		{
			"fromNodeId":"Rr4km",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"1rTge",
			"type":"next"
		},
		{
			"fromNodeId":"1rTge",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"hnLsr",
			"type":"if"
		},
		{
			"fromNodeId":"hnLsr",
			"priority":0,
			"skip":false,
			"toNodeId":"w4HmC",
			"type":"next"
		},
		{
			"fromNodeId":"Qy7Hz",
			"priority":0,
			"skip":false,
			"toNodeId":"936VZ",
			"type":"next"
		},
		{
			"fromNodeId":"w4HmC",
			"priority":0,
			"skip":false,
			"toNodeId":"936VZ",
			"type":"next"
		},
		{
			"fromNodeId":"1rTge",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"936VZ",
			"type":"next"
		},
		{
			"fromNodeId":"936VZ",
			"priority":0,
			"skip":false,
			"toNodeId":"n_yqyWe",
			"type":"next"
		},
		{
			"fromNodeId":"n_yqyWe",
			"priority":0,
			"skip":false,
			"toNodeId":"esGV8",
			"type":"next"
		},
		{
			"fromNodeId":"esGV8",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"w7Xxn",
			"type":"if"
		},
		{
			"fromNodeId":"w7Xxn",
			"priority":0,
			"skip":false,
			"toNodeId":"uCjsX",
			"type":"next"
		},
		{
			"fromNodeId":"esGV8",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"uCjsX",
			"type":"next"
		},
		{
			"fromNodeId":"uCjsX",
			"priority":0,
			"skip":false,
			"toNodeId":"RcEmT",
			"type":"next"
		},
		{
			"fromNodeId":"RcEmT",
			"priority":0,
			"skip":false,
			"toNodeId":"sXA4y",
			"type":"next"
		},
		{
			"fromNodeId":"sXA4y",
			"priority":0,
			"skip":false,
			"toNodeId":"RiK6v",
			"type":"next"
		},
		{
			"fromNodeId":"RiK6v",
			"priority":0,
			"skip":false,
			"toNodeId":"fEfAa",
			"type":"next"
		},
		{
			"fromNodeId":"fEfAa",
			"priority":0,
			"skip":false,
			"toNodeId":"hITK2",
			"type":"next"
		},
		{
			"fromNodeId":"hITK2",
			"priority":0,
			"skip":false,
			"toNodeId":"pmk0O",
			"type":"loop"
		},
		{
			"fromNodeId":"pmk0O",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"eglpi",
			"type":"if"
		},
		{
			"fromNodeId":"eglpi",
			"priority":0,
			"skip":false,
			"toNodeId":"JCAmM",
			"type":"next"
		},
		{
			"fromNodeId":"JCAmM",
			"priority":0,
			"skip":false,
			"toNodeId":"2kCzg",
			"type":"next"
		},
		{
			"fromNodeId":"2kCzg",
			"priority":0,
			"skip":false,
			"toNodeId":"1xoXQ",
			"type":"next"
		},
		{
			"fromNodeId":"1xoXQ",
			"priority":0,
			"skip":false,
			"toNodeId":"TJS1J",
			"type":"next"
		},
		{
			"fromNodeId":"tlJvS",
			"priority":0,
			"skip":false,
			"toNodeId":"TJS1J",
			"type":"next"
		},
		{
			"fromNodeId":"mwyJ2",
			"priority":0,
			"skip":false,
			"toNodeId":"TJS1J",
			"type":"next"
		},
		{
			"fromNodeId":"XREJR",
			"priority":0,
			"skip":false,
			"toNodeId":"TJS1J",
			"type":"next"
		},
		{
			"fromNodeId":"L5zfU",
			"priority":0,
			"skip":false,
			"toNodeId":"TJS1J",
			"type":"next"
		},
		{
			"fromNodeId":"5vwVp",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"TJS1J",
			"type":"next"
		},
		{
			"fromNodeId":"XOaJA",
			"priority":0,
			"skip":false,
			"toNodeId":"TJS1J",
			"type":"next"
		},
		{
			"fromNodeId":"pmk0O",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"TJS1J",
			"type":"next"
		},
		{
			"fromNodeId":"TJS1J",
			"priority":0,
			"skip":false,
			"toNodeId":"W6EGV",
			"type":"loop"
		},
		{
			"fromNodeId":"W6EGV",
			"priority":0,
			"skip":false,
			"toNodeId":"9mlXU",
			"type":"next"
		},
		{
			"fromNodeId":"9mlXU",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"CB07c",
			"type":"if"
		},
		{
			"fromNodeId":"CB07c",
			"priority":0,
			"skip":false,
			"toNodeId":"5Zeq3",
			"type":"next"
		},
		{
			"fromNodeId":"9mlXU",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"5Zeq3",
			"type":"next"
		},
		{
			"fromNodeId":"5Zeq3",
			"name":"1",
			"priority":0,
			"skip":false,
			"toNodeId":"5Zeq3@1",
			"type":"branch"
		},
		{
			"fromNodeId":"5Zeq3@1",
			"priority":0,
			"skip":false,
			"toNodeId":"tlJvS",
			"type":"next"
		},
		{
			"fromNodeId":"5Zeq3",
			"name":"2",
			"priority":0,
			"skip":false,
			"toNodeId":"5Zeq3@2",
			"type":"branch"
		},
		{
			"fromNodeId":"5Zeq3@2",
			"priority":0,
			"skip":false,
			"toNodeId":"28RwX",
			"type":"next"
		},
		{
			"fromNodeId":"28RwX",
			"priority":0,
			"skip":false,
			"toNodeId":"m0gcT",
			"type":"next"
		},
		{
			"fromNodeId":"m0gcT",
			"priority":0,
			"skip":false,
			"toNodeId":"t9IER",
			"type":"next"
		},
		{
			"fromNodeId":"t9IER",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"Ri2Bt",
			"type":"if"
		},
		{
			"fromNodeId":"Ri2Bt",
			"priority":0,
			"skip":false,
			"toNodeId":"HjYDq",
			"type":"next"
		},
		{
			"fromNodeId":"t9IER",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"HjYDq",
			"type":"next"
		},
		{
			"fromNodeId":"HjYDq",
			"priority":0,
			"skip":false,
			"toNodeId":"rYsOR",
			"type":"next"
		},
		{
			"fromNodeId":"rYsOR",
			"priority":0,
			"skip":false,
			"toNodeId":"rQLeN",
			"type":"next"
		},
		{
			"fromNodeId":"rQLeN",
			"priority":0,
			"skip":false,
			"toNodeId":"JUqyE",
			"type":"next"
		},
		{
			"fromNodeId":"JUqyE",
			"priority":0,
			"skip":false,
			"toNodeId":"oeS8q",
			"type":"next"
		},
		{
			"fromNodeId":"oeS8q",
			"priority":0,
			"skip":false,
			"toNodeId":"Ip1ZO",
			"type":"next"
		},
		{
			"fromNodeId":"Ip1ZO",
			"priority":0,
			"skip":false,
			"toNodeId":"zDCwa",
			"type":"next"
		},
		{
			"fromNodeId":"zDCwa",
			"priority":0,
			"skip":false,
			"toNodeId":"z36fc",
			"type":"next"
		},
		{
			"fromNodeId":"z36fc",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"OLWU9",
			"type":"if"
		},
		{
			"fromNodeId":"z36fc",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"pA9Kt",
			"type":"next"
		},
		{
			"fromNodeId":"pA9Kt",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"hXjdu",
			"type":"if"
		},
		{
			"fromNodeId":"OLWU9",
			"priority":0,
			"skip":false,
			"toNodeId":"7q3zy",
			"type":"next"
		},
		{
			"fromNodeId":"hXjdu",
			"priority":0,
			"skip":false,
			"toNodeId":"7q3zy",
			"type":"next"
		},
		{
			"fromNodeId":"pA9Kt",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"7q3zy",
			"type":"next"
		},
		{
			"fromNodeId":"7q3zy",
			"priority":0,
			"skip":false,
			"toNodeId":"8aH2n",
			"type":"next"
		},
		{
			"fromNodeId":"8aH2n",
			"priority":0,
			"skip":false,
			"toNodeId":"QqAwf",
			"type":"next"
		},
		{
			"fromNodeId":"QqAwf",
			"priority":0,
			"skip":false,
			"toNodeId":"eGSa1",
			"type":"next"
		},
		{
			"fromNodeId":"eGSa1",
			"priority":0,
			"skip":false,
			"toNodeId":"ccS8q",
			"type":"next"
		},
		{
			"fromNodeId":"ccS8q",
			"priority":0,
			"skip":false,
			"toNodeId":"OjkoF",
			"type":"next"
		},
		{
			"fromNodeId":"OjkoF",
			"priority":0,
			"skip":false,
			"toNodeId":"u2xRV",
			"type":"next"
		},
		{
			"fromNodeId":"u2xRV",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"lxiRN",
			"type":"if"
		},
		{
			"fromNodeId":"lxiRN",
			"priority":0,
			"skip":false,
			"toNodeId":"mwyJ2",
			"type":"next"
		},
		{
			"fromNodeId":"u2xRV",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"mwyJ2",
			"type":"next"
		},
		{
			"fromNodeId":"5Zeq3",
			"name":"3",
			"priority":0,
			"skip":false,
			"toNodeId":"5Zeq3@3",
			"type":"branch"
		},
		{
			"fromNodeId":"5Zeq3@3",
			"priority":0,
			"skip":false,
			"toNodeId":"5vwVp",
			"type":"next"
		},
		{
			"fromNodeId":"5vwVp",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"4yzej",
			"type":"if"
		},
		{
			"fromNodeId":"4yzej",
			"priority":0,
			"skip":false,
			"toNodeId":"LjqRP",
			"type":"next"
		},
		{
			"fromNodeId":"LjqRP",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"R8ccF",
			"type":"if"
		},
		{
			"fromNodeId":"R8ccF",
			"priority":0,
			"skip":false,
			"toNodeId":"tbeB5",
			"type":"next"
		},
		{
			"fromNodeId":"tbeB5",
			"priority":0,
			"skip":false,
			"toNodeId":"XREJR",
			"type":"next"
		},
		{
			"fromNodeId":"LjqRP",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"L5zfU",
			"type":"next"
		},
		{
			"fromNodeId":"5Zeq3",
			"name":"default",
			"priority":0,
			"skip":false,
			"toNodeId":"XOaJA",
			"type":"branch"
		},
		{
			"fromNodeId":"TJS1J",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"hITK2",
			"type":"next"
		},
		{
			"fromNodeId":"hITK2",
			"priority":0,
			"skip":false,
			"toNodeId":"mpPwk",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"6804db728588832203d32ebf",
	"lastModifiedBy":0,
	"lcName":"openai session starter",
	"modifiedTime":1758655341360,
	"name":"OpenAI Session Starter",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":531,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"BmqQT-1",
			"id":"KQMqH",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"properties":{
						"done":{
							"type":"string",
							"title":"Done"
						}
					},
					"additionalProperties":false,
					"required":[
						"done"
					]
				},
				"setup":{
					"type":"object",
					"properties":{
						"session_id":{
							"type":"string",
							"title":"Session Id"
						},
						"room_name":{
							"type":"string",
							"title":"Room Name"
						},
						"addPastConversation":{
							"type":"boolean",
							"title":"Add Past Conversation",
							"default":"true"
						},
						"aiAgentId":{
							"type":"string",
							"title":"Ai Agent Id"
						},
						"callSid":{
							"type":"string",
							"title":"Call Sid"
						}
					},
					"additionalProperties":false,
					"required":[
						"session_id",
						"room_name",
						"aiAgentId",
						"callSid"
					]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":678,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"BmqQT-1",
			"id":"IQaDe",
			"index":2,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"flag":{
							"type":"boolean",
							"title":"Flag"
						},
						"language":{
							"type":"string",
							"title":"Language",
							"format":"skip"
						},
						"runtime":{
							"type":"string",
							"title":"Runtime"
						},
						"audioFormat":{
							"type":"string",
							"title":"Audio Format"
						},
						"filler_sent":{
							"type":"boolean",
							"title":"Filler Sent"
						},
						"caseIIdVar":{
							"type":"string",
							"title":"Case I Id Var"
						}
					},
					"required":[
						"caseIIdVar"
					]
				}
			},
			"inputs":{
				"flag":"{{ KQMqH.outputs.addPastConversation }}",
				"runtime":"{{ __RUN__.outputs.workflowRunTimeType }}",
				"audioFormat":"pcm16",
				"language":"=IF(ISBLANK({{ __USER__.outputs.locale }}),\"en\",{{ __USER__.outputs.locale }})",
				"filler_sent":false
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"flag":{
							"type":"boolean",
							"title":"Flag"
						},
						"language":{
							"type":"string",
							"title":"Language",
							"format":"skip"
						},
						"runtime":{
							"type":"string",
							"title":"Runtime"
						},
						"audioFormat":{
							"type":"string",
							"title":"Audio Format"
						},
						"filler_sent":{
							"type":"boolean",
							"title":"Filler Sent"
						},
						"caseIIdVar":{
							"type":"string",
							"title":"Case I Id Var"
						}
					},
					"required":[
						"caseIIdVar"
					]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":338,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"BmqQT-1",
			"id":"Rr4km",
			"index":3,
			"inputs":{
				"filters":[
					{
						"property":"{{ KQMqH.outputs.session_id }}",
						"filter":{
							"operator":"STARTS_WITH",
							"value":"TW"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"twilio bot?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":73,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Rr4km@BmqQT-1@y",
			"id":"T4UAG",
			"index":4,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_callSid",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ KQMqH.outputs.callSid }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"voicebot_conv",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"sortBy":[
					{
						"field":"cTm",
						"order":"DESC"
					}
				],
				"page":{
					"paginateBy":"OFFSET",
					"limit":20
				},
				"numberOfRecordsToFetch":"SINGLE",
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"voicebot conv",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":344,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Rr4km@BmqQT-1@y",
			"id":"Qy7Hz",
			"index":5,
			"inputs":{
				"variables":[
					{
						"source":"{{ IQaDe.outputs.audioFormat }}",
						"value":"g711_ulaw"
					},
					{
						"source":"{{ IQaDe.outputs.caseIIdVar }}",
						"value":"{{ T4UAG.outputs.properties.caseId }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":338,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"1rTge@BmqQT-1@n",
			"id":"1rTge",
			"index":6,
			"inputs":{
				"filters":[
					{
						"property":"{{ KQMqH.outputs.session_id }}",
						"filter":{
							"operator":"STARTS_WITH",
							"value":"OZ"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"oz bot?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":73,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"1rTge@1rTge@BmqQT-1@n@y",
			"id":"hnLsr",
			"index":7,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_callSid",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ KQMqH.outputs.callSid }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"voicebot_conv",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"sortBy":[
					{
						"field":"cTm",
						"order":"DESC"
					}
				],
				"page":{
					"paginateBy":"OFFSET",
					"limit":20
				},
				"numberOfRecordsToFetch":"SINGLE",
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"voicebot conv",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":344,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"1rTge@1rTge@BmqQT-1@n@y",
			"id":"w4HmC",
			"index":8,
			"inputs":{
				"variables":[
					{
						"source":"{{ IQaDe.outputs.audioFormat }}",
						"value":"pcm16"
					},
					{
						"source":"{{ IQaDe.outputs.caseIIdVar }}",
						"value":"{{ hnLsr.outputs.properties.caseId }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":622,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"CONTINUE",
			"groupId":"BmqQT-1",
			"id":"936VZ",
			"index":9,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"caseId":{
							"type":"string",
							"title":"Case Id"
						},
						"aiAgentId":{
							"type":"string",
							"title":"Ai Agent Id"
						},
						"notAllowedEvents":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Not Allowed Events"
						},
						"userId":{
							"type":"string",
							"title":"User Id"
						},
						"directTools":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Direct Tools"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"sessionId":{
							"type":"string",
							"title":"Session Id"
						},
						"caseId":{
							"type":"string",
							"title":"Case Id"
						},
						"aiAgentId":{
							"type":"string",
							"title":"Ai Agent Id"
						}
					},
					"additionalProperties":false,
					"required":[
						"aiAgentId"
					]
				},
				"compile_static":false,
				"code":"boolean twilioBot = sessionId.startsWith(\"TW\")\nboolean ozonetelBot = sessionId.startsWith(\"OZ\")\ndef parts = sessionId.split(\"_-_\")\ndef aiAgentId = binding.hasVariable('aiAgentId') ? (aiAgentId) : ((twilioBot || ozonetelBot) ? 'e_6851d8bc63ac4a47e8f98f9e' : parts[1])\naiAgentId = aiAgentId?.contains('?') ? aiAgentId.split('\\\\?')[0] : aiAgentId\n\nreturn [\n  \"caseId\": (twilioBot || ozonetelBot) ? caseId : parts[0],\n  \"aiAgentId\": aiAgentId,\n\n  \"userId\": (twilioBot || ozonetelBot) ? '1' : parts[3],\n  \n  \"notAllowedEvents\": [\n    \"input_audio_buffer.speech_stopped\",\n    \"input_audio_buffer.speech_started\",\n    \"response.audio.delta\",\n    \"conversation.item.input_audio_transcription.delta\",\n    \"response.text.delta\",\n    \"response.audio_transcript.delta\",\n    // \"conversation.item.created\",\n    \"response.function_call_arguments.delta\",\n    \"conversation.item.input_audio_transcription.completed\",\n    \"response.audio_transcript.done\",\n    \"response.content_part.done\",\n    \"response.done\"    \n  ],\n  \"directTools\":[\"think\", \"Clarify\", \"SetSlot\"]\n]",
				"parameters":{
					"sessionId":"{{ KQMqH.outputs.session_id }}",
					"caseId":"{{ IQaDe.outputs.caseIIdVar }}",
					"aiAgentId":"{{ KQMqH.outputs.aiAgentId }}"
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"CONTINUE",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":458,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"BmqQT-1",
			"id":"n_yqyWe",
			"index":10,
			"inputs":{
				"automationId":"67a48d37f8f1744841dabb63",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"aiAgentId":"{{ 936VZ.outputs.result.aiAgentId }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":607,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"BmqQT-1",
			"id":"esGV8",
			"index":11,
			"inputs":{
				"filters":[
					{
						"property":"{{ n_yqyWe.outputs.properties.responseGenerationSettings.languageSettings.language }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Language present",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":642,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"esGV8@BmqQT-1@y",
			"id":"w7Xxn",
			"index":12,
			"inputs":{
				"variables":[
					{
						"source":"{{ IQaDe.outputs.language }}",
						"value":"{{ n_yqyWe.outputs.properties.responseGenerationSettings.languageSettings.language }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2606,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"BmqQT-1",
			"id":"uCjsX",
			"index":13,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ 936VZ.outputs.result.caseId }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"service_hub_case",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"page":{
					"paginateBy":"OFFSET",
					"limit":20
				},
				"numberOfRecordsToFetch":"SINGLE",
				"readThroughSessionVariables":false,
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":535,
				"resourceName":"variable_by_unifyapps_set_session_variable",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"BmqQT-1",
			"id":"RcEmT",
			"index":14,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"caseId":{
							"type":"string",
							"title":"Case Id"
						},
						"ua_voice_session_enabled":{
							"type":"boolean",
							"title":"Ua Voice Session Enabled"
						},
						"ua_voice_session_id":{
							"type":"string",
							"title":"Ua Voice Session Id"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"caseId":"{{ 936VZ.outputs.result.caseId }}",
				"ua_voice_session_id":"{{ KQMqH.outputs.session_id }}",
				"ua_voice_session_enabled":true
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"caseId":{
							"type":"string",
							"title":"Case Id"
						},
						"ua_voice_session_enabled":{
							"type":"boolean",
							"title":"Ua Voice Session Enabled"
						},
						"ua_voice_session_id":{
							"type":"string",
							"title":"Ua Voice Session Id"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Set Session Variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":631,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"CONTINUE",
			"groupId":"BmqQT-1",
			"id":"sXA4y",
			"index":15,
			"inputs":{
				"automationId":"6783284f44ce135db1dab279",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"caseId":"{{ 936VZ.outputs.result.caseId }}",
					"agentId":"{{ 936VZ.outputs.result.aiAgentId }}"
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"CONTINUE",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.tools.items.id",
					"root.parameters.tools.items.name",
					"root.parameters.tools.items.description",
					"root.parameters.tools.items.toolInputSchema",
					"root.parameters.directTools.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":656,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"BmqQT-1",
			"id":"RiK6v",
			"index":16,
			"inputs":{
				"output":{
					"$ref":"#/definitions/entity|e_code_snippet|e_67a48c5cc6ba6e3a57165fee",
					"$comment":"tools"
				},
				"input":{
					"type":"object",
					"properties":{
						"tools":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"id":{
										"type":"string",
										"title":"id"
									},
									"name":{
										"type":"string",
										"title":"name"
									},
									"description":{
										"type":"string",
										"title":"description"
									},
									"toolInputSchema":{
										"type":"object",
										"title":"toolInputSchema"
									}
								},
								"additionalProperties":false
							},
							"title":"tools"
						},
						"directTools":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Direct Tools"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"if (!binding.hasVariable(\"tools\")) {\n    return [:]\n}\n\ndef ignoredTools = [\"Clarify\", \"think\"]\n\n// removing thought for now, since using random thoughts\n\n// tools.each { tool ->\n//     if (binding.hasVariable(\"directTools\") && directTools.contains(tool?.id)){\n//         return\n//     }\n//     def toolSchema = tool?.get(\"toolInputSchema\",[:])\n//     if (toolSchema.properties == null) {\n//         toolSchema.properties = [:]\n//     }\n//     if (toolSchema.required == null) {\n//         toolSchema.required = []\n//     }\n\n//     toolSchema.properties << [\n//             \"toolThought\" : [\n//                     \"type\" : \"string\",\n//                     \"description\" : \"Thought for executing the tool, Use clear and simple language, Address your thoughts to the user in a conversational manner, referring to them as 'you' rather than 'the user'. This should be user facing directly do not mention the tool Id that we would like to call, you can give some human readable name to it. This thought should also be in the same language as that of the user.\"\n//             ]\n//     ]\n//     toolSchema.required << \"toolThought\"\n//     tool.toolInputSchema = toolSchema\n// }\n\n// remove clarify until its handling is added\ntools = tools.findAll { !ignoredTools.contains(it.id) }\nreturn [\"tools\": tools]",
				"parameters":{
					"tools":{
						"source":"{{ sXA4y.outputs.availableTools }}",
						"ua:type":"mappedArray",
						"items":{
							"id":"{{ sXA4y.outputs.availableTools[0].id }}",
							"name":"{{ sXA4y.outputs.availableTools[0].name }}",
							"description":"{{ sXA4y.outputs.availableTools[0].description }}",
							"toolInputSchema":"{{ sXA4y.outputs.availableTools[0].toolInputSchema }}"
						}
					},
					"directTools":{
						"source":"{{ 936VZ.outputs.result.directTools }}",
						"ua:type":"mappedArray",
						"items":"{{ 936VZ.outputs.result.directTools[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Add thought in schema",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":225,
				"resourceName":"storage_by_unifyapps_upsert_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"BmqQT-1",
			"id":"fEfAa",
			"index":17,
			"inputs":{
				"object_type":"testing_voicekit",
				"updateFields":[
					{
						"fieldName":"properties.sessionId",
						"actionType":"SET",
						"setValue":"{{ KQMqH.outputs.session_id }}"
					},
					{
						"fieldName":"properties.events",
						"actionType":"ADD",
						"setValue":"openai_session_invoked"
					}
				],
				"id":"{{ KQMqH.outputs.session_id }}"
			},
			"skip":false,
			"subTitle":"Debug",
			"title":"Upsert Record",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.tools.items.name",
					"root.tools.items.description",
					"root.tools.items.parameters",
					"root.tools.items.type"
				]
			},
			"context":{
				"appName":"openai",
				"resourceVersion":6,
				"connectionId":"6803b3b6931eb527949e8fee",
				"resourceName":"openai_realtime_session",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"BmqQT-1",
			"id":"hITK2",
			"index":18,
			"inputs":{
				"voice":"echo",
				"instructions":"{{ sXA4y.outputs.systemPrompt }}",
				"input_audio_format":"{{ IQaDe.outputs.audioFormat }}",
				"input_audio_noise_reduction":{
					"type":"near_field"
				},
				"input_audio_transcription":{
					"model":"gpt-4o-transcribe",
					"language":"{{ IQaDe.outputs.language }}"
				},
				"output_audio_format":"{{ IQaDe.outputs.audioFormat }}",
				"session_id":"{{ KQMqH.outputs.session_id }}",
				"turn_detection":{
					"type":"semantic_vad"
				},
				"model":"gpt-4o-realtime-preview",
				"tools":{
					"ua:type":"mappedArray",
					"items":{
						"type":"function",
						"name":"{{ RiK6v.outputs.result.tools[0].name }}",
						"description":"{{ RiK6v.outputs.result.tools[0].description }}",
						"parameters":"{{ RiK6v.outputs.result.tools[0].toolInputSchema }}"
					},
					"source":"{{ RiK6v.outputs.result.tools }}"
				}
			},
			"skip":false,
			"subTitle":"OpenAI",
			"title":"Start OpenAI Realtime Session",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":577,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"hITK2@BmqQT-1@l",
			"id":"pmk0O",
			"index":19,
			"inputs":{
				"filters":[
					{
						"property":"{{ IQaDe.outputs.flag }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Add past conversation?",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2595,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"pmk0O@hITK2@BmqQT-1@l@y",
			"id":"eglpi",
			"index":20,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ KQMqH.outputs.session_id }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"testing_voicekit",
				"updateFields":[
					{
						"fieldName":"properties.events",
						"actionType":"ADD",
						"setValue":"prefill started"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				}
			},
			"skip":true,
			"subTitle":"Debug",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":345,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"pmk0O@hITK2@BmqQT-1@l@y",
			"id":"JCAmM",
			"index":21,
			"inputs":{
				"automationId":"681a21997f252707eedcebe2",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"session_id":"{{ KQMqH.outputs.session_id }}",
					"messages":{
						"source":"{{ sXA4y.outputs.messages }}",
						"ua:type":"mappedArray",
						"items":"{{ sXA4y.outputs.messages[0] }}"
					},
					"triggerResponse":false
				}
			},
			"skip":false,
			"subTitle":"create messages",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":611,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"pmk0O@hITK2@BmqQT-1@l@y",
			"id":"2kCzg",
			"index":22,
			"inputs":{
				"variables":[
					{
						"source":"{{ IQaDe.outputs.flag }}",
						"value":false
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2595,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"pmk0O@hITK2@BmqQT-1@l@y",
			"id":"1xoXQ",
			"index":23,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ KQMqH.outputs.session_id }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"testing_voicekit",
				"updateFields":[
					{
						"fieldName":"properties.events",
						"actionType":"ADD",
						"setValue":"prefill finished"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				}
			},
			"skip":true,
			"subTitle":"Debug",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":647,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"hITK2@BmqQT-1@l",
			"id":"TJS1J",
			"index":24,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ hITK2.outputs.item }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"additional":{
				"xsdSchemaConfig":{}
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":622,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"TJS1J@hITK2@BmqQT-1@l@l",
			"id":"W6EGV",
			"index":25,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"isToolUse":{
							"type":"boolean",
							"title":"isToolUse"
						},
						"toolUsageDetails":{
							"type":"object",
							"properties":{
								"arguments":{
									"type":"string",
									"title":"arguments"
								},
								"call_id":{
									"type":"string",
									"title":"call_id"
								},
								"id":{
									"type":"string",
									"title":"id"
								},
								"name":{
									"type":"string",
									"title":"name"
								},
								"object":{
									"type":"string",
									"title":"object"
								},
								"status":{
									"type":"string",
									"title":"status"
								},
								"type":{
									"type":"string",
									"title":"type"
								},
								"llmResponse":{
									"type":"string",
									"title":"Llm Response"
								}
							},
							"title":"toolUsageDetails",
							"additionalProperties":false,
							"required":[]
						},
						"currTime":{
							"type":"string",
							"title":"Curr Time"
						},
						"currTimeEpoch":{
							"type":"integer",
							"title":"Curr Time Epoch"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"item":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Item"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def toolUsageDetails = [:]\ndef isToolUse = false\n\nif (binding.hasVariable(\"item\") && item?.type == \"response.done\") {\n    item?.response?.output?.each { item ->\n        if (item.type == 'function_call') {\n            toolUsageDetails << item\n            isToolUse = true\n        } else if (item.type == 'message') {\n            item.content?.each { content ->\n                if (content?.type == 'audio') {\n                    toolUsageDetails << ['llmResponse': content?.transcript]\n                }\n            }\n        }\n    }\n    if (toolUsageDetails?.llmResponse == null) {\n        toolUsageDetails['llmResponse'] = \"Executing \" + toolUsageDetails.name + \" tool\"\n    }\n}\n\n\n\nreturn [\n    \"toolUsageDetails\": toolUsageDetails,\n    \"isToolUse\"       : isToolUse,\n    \"currTime\"        : new Date(System.currentTimeMillis()), \n    \"currTimeEpoch\"   : System.currentTimeMillis() \n\n]",
				"parameters":{
					"item":"{{ TJS1J.outputs.item }}"
				}
			},
			"skip":false,
			"subTitle":"Check tool usage",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":578,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"TJS1J@hITK2@BmqQT-1@l@l",
			"id":"9mlXU",
			"index":26,
			"inputs":{
				"filters":[
					{
						"property":"{{ 936VZ.outputs.result.notAllowedEvents }}",
						"filter":{
							"operator":"NOT_CONTAINS",
							"value":"{{ TJS1J.outputs.item.type }}"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2595,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"9mlXU@TJS1J@hITK2@BmqQT-1@l@l@y",
			"id":"CB07c",
			"index":27,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ KQMqH.outputs.session_id }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"testing_voicekit",
				"updateFields":[
					{
						"fieldName":"properties.events",
						"actionType":"ADD",
						"setValue":"{{ TJS1J.outputs.item.type }} | {{ TJS1J.outputs.item.event_id }} | {{ W6EGV.outputs.result.currTime }}"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				}
			},
			"skip":true,
			"subTitle":"Debug",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"branch",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"TJS1J@hITK2@BmqQT-1@l@l",
			"id":"5Zeq3",
			"index":28,
			"inputs":{
				"branches":[
					{
						"id":"1",
						"inputs":{
							"name":"Audio",
							"conditions":{
								"filters":[
									{
										"property":"{{ TJS1J.outputs.item.type }}",
										"filter":{
											"operator":"EQUAL",
											"value":"response.audio.delta"
										}
									}
								],
								"operator":"AND"
							}
						}
					},
					{
						"id":"2",
						"inputs":{
							"name":"Tool",
							"conditions":{
								"filters":[
									{
										"property":"{{ W6EGV.outputs.result.isToolUse }}",
										"filter":{
											"operator":"EQUAL",
											"value":"true"
										}
									}
								],
								"operator":"AND"
							}
						}
					},
					{
						"id":"3",
						"inputs":{
							"name":"Branch 3",
							"conditions":{
								"filters":[
									{
										"property":"{{ TJS1J.outputs.item.type }}",
										"filter":{
											"operator":"EQUAL",
											"value":"response.function_call_arguments.delta"
										}
									}
								],
								"operator":"AND"
							}
						}
					},
					{
						"id":"default"
					}
				]
			},
			"skip":false,
			"subTitle":"Branch",
			"title":"",
			"type":"BRANCH"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":0,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@1",
			"id":"5Zeq3@1",
			"index":29,
			"inputs":{
				"name":"Audio",
				"conditions":{
					"filters":[
						{
							"property":"{{ TJS1J.outputs.item.type }}",
							"filter":{
								"operator":"EQUAL",
								"value":"response.audio.delta"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"subTitle":"Audio",
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"voicebot_by_unifyapps",
				"resourceVersion":1,
				"resourceName":"voicebot_by_unifyapps_web_session_respond",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@1",
			"id":"tlJvS",
			"index":30,
			"inputs":{
				"room_name":"{{ KQMqH.outputs.room_name }}",
				"sent_time":"{{ W6EGV.outputs.result.currTimeEpoch }}",
				"event_id":"{{ TJS1J.outputs.item.event_id }}",
				"agent_state":"speaking",
				"session_id":"{{ KQMqH.outputs.session_id }}",
				"received_time":"{{ W6EGV.outputs.result.currTimeEpoch }}",
				"audio_content":"{{ TJS1J.outputs.item.delta }}"
			},
			"skip":false,
			"subTitle":"Voicebot by UnifyApps",
			"title":"Respond to Voicebot Session",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":0,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2",
			"id":"5Zeq3@2",
			"index":31,
			"inputs":{
				"name":"Tool",
				"conditions":{
					"filters":[
						{
							"property":"{{ W6EGV.outputs.result.isToolUse }}",
							"filter":{
								"operator":"EQUAL",
								"value":"true"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":345,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2",
			"id":"28RwX",
			"index":32,
			"inputs":{
				"variables":[
					{
						"source":"{{ IQaDe.outputs.filler_sent }}",
						"value":false
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":631,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2",
			"id":"m0gcT",
			"index":33,
			"inputs":{
				"automationId":"681743f7fa13fc297ec01fcd",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"caseId":"{{ 936VZ.outputs.result.caseId }}",
					"availableTools":{
						"source":"{{ sXA4y.outputs.availableTools }}",
						"ua:type":"mappedArray",
						"items":"{{ sXA4y.outputs.availableTools[0] }}"
					},
					"toolsToExectue":{
						"items":{
							"name":"{{ W6EGV.outputs.result.toolUsageDetails.name }}",
							"arguments":"{{ W6EGV.outputs.result.toolUsageDetails.arguments }}"
						},
						"ua:type":"mappedArray"
					},
					"agentId":"{{ 936VZ.outputs.result.aiAgentId }}",
					"llmResponse":"{{ W6EGV.outputs.result.toolUsageDetails.llmResponse }}"
				}
			},
			"skip":false,
			"subTitle":"Clean response",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":333,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2",
			"id":"t9IER",
			"index":34,
			"inputs":{
				"filters":[
					{
						"property":"{{ m0gcT.outputs.toolId }}",
						"filter":{
							"operator":"NOT_IN",
							"value":"{{ 936VZ.outputs.result.directTools }}"
						}
					},
					{
						"property":"{{ n_yqyWe.outputs.properties.responseGenerationSettings.disableVoiceThought }}",
						"filter":{
							"operator":"NOT_EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":352,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"t9IER@5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2@y",
			"id":"Ri2Bt",
			"index":35,
			"inputs":{
				"automationId":"67deb8826ff2a8770508424b",
				"runtimeConnections":{},
				"synchronous":false,
				"triggerWorkflowWithRuntimeType":"IN_MEMORY",
				"version":"-1",
				"parameters":{
					"publishThought":"{{ m0gcT.outputs.publishThought }}",
					"finalAnswer":"{{ m0gcT.outputs.finalAnswer }}",
					"toolId":"{{ m0gcT.outputs.toolId }}",
					"caseId":"{{ 936VZ.outputs.result.caseId }}",
					"aiAgentId":"{{ 936VZ.outputs.result.aiAgentId }}",
					"thought":"I am executing this tool"
				}
			},
			"skip":true,
			"subTitle":"Publish Thought",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2595,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2",
			"id":"HjYDq",
			"index":36,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ KQMqH.outputs.session_id }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"testing_voicekit",
				"updateFields":[
					{
						"fieldName":"properties.events",
						"actionType":"ADD",
						"setValue":"toolCalled -> {{ m0gcT.outputs.toolId }} | {{ W6EGV.outputs.result.currTime }}"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				}
			},
			"skip":true,
			"subTitle":"Debug",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.item.content.text",
					"root.item.content.audio"
				]
			},
			"context":{
				"appName":"openai",
				"resourceVersion":99,
				"connectionId":"6803b3b6931eb527949e8fee",
				"resourceName":"openai_realtime_send_message",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2",
			"id":"rYsOR",
			"index":37,
			"inputs":{
				"item":{
					"type":"function_call_output",
					"call_id":"{{ W6EGV.outputs.result.toolUsageDetails.call_id }}",
					"id":"tempOp_{{ W6EGV.outputs.result.currTimeEpoch }}",
					"output":"Tool: \"{{ m0gcT.outputs.toolName }}\" execution is in Progress, Current Conversation is happening inside the tool."
				},
				"session_id":"{{ KQMqH.outputs.session_id }}",
				"type":"conversation.item.create"
			},
			"skip":false,
			"subTitle":"Create temp tool o/p",
			"title":"Send Message to OpenAI Realtime",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":631,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2",
			"id":"rQLeN",
			"index":38,
			"inputs":{
				"automationId":"67df12719fa26d792211be4f",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"caseId":"{{ 936VZ.outputs.result.caseId }}",
					"aiAgentId":"{{ 936VZ.outputs.result.aiAgentId }}",
					"toolId":"{{ m0gcT.outputs.toolId }}",
					"toolInputs":"{{ m0gcT.outputs.toolInputs }}",
					"toolName":"{{ m0gcT.outputs.toolName }}",
					"thought":"{{ m0gcT.outputs.thought }}",
					"messageId":"{{ Ri2Bt.outputs.messageId }}"
				}
			},
			"skip":false,
			"subTitle":"Execute tool",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":615,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2",
			"id":"JUqyE",
			"index":39,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"currTime":{
							"type":"string",
							"title":"Curr Time"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"return ['currTime': new Date(System.currentTimeMillis())]"
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2595,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2",
			"id":"oeS8q",
			"index":40,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ KQMqH.outputs.session_id }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"testing_voicekit",
				"updateFields":[
					{
						"fieldName":"properties.events",
						"actionType":"ADD",
						"setValue":"toolCompleted -> {{ m0gcT.outputs.toolId }} -> {{ rQLeN.outputs.success }} | {{ JUqyE.outputs.result.currTime }}"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				}
			},
			"skip":false,
			"subTitle":"Debug",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2605,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2",
			"id":"Ip1ZO",
			"index":41,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ rQLeN.outputs.messageId }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"service_hub_message",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"page":{
					"paginateBy":"OFFSET",
					"limit":20
				},
				"numberOfRecordsToFetch":"SINGLE",
				"readThroughSessionVariables":false,
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"Fetch tool output",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":694,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2",
			"id":"zDCwa",
			"index":42,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"toolOutput":{
							"type":"string",
							"title":"Tool Output"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"toolOutput":"{{ Ip1ZO.outputs.properties.content.agentResponse.toolUseDetails.toolOutput }}"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"toolOutput":{
							"type":"string",
							"title":"Tool Output"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":593,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2",
			"id":"z36fc",
			"index":43,
			"inputs":{
				"filters":[
					{
						"property":"{{ rQLeN.outputs.success }}",
						"filter":{
							"operator":"EQUAL",
							"value":"false"
						}
					},
					{
						"property":"{{ rQLeN.outputs.errorFeedback.message }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":627,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"z36fc@5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2@y",
			"id":"OLWU9",
			"index":44,
			"inputs":{
				"variables":[
					{
						"source":"{{ zDCwa.outputs.toolOutput }}",
						"value":"{{ rQLeN.outputs.messageId }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":333,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"z36fc@5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2@n",
			"id":"pA9Kt",
			"index":45,
			"inputs":{
				"filters":[
					{
						"property":"{{ zDCwa.outputs.toolOutput }}",
						"filter":{
							"operator":"MISSING"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Empty tool output",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":339,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"pA9Kt@z36fc@5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2@n@y",
			"id":"hXjdu",
			"index":46,
			"inputs":{
				"variables":[
					{
						"source":"{{ zDCwa.outputs.toolOutput }}",
						"value":"success"
					}
				]
			},
			"skip":false,
			"subTitle":"Default",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.item.content.text",
					"root.item.content.audio"
				]
			},
			"context":{
				"appName":"openai",
				"resourceVersion":99,
				"connectionId":"6803b3b6931eb527949e8fee",
				"resourceName":"openai_realtime_send_message",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2",
			"id":"7q3zy",
			"index":47,
			"inputs":{
				"item_id":"tempOp_{{ W6EGV.outputs.result.currTimeEpoch }}",
				"session_id":"{{ KQMqH.outputs.session_id }}",
				"type":"conversation.item.delete"
			},
			"skip":false,
			"subTitle":"Delete temp tool o/p",
			"title":"Send Message to OpenAI Realtime",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.item.content.text",
					"root.item.content.audio"
				]
			},
			"context":{
				"appName":"openai",
				"resourceVersion":99,
				"connectionId":"6803b3b6931eb527949e8fee",
				"resourceName":"openai_realtime_send_message",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2",
			"id":"8aH2n",
			"index":48,
			"inputs":{
				"item":{
					"type":"function_call_output",
					"output":"{{ zDCwa.outputs.toolOutput }}",
					"call_id":"{{ W6EGV.outputs.result.toolUsageDetails.call_id }}"
				},
				"session_id":"{{ KQMqH.outputs.session_id }}",
				"type":"conversation.item.create"
			},
			"skip":false,
			"subTitle":"Create tool output",
			"title":"Send Message to OpenAI Realtime",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"break",
				"resourceVersion":336,
				"resourceName":"break",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2",
			"id":"QqAwf",
			"index":49,
			"inputs":{
				"loop":"hITK2",
				"conditions":{
					"filters":[
						{
							"property":"{{ m0gcT.outputs.toolId }}",
							"filter":{
								"operator":"EQUAL",
								"value":"SetSlot"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"subTitle":"SetSlot tool called?",
			"title":"Break",
			"type":"BREAK"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":359,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2",
			"id":"eGSa1",
			"index":50,
			"inputs":{
				"automationId":"682765fa36516f034a828b0c",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"aiAgentId":"{{ 936VZ.outputs.result.aiAgentId }}",
					"caseId":"{{ 936VZ.outputs.result.caseId }}",
					"sessionId":"{{ KQMqH.outputs.session_id }}"
				}
			},
			"skip":false,
			"subTitle":"Update Session Context ",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.item.content.text",
					"root.item.content.audio"
				]
			},
			"context":{
				"appName":"openai",
				"resourceVersion":95,
				"connectionId":"6803b3b6931eb527949e8fee",
				"resourceName":"openai_realtime_send_message",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2",
			"id":"ccS8q",
			"index":51,
			"inputs":{
				"session_id":"{{ KQMqH.outputs.session_id }}",
				"type":"response.create"
			},
			"skip":false,
			"subTitle":"Generate response",
			"title":"Send Message to OpenAI Realtime",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":615,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2",
			"id":"OjkoF",
			"index":52,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"currTime":{
							"type":"string",
							"title":"Curr Time"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"return ['currTime': new Date(System.currentTimeMillis())]"
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":80,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2",
			"id":"u2xRV",
			"index":53,
			"inputs":{
				"filters":[
					{
						"property":"{{ KQMqH.outputs.session_id }}",
						"filter":{
							"operator":"STARTS_WITH",
							"value":"TW"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"voicebot_by_unifyapps",
				"resourceVersion":14,
				"resourceName":"voicebot_by_unifyapps_web_session_respond",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"u2xRV@5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2@y",
			"id":"lxiRN",
			"index":54,
			"inputs":{
				"room_name":"{{ KQMqH.outputs.room_name }}",
				"sent_time":"{{ OjkoF.outputs.result.currTime }}",
				"event_id":"{{ TJS1J.outputs.item.event_id }}",
				"agent_state":"thinking",
				"session_id":"{{ KQMqH.outputs.session_id }}",
				"received_time":"{{ OjkoF.outputs.result.currTime }}"
			},
			"skip":false,
			"subTitle":"Voicebot by UnifyApps",
			"title":"Respond to Voicebot Session",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2595,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@2",
			"id":"mwyJ2",
			"index":55,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ KQMqH.outputs.session_id }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"testing_voicekit",
				"updateFields":[
					{
						"fieldName":"properties.events",
						"actionType":"ADD",
						"setValue":"promptUpdated | {{ OjkoF.outputs.result.currTime }}"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				}
			},
			"skip":true,
			"subTitle":"Debug",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":0,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@3",
			"id":"5Zeq3@3",
			"index":56,
			"inputs":{
				"name":"Branch 3",
				"conditions":{
					"filters":[
						{
							"property":"{{ TJS1J.outputs.item.type }}",
							"filter":{
								"operator":"EQUAL",
								"value":"response.function_call_arguments.delta"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":339,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@3",
			"id":"5vwVp",
			"index":57,
			"inputs":{
				"filters":[
					{
						"property":"{{ IQaDe.outputs.filler_sent }}",
						"filter":{
							"operator":"EQUAL",
							"value":"false"
						}
					},
					{
						"property":"{{ n_yqyWe.outputs.properties.responseGenerationSettings.disableVoiceThought }}",
						"filter":{
							"operator":"NOT_EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":345,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5vwVp@5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@3@y",
			"id":"4yzej",
			"index":58,
			"inputs":{
				"variables":[
					{
						"source":"{{ IQaDe.outputs.filler_sent }}",
						"value":true
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":80,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5vwVp@5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@3@y",
			"id":"LjqRP",
			"index":59,
			"inputs":{
				"filters":[
					{
						"property":"{{ KQMqH.outputs.session_id }}",
						"filter":{
							"operator":"STARTS_WITH",
							"value":"TW"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":85,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"LjqRP@5vwVp@5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@3@y@y",
			"id":"R8ccF",
			"index":60,
			"inputs":{
				"automationId":"682c9c8895175440c674922c",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":true,
					"timeToLive":"3600",
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false,
					"slidingWindowType":"COUNT_BASED"
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"unit":"MINUTES",
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":615,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"LjqRP@5vwVp@5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@3@y@y",
			"id":"tbeB5",
			"index":61,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"currTime":{
							"type":"string",
							"title":"Curr Time"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"return ['currTime': new Date(System.currentTimeMillis())]"
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"voicebot_by_unifyapps",
				"resourceVersion":14,
				"resourceName":"voicebot_by_unifyapps_web_session_respond",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"LjqRP@5vwVp@5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@3@y@y",
			"id":"XREJR",
			"index":62,
			"inputs":{
				"room_name":"{{ KQMqH.outputs.room_name }}",
				"sent_time":"{{ tbeB5.outputs.result.currTime }}",
				"event_id":"{{ TJS1J.outputs.item.event_id }}",
				"agent_state":"speaking",
				"session_id":"{{ KQMqH.outputs.session_id }}",
				"received_time":"{{ tbeB5.outputs.result.currTime }}",
				"audio_content":"{{ R8ccF.outputs.text }}"
			},
			"skip":false,
			"subTitle":"Voicebot by UnifyApps",
			"title":"Respond to Voicebot Session",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":77,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"LjqRP@5vwVp@5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@3@y@n",
			"id":"L5zfU",
			"index":63,
			"inputs":{
				"automationId":"6820ac7cb2489f003f8c4bcb",
				"runtimeConnections":{},
				"synchronous":false,
				"triggerWorkflowWithRuntimeType":"IN_MEMORY",
				"version":"-1",
				"parameters":{
					"room_name":"{{ KQMqH.outputs.room_name }}",
					"session_id":"{{ KQMqH.outputs.session_id }}",
					"text_content":"I will execute the tool now",
					"tool_name":"{{ m0gcT.outputs.toolId }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.item.event_id",
					"root.parameters.item.type",
					"root.parameters.item.item_id",
					"root.parameters.item.previous_item_id",
					"root.parameters.item.content_index",
					"root.parameters.item.output_index",
					"root.parameters.item.transcript",
					"root.parameters.item.delta",
					"root.parameters.item.text",
					"root.parameters.item.audio_start_ms",
					"root.parameters.item.audio_end_ms",
					"root.parameters.item.response.id",
					"root.parameters.item.response.object",
					"root.parameters.item.response.status",
					"root.parameters.item.response.output.source",
					"root.parameters.item.response.output.ua:type",
					"root.parameters.item.response.output.items.id",
					"root.parameters.item.response.output.items.object",
					"root.parameters.item.response.output.items.type",
					"root.parameters.item.response.output.items.status",
					"root.parameters.item.response.output.items.role",
					"root.parameters.item.response.output.items.content.source",
					"root.parameters.item.response.output.items.content.ua:type",
					"root.parameters.item.response.output.items.content.items.type",
					"root.parameters.item.response.output.items.content.items.text",
					"root.parameters.item.response.usage.total_tokens",
					"root.parameters.item.response.usage.input_tokens",
					"root.parameters.item.response.usage.output_tokens",
					"root.parameters.item.response.usage.input_token_details.cached_tokens",
					"root.parameters.item.response.usage.input_token_details.text_tokens",
					"root.parameters.item.response.usage.input_token_details.audio_tokens",
					"root.parameters.item.response.usage.input_token_details.cached_tokens_details.text_tokens",
					"root.parameters.item.response.usage.input_token_details.cached_tokens_details.audio_tokens",
					"root.parameters.item.response.usage.output_token_details.text_tokens",
					"root.parameters.item.response.usage.output_token_details.audio_tokens",
					"root.parameters.item.error.type",
					"root.parameters.item.error.code",
					"root.parameters.item.error.message",
					"root.parameters.item.error.event_id",
					"root.parameters.item.session.id",
					"root.parameters.item.session.object",
					"root.parameters.item.session.model",
					"root.parameters.item.session.modalities.source",
					"root.parameters.item.session.modalities.ua:type",
					"root.parameters.item.session.modalities.items",
					"root.parameters.item.session.instructions",
					"root.parameters.item.session.voice",
					"root.parameters.item.session.input_audio_format",
					"root.parameters.item.session.output_audio_format",
					"root.parameters.item.session.turn_detection.type",
					"root.parameters.item.session.turn_detection.threshold",
					"root.parameters.item.session.turn_detection.prefix_padding_ms",
					"root.parameters.item.session.turn_detection.silence_duration_ms",
					"root.parameters.item.session.tool_choice",
					"root.parameters.item.session.temperature",
					"root.parameters.item.conversation.id",
					"root.parameters.item.conversation.object",
					"root.parameters.item.item.id",
					"root.parameters.item.item.object",
					"root.parameters.item.item.type",
					"root.parameters.item.item.status",
					"root.parameters.item.item.role",
					"root.parameters.item.item.content.source",
					"root.parameters.item.item.content.ua:type",
					"root.parameters.item.item.content.items.type",
					"root.parameters.item.item.content.items.transcript",
					"root.parameters.item.item.content.items.audio",
					"root.parameters.item.part.type",
					"root.parameters.item.part.text",
					"root.parameters.isFirst",
					"root.parameters.isLast"
				]
			},
			"context":{
				"appName":"callables",
				"resourceVersion":358,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5Zeq3@TJS1J@hITK2@BmqQT-1@l@l@default",
			"id":"XOaJA",
			"index":64,
			"inputs":{
				"automationId":"6821cd4b3f9e9818e4214d55",
				"runtimeConnections":{},
				"synchronous":false,
				"triggerWorkflowWithRuntimeType":"IN_MEMORY",
				"version":"-1",
				"parameters":{
					"session_id":"{{ KQMqH.outputs.session_id }}",
					"caseId":"{{ 936VZ.outputs.result.caseId }}",
					"aiAgentId":"{{ 936VZ.outputs.result.aiAgentId }}",
					"userId":"{{ 936VZ.outputs.result.userId }}",
					"item":{
						"event_id":"{{ TJS1J.outputs.item.event_id }}",
						"type":"{{ TJS1J.outputs.item.type }}",
						"item_id":"{{ TJS1J.outputs.item.item_id }}",
						"previous_item_id":"{{ TJS1J.outputs.item.previous_item_id }}",
						"content_index":"{{ TJS1J.outputs.item.content_index }}",
						"output_index":"{{ TJS1J.outputs.item.output_index }}",
						"transcript":"{{ TJS1J.outputs.item.transcript }}",
						"delta":"{{ TJS1J.outputs.item.delta }}",
						"text":"{{ TJS1J.outputs.item.text }}",
						"audio_start_ms":"{{ TJS1J.outputs.item.audio_start_ms }}",
						"audio_end_ms":"{{ TJS1J.outputs.item.audio_end_ms }}",
						"response":{
							"id":"{{ TJS1J.outputs.item.response.id }}",
							"object":"{{ TJS1J.outputs.item.response.object }}",
							"status":"{{ TJS1J.outputs.item.response.status }}",
							"output":{
								"source":"{{ TJS1J.outputs.item.response.output }}",
								"ua:type":"mappedArray",
								"items":{
									"id":"{{ TJS1J.outputs.item.response.output[0].id }}",
									"object":"{{ TJS1J.outputs.item.response.output[0].object }}",
									"type":"{{ TJS1J.outputs.item.response.output[0].type }}",
									"status":"{{ TJS1J.outputs.item.response.output[0].status }}",
									"role":"{{ TJS1J.outputs.item.response.output[0].role }}",
									"content":{
										"source":"{{ TJS1J.outputs.item.response.output[0].content }}",
										"ua:type":"mappedArray",
										"items":{
											"type":"{{ TJS1J.outputs.item.response.output[0].content[0].type }}",
											"text":"{{ TJS1J.outputs.item.response.output[0].content[0].text }}"
										}
									}
								}
							},
							"usage":{
								"total_tokens":"{{ TJS1J.outputs.item.response.usage.total_tokens }}",
								"input_tokens":"{{ TJS1J.outputs.item.response.usage.input_tokens }}",
								"output_tokens":"{{ TJS1J.outputs.item.response.usage.output_tokens }}",
								"input_token_details":{
									"cached_tokens":"{{ TJS1J.outputs.item.response.usage.input_token_details.cached_tokens }}",
									"text_tokens":"{{ TJS1J.outputs.item.response.usage.input_token_details.text_tokens }}",
									"audio_tokens":"{{ TJS1J.outputs.item.response.usage.input_token_details.audio_tokens }}",
									"cached_tokens_details":{
										"text_tokens":"{{ TJS1J.outputs.item.response.usage.input_token_details.cached_tokens_details.text_tokens }}",
										"audio_tokens":"{{ TJS1J.outputs.item.response.usage.input_token_details.cached_tokens_details.audio_tokens }}"
									}
								},
								"output_token_details":{
									"text_tokens":"{{ TJS1J.outputs.item.response.usage.output_token_details.text_tokens }}",
									"audio_tokens":"{{ TJS1J.outputs.item.response.usage.output_token_details.audio_tokens }}"
								}
							},
							"status_details":"{{ TJS1J.outputs.item.response.status_details }}"
						},
						"error":{
							"type":"{{ TJS1J.outputs.item.error.type }}",
							"code":"{{ TJS1J.outputs.item.error.code }}",
							"message":"{{ TJS1J.outputs.item.error.message }}",
							"event_id":"{{ TJS1J.outputs.item.error.event_id }}",
							"param":"{{ TJS1J.outputs.item.error.param }}"
						},
						"session":{
							"id":"{{ TJS1J.outputs.item.session.id }}",
							"object":"{{ TJS1J.outputs.item.session.object }}",
							"model":"{{ TJS1J.outputs.item.session.model }}",
							"modalities":{
								"source":"{{ TJS1J.outputs.item.session.modalities }}",
								"ua:type":"mappedArray",
								"items":"{{ TJS1J.outputs.item.session.modalities[0] }}"
							},
							"instructions":"{{ TJS1J.outputs.item.session.instructions }}",
							"voice":"{{ TJS1J.outputs.item.session.voice }}",
							"input_audio_format":"{{ TJS1J.outputs.item.session.input_audio_format }}",
							"output_audio_format":"{{ TJS1J.outputs.item.session.output_audio_format }}",
							"turn_detection":{
								"type":"{{ TJS1J.outputs.item.session.turn_detection.type }}",
								"threshold":"{{ TJS1J.outputs.item.session.turn_detection.threshold }}",
								"prefix_padding_ms":"{{ TJS1J.outputs.item.session.turn_detection.prefix_padding_ms }}",
								"silence_duration_ms":"{{ TJS1J.outputs.item.session.turn_detection.silence_duration_ms }}"
							},
							"tool_choice":"{{ TJS1J.outputs.item.session.tool_choice }}",
							"temperature":"{{ TJS1J.outputs.item.session.temperature }}",
							"input_audio_transcription":"{{ TJS1J.outputs.item.session.input_audio_transcription }}",
							"tools":{
								"source":"{{ TJS1J.outputs.item.session.tools }}",
								"ua:type":"mappedArray",
								"items":"{{ TJS1J.outputs.item.session.tools[0] }}"
							},
							"max_response_output_tokens":"{{ TJS1J.outputs.item.session.max_response_output_tokens }}"
						},
						"conversation":{
							"id":"{{ TJS1J.outputs.item.conversation.id }}",
							"object":"{{ TJS1J.outputs.item.conversation.object }}"
						},
						"item":{
							"id":"{{ TJS1J.outputs.item.item.id }}",
							"object":"{{ TJS1J.outputs.item.item.object }}",
							"type":"{{ TJS1J.outputs.item.item.type }}",
							"status":"{{ TJS1J.outputs.item.item.status }}",
							"role":"{{ TJS1J.outputs.item.item.role }}",
							"content":{
								"source":"{{ TJS1J.outputs.item.item.content }}",
								"ua:type":"mappedArray",
								"items":{
									"type":"{{ TJS1J.outputs.item.item.content[0].type }}",
									"transcript":"{{ TJS1J.outputs.item.item.content[0].transcript }}",
									"audio":"{{ TJS1J.outputs.item.item.content[0].audio }}"
								}
							}
						},
						"part":{
							"type":"{{ TJS1J.outputs.item.part.type }}",
							"text":"{{ TJS1J.outputs.item.part.text }}"
						}
					},
					"isFirst":"{{ TJS1J.outputs.isFirst }}",
					"isLast":"{{ TJS1J.outputs.isLast }}",
					"caseDetails":{
						"fromCustomerUserId":"{{ uCjsX.outputs.properties.fromCustomerUserId }}",
						"channelName":"{{ uCjsX.outputs.properties.channelName }}",
						"toCustomerUserId":"{{ uCjsX.outputs.properties.toCustomerUserId }}"
					},
					"currTime":"{{ W6EGV.outputs.result.currTime }}",
					"currTimeEpoch":"{{ W6EGV.outputs.result.currTimeEpoch }}",
					"isToolUse":"{{ W6EGV.outputs.result.isToolUse }}"
				}
			},
			"skip":false,
			"subTitle":"Process events (Async)",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":539,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"BmqQT-1",
			"id":"mpPwk",
			"index":65,
			"inputs":{
				"result":{
					"done":"yes"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":1,
	"runtimeConnectionAppNames":[
		"openai"
	],
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"headerValueTierMap":{},
			"tierName":"global"
		}
	},
	"standard":true,
	"version":393
}
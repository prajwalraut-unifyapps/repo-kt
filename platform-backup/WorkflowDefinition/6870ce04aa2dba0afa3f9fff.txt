{
	"appsUsed":[
		
	],
	"createdTime":1752312876938,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1759243653191,
		"deployedBy":-1,
		"deployedDefinitionId":"68dbed8523e6682b9a51edb6",
		"status":"DEPLOYED",
		"version":24,
		"workflowVersion":42
	},
	"edges":[
		{
			"fromNodeId":"n_N8l7x",
			"priority":0,
			"skip":false,
			"toNodeId":"_pmFVI",
			"type":"next"
		},
		{
			"fromNodeId":"_pmFVI",
			"priority":0,
			"skip":false,
			"toNodeId":"n_TvlSJ",
			"type":"next"
		},
		{
			"fromNodeId":"n_TvlSJ",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_jY3Lg",
			"type":"if"
		},
		{
			"fromNodeId":"n_jY3Lg",
			"priority":0,
			"skip":false,
			"toNodeId":"_0Y1O2",
			"type":"next"
		},
		{
			"fromNodeId":"n_TvlSJ",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_0Y1O2",
			"type":"next"
		},
		{
			"fromNodeId":"_0Y1O2",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_7OYo5",
			"type":"if"
		},
		{
			"fromNodeId":"_7OYo5",
			"priority":0,
			"skip":false,
			"toNodeId":"_mSgxd",
			"type":"next"
		},
		{
			"fromNodeId":"_mSgxd",
			"priority":0,
			"skip":false,
			"toNodeId":"RAXx5",
			"type":"next"
		},
		{
			"fromNodeId":"RAXx5",
			"priority":0,
			"skip":false,
			"toNodeId":"9iddU",
			"type":"next"
		},
		{
			"fromNodeId":"9iddU",
			"priority":0,
			"skip":false,
			"toNodeId":"tUogb",
			"type":"next"
		},
		{
			"fromNodeId":"tUogb",
			"priority":0,
			"skip":false,
			"toNodeId":"_xtYVn",
			"type":"next"
		},
		{
			"fromNodeId":"_xtYVn",
			"name":"success",
			"priority":0,
			"skip":false,
			"toNodeId":"TFpbC",
			"type":"next"
		},
		{
			"fromNodeId":"TFpbC",
			"priority":0,
			"skip":false,
			"toNodeId":"RtEiG",
			"type":"next"
		},
		{
			"fromNodeId":"_xtYVn",
			"name":"error",
			"priority":0,
			"skip":false,
			"toNodeId":"RtEiG",
			"type":"error"
		},
		{
			"fromNodeId":"RtEiG",
			"priority":0,
			"skip":false,
			"toNodeId":"bLXsJ",
			"type":"next"
		},
		{
			"fromNodeId":"bLXsJ",
			"priority":0,
			"skip":false,
			"toNodeId":"8jlaI",
			"type":"next"
		},
		{
			"fromNodeId":"8jlaI",
			"priority":0,
			"skip":false,
			"toNodeId":"eD8Sw",
			"type":"next"
		},
		{
			"fromNodeId":"eD8Sw",
			"priority":0,
			"skip":false,
			"toNodeId":"_gDDVz",
			"type":"next"
		},
		{
			"fromNodeId":"_gDDVz",
			"priority":0,
			"skip":false,
			"toNodeId":"n_s8BOI",
			"type":"next"
		},
		{
			"fromNodeId":"_0Y1O2",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"n_s8BOI",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"6870ce04aa2dba0afa3f9fff",
	"lastModifiedBy":-1,
	"lcName":"knowledge indexer | ms teams | index channel message",
	"modifiedTime":1759371970876,
	"name":"Knowledge Indexer | MS Teams | Index Channel Message",
	"nodes":[
		{
			"additional":{
				"xsdSchemaConfig":{
					"root":{}
				}
			},
			"context":{
				"appName":"callables",
				"resourceVersion":445,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_l4ksc-1",
			"id":"n_N8l7x",
			"index":0,
			"inputs":{
				"result":{
					"type":"object",
					"properties":{
						"result":{
							"type":"boolean",
							"title":"Result"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"setup":{
					"type":"object",
					"properties":{
						"attachments":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false,
								"required":[]
							},
							"title":"attachments"
						},
						"body":{
							"type":"object",
							"properties":{
								"content":{
									"type":"string",
									"title":"content"
								},
								"contentType":{
									"type":"string",
									"title":"contentType"
								}
							},
							"title":"body",
							"additionalProperties":false
						},
						"channelIdentity":{
							"type":"object",
							"properties":{
								"channelId":{
									"type":"string",
									"title":"channelId"
								},
								"teamId":{
									"type":"string",
									"title":"teamId"
								}
							},
							"title":"channelIdentity",
							"additionalProperties":false
						},
						"createdDateTime":{
							"type":"string",
							"title":"createdDateTime"
						},
						"etag":{
							"type":"string",
							"title":"etag"
						},
						"from":{
							"type":"object",
							"properties":{
								"user":{
									"type":"object",
									"properties":{
										"@odata_type":{
											"type":"string",
											"title":"@odata_type"
										},
										"displayName":{
											"type":"string",
											"title":"displayName"
										},
										"id":{
											"type":"string",
											"title":"id"
										},
										"tenantId":{
											"type":"string",
											"title":"tenantId"
										},
										"userIdentityType":{
											"type":"string",
											"title":"userIdentityType"
										}
									},
									"title":"user",
									"additionalProperties":false
								}
							},
							"title":"from",
							"additionalProperties":false
						},
						"id":{
							"type":"string",
							"title":"id"
						},
						"importance":{
							"type":"string",
							"title":"importance"
						},
						"lastModifiedDateTime":{
							"type":"string",
							"title":"lastModifiedDateTime"
						},
						"locale":{
							"type":"string",
							"title":"locale"
						},
						"mentions":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"mentions"
						},
						"messageType":{
							"type":"string",
							"title":"messageType"
						},
						"reactions":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"reactions"
						},
						"replies":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"attachments":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{},
											"additionalProperties":false
										},
										"title":"attachments"
									},
									"body":{
										"type":"object",
										"properties":{
											"content":{
												"type":"string",
												"title":"content"
											},
											"contentType":{
												"type":"string",
												"title":"contentType"
											}
										},
										"title":"body",
										"additionalProperties":false
									},
									"channelIdentity":{
										"type":"object",
										"properties":{
											"channelId":{
												"type":"string",
												"title":"channelId"
											},
											"teamId":{
												"type":"string",
												"title":"teamId"
											}
										},
										"title":"channelIdentity",
										"additionalProperties":false
									},
									"createdDateTime":{
										"type":"string",
										"title":"createdDateTime"
									},
									"etag":{
										"type":"string",
										"title":"etag"
									},
									"from":{
										"type":"object",
										"properties":{
											"user":{
												"type":"object",
												"properties":{
													"@odata_type":{
														"type":"string",
														"title":"@odata_type"
													},
													"displayName":{
														"type":"string",
														"title":"displayName"
													},
													"id":{
														"type":"string",
														"title":"id"
													},
													"tenantId":{
														"type":"string",
														"title":"tenantId"
													},
													"userIdentityType":{
														"type":"string",
														"title":"userIdentityType"
													}
												},
												"title":"user",
												"additionalProperties":false
											}
										},
										"title":"from",
										"additionalProperties":false
									},
									"id":{
										"type":"string",
										"title":"id"
									},
									"importance":{
										"type":"string",
										"title":"importance"
									},
									"lastModifiedDateTime":{
										"type":"string",
										"title":"lastModifiedDateTime"
									},
									"locale":{
										"type":"string",
										"title":"locale"
									},
									"mentions":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{},
											"additionalProperties":false
										},
										"title":"mentions"
									},
									"messageType":{
										"type":"string",
										"title":"messageType"
									},
									"reactions":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{},
											"additionalProperties":false
										},
										"title":"reactions"
									},
									"replyToId":{
										"type":"string",
										"title":"replyToId"
									},
									"subject":{
										"type":"string",
										"title":"subject"
									},
									"webUrl":{
										"type":"string",
										"title":"webUrl"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"replies"
						},
						"subject":{
							"type":"string",
							"title":"subject"
						},
						"webUrl":{
							"type":"string",
							"title":"webUrl"
						},
						"twoDaysBeforeDateAndTime":{
							"type":"integer",
							"title":"twoDaysBeforeDateAndTime"
						},
						"channelName":{
							"type":"string",
							"title":"Channel Name"
						},
						"connectionId":{
							"type":"string",
							"title":"Connection Id"
						},
						"knowledgeId":{
							"type":"string",
							"title":"Knowledge Id"
						},
						"readVersion":{
							"type":"string",
							"title":"Read Version"
						},
						"aiAgentId":{
							"type":"string",
							"title":"Ai Agent Id"
						}
					},
					"additionalProperties":false,
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.replies.items",
					"root.parameters.twoDaysBeforeDateAndTime"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":72,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_l4ksc-1",
			"id":"_pmFVI",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"isIndex":{
							"type":"boolean",
							"title":"Is Index"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"actualCreationDateTime":{
							"type":"string",
							"title":"Actual Creation Date Time"
						},
						"twoDaysBeforeDateAndTime":{
							"type":"integer",
							"title":"Two Days Before Date And Time"
						},
						"replies":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Replies"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def actualCreatedDateEpoch\nif (binding.hasVariable('actualCreationDateTime') && actualCreationDateTime) {\n    actualCreatedDateEpoch = java.time.Instant.parse(actualCreationDateTime).toEpochMilli()\n}\n\ndef lastReplyTimeEpoch\nif (binding.hasVariable('replies') && replies.size()>0) {\n    def lastReplyTime = replies[0].createdDateTime\n    lastReplyTimeEpoch = java.time.Instant.parse(lastReplyTime).toEpochMilli()\n}\n\nif(!binding.hasVariable('twoDaysBeforeDateAndTime')) {\n    return [\"isIndex\": true]\n}\n\nif(lastReplyTimeEpoch && ((lastReplyTimeEpoch > twoDaysBeforeDateAndTime) || (actualCreatedDateEpoch > twoDaysBeforeDateAndTime))) {\n    return [\"isIndex\": true]\n}\nelse if(!lastReplyTimeEpoch && (actualCreatedDateEpoch > twoDaysBeforeDateAndTime)) {\n    return [\"isIndex\": true]\n}\n\nreturn [\"isIndex\": false]\n",
				"parameters":{
					"actualCreationDateTime":"{{ n_N8l7x.outputs.createdDateTime }}",
					"replies":{
						"source":"{{ n_N8l7x.outputs.replies }}",
						"ua:type":"mappedArray",
						"items":"{{ n_N8l7x.outputs.replies[0] }}"
					},
					"twoDaysBeforeDateAndTime":"{{ n_N8l7x.outputs.twoDaysBeforeDateAndTime }}"
				}
			},
			"skip":false,
			"subTitle":"Check time filters",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":438,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_l4ksc-1",
			"id":"n_TvlSJ",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ _pmFVI.outputs.result.isIndex }}",
						"filter":{
							"operator":"EQUAL",
							"value":"false"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":455,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_TvlSJ@_l4ksc-1@y",
			"id":"n_jY3Lg",
			"index":0,
			"inputs":{
				"result":{
					"result":false
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":54,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_l4ksc-1",
			"id":"_0Y1O2",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ n_N8l7x.outputs.messageType }}",
						"filter":{
							"operator":"EQUAL",
							"value":"message"
						}
					},
					{
						"property":"{{ n_N8l7x.outputs.body.content }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.channelId",
					"root.parameters.subject",
					"root.parameters.channelId",
					"root.parameters.subject",
					"root.parameters.channelId",
					"root.parameters.subject"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":62,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_0Y1O2@_l4ksc-1@y",
			"id":"_7OYo5",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"chunkMetadata":{
							"type":"object",
							"title":"chunkMetadata"
						}
					},
					"additionalProperties":false
				},
				"input":{
					"type":"object",
					"properties":{
						"appName":{
							"type":"string",
							"title":"App Name"
						},
						"referenceUrl":{
							"type":"string",
							"title":"Reference Url"
						},
						"author":{
							"type":"string",
							"title":"Author"
						},
						"creationDateTime":{
							"type":"string",
							"title":"Creation Date Time"
						},
						"messageId":{
							"type":"string",
							"title":"Message Id"
						},
						"channelId":{
							"type":"string",
							"title":"Channel Id"
						},
						"subject":{
							"type":"string",
							"title":"Subject"
						}
					},
					"additionalProperties":false,
					"required":[
						"author",
						"creationDateTime",
						"messageId",
						"channelId",
						"subject"
					]
				},
				"compile_static":false,
				"code":"def chunk_metadata = [:]\nchunk_metadata << (binding.hasVariable('channelId') && channelId ? [\"channelId\": channelId] : [:])\nchunk_metadata << (binding.hasVariable('messageId') && messageId ? [\"messageId\": messageId] : [:])\nchunk_metadata << (binding.hasVariable('subject') && messageId ? [\"subject\": subject] : [:])\nchunk_metadata << (binding.hasVariable('appName') && appName ? [\"appName\": appName] : [:])\nchunk_metadata << (binding.hasVariable('referenceUrl') && referenceUrl ? [\"referenceUrl\": referenceUrl] : [:])\nchunk_metadata << (binding.hasVariable('author') && author ? [\"author\": author] : [:])\nchunk_metadata << (binding.hasVariable('creationDateTime') && creationDateTime ? [\"date\": java.time.Instant.parse(creationDateTime).toEpochMilli()] : [:])\n\nreturn [\"chunkMetadata\":chunk_metadata]",
				"isAsync":false,
				"parameters":{
					"appName":"microsoft_teams",
					"channelId":"{{ n_N8l7x.outputs.channelIdentity.channelId }}",
					"subject":"{{ n_N8l7x.outputs.subject }}",
					"messageId":"{{ n_N8l7x.outputs.id }}",
					"creationDateTime":"{{ n_N8l7x.outputs.createdDateTime }}",
					"author":"{{ n_N8l7x.outputs.from.user.displayName }}",
					"referenceUrl":"{{ n_N8l7x.outputs.webUrl }}"
				}
			},
			"skip":false,
			"subTitle":"Create Chunkmetadata",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.channelId"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":65,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_0Y1O2@_l4ksc-1@y",
			"id":"_mSgxd",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"channelGrants":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Channel Grants"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"channelId":{
							"type":"string",
							"title":"Channel Id"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def channelGrants = []\nchannelGrants << 'microsoft_teams/ug/' + channelId\n\nreturn [\"channelGrants\":channelGrants]\n\n",
				"isAsync":false,
				"parameters":{
					"channelId":"{{ n_N8l7x.outputs.channelIdentity.channelId }}"
				}
			},
			"skip":false,
			"subTitle":"Create Grants",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"utility_by_unifyapps",
				"resourceVersion":62,
				"resourceName":"utility_by_unifyapps_from_html_to_plain_text",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_0Y1O2@_l4ksc-1@y",
			"id":"RAXx5",
			"index":0,
			"inputs":{
				"conversionType":"plainText",
				"htmlString":"{{ n_N8l7x.outputs.body.content }}"
			},
			"skip":false,
			"subTitle":"Convert html to simple text",
			"title":"Convert HTML to text",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":65,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_0Y1O2@_l4ksc-1@y",
			"id":"9iddU",
			"index":0,
			"inputs":{
				"automationId":"67aca2dc4b96261af99a565b",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"messageReplies":{
						"ua:type":"mappedArray",
						"source":"{{ n_N8l7x.outputs.replies }}",
						"items":{
							"content":"{{ n_N8l7x.outputs.replies[0].body.content }}",
							"userInfo":"{{ n_N8l7x.outputs.replies[0].from.user.displayName }}",
							"messageType":"{{ n_N8l7x.outputs.replies[0].messageType }}"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":454,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_0Y1O2@_l4ksc-1@y",
			"id":"tUogb",
			"index":0,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"authorEmail":{
							"type":"string",
							"title":"Author Email"
						}
					},
					"required":[]
				}
			},
			"inputs":{},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"authorEmail":{
							"type":"string",
							"title":"Author Email"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Email of author",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":57,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"MANUAL",
			"groupId":"_0Y1O2@_l4ksc-1@y",
			"id":"_xtYVn",
			"index":0,
			"inputs":{
				"automationId":"670d280bd4e0ba6a4e5794b8",
				"runtimeConnections":{
					"microsoft_teams":"{{ n_N8l7x.outputs.connectionId }}"
				},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"userId":"{{ n_N8l7x.outputs.from.user.id }}"
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"MANUAL",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":388,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_xtYVn@_0Y1O2@_l4ksc-1@y@success",
			"id":"TFpbC",
			"index":0,
			"inputs":{
				"variables":[
					{
						"source":"{{ tUogb.outputs.authorEmail }}",
						"value":"{{ _xtYVn.outputs.authorEmail }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.replies.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":63,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_0Y1O2@_l4ksc-1@y",
			"id":"RtEiG",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"finalResult":{
							"type":"string",
							"title":"Final Result"
						}
					},
					"additionalProperties":false,
					"required":[
						"finalResult"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"content":{
							"type":"string",
							"title":"Content"
						},
						"replies":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Replies"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"if(binding.hasVariable(\"replies\") && replies.size()!=0) {\n  def repliesString = replies.collect { reply -> \"${reply.userInfo}: ${reply.content}\" }.join(\"; \")\n  def output = content + \" \" + repliesString\n  return [\"finalResult\": output]\n}\nelse {\n  return [\"finalResult\": content]\n}",
				"parameters":{
					"replies":{
						"ua:type":"mappedArray",
						"source":"{{ 9iddU.outputs.replies }}",
						"items":"{{ 9iddU.outputs.replies[0] }}"
					},
					"content":"Message in Teams Channel with Name: {{ n_N8l7x.outputs.channelName }}  From: {{ n_N8l7x.outputs.from.user.displayName }}  Message : {{ RAXx5.outputs.convertedText }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":397,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_0Y1O2@_l4ksc-1@y",
			"id":"bLXsJ",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"inputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Inputs"
						}
					},
					"additionalProperties":false,
					"required":[
						"inputs"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"attachments":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Attachments"
						},
						"userId":{
							"type":"string",
							"title":"User Id"
						},
						"chunkMetadata":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Chunk Metadata"
						},
						"messageId":{
							"type":"string",
							"title":"Message Id"
						},
						"sharedWithIds":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Shared With Ids"
						}
					},
					"additionalProperties":false,
					"required":[
						"attachments",
						"userId",
						"chunkMetadata",
						"messageId",
						"sharedWithIds"
					]
				},
				"compile_static":false,
				"code":"def toReturn = [:]\n\nif(binding.hasVariable('attachments')){\n  toReturn.put(\"attachments\", attachments)\n}\nif(binding.hasVariable('userId')){\n  toReturn.put(\"userId\", userId)\n}\nif(binding.hasVariable('sharedWithIds')){\n  toReturn.put(\"sharedWithIds\", sharedWithIds)\n}\nif(binding.hasVariable('messageId')){\n  toReturn.put(\"messageId\", messageId)\n}\nif(binding.hasVariable('chunkMetadata')){\n  toReturn.put(\"chunkMetadata\", chunkMetadata)\n}\n\nreturn [\"inputs\":toReturn]",
				"parameters":{
					"attachments":{
						"ua:type":"mappedArray",
						"source":"{{ n_N8l7x.outputs.attachments }}",
						"items":"{{ n_N8l7x.outputs.attachments[0] }}"
					},
					"sharedWithIds":{
						"source":"{{ _mSgxd.outputs.result.channelGrants }}",
						"ua:type":"mappedArray",
						"items":"{{ _mSgxd.outputs.result.channelGrants[0] }}"
					},
					"chunkMetadata":"{{ _7OYo5.outputs.result.chunkMetadata }}",
					"userId":"{{ n_N8l7x.outputs.from.user.id }}",
					"messageId":"{{ n_N8l7x.outputs.id }}"
				}
			},
			"skip":false,
			"subTitle":"Creating Inputs for index attachments",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.knowledgeId",
					"root.parameters.aiAgentId",
					"root.parameters.knowledge.applicationInfo.context.connectionId"
				]
			},
			"context":{
				"appName":"callables",
				"resourceVersion":410,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_0Y1O2@_l4ksc-1@y",
			"id":"8jlaI",
			"index":0,
			"inputs":{
				"automationId":"67cfcc524325fe127a2fea02",
				"runtimeConnections":{
					"microsoft_teams":"{{ n_N8l7x.outputs.connectionId }}"
				},
				"synchronous":false,
				"version":"-1",
				"parameters":{
					"inputs":"{{ bLXsJ.outputs.result.inputs }}",
					"knowledgeId":"{{ n_N8l7x.outputs.knowledgeId }}",
					"aiAgentId":"{{ n_N8l7x.outputs.aiAgentId }}",
					"knowledge":{
						"applicationInfo":{
							"context":{
								"connectionId":"{{ n_N8l7x.outputs.connectionId }}"
							}
						},
						"readVersion":"{{ n_N8l7x.outputs.readVersion }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Index attachments",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":62,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_0Y1O2@_l4ksc-1@y",
			"id":"eD8Sw",
			"index":0,
			"inputs":{
				"automationId":"67091f09c6db330cf5b08ead",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"text":"{{ RtEiG.outputs.result.finalResult }}",
					"knowledgeId":"{{ n_N8l7x.outputs.knowledgeId }}"
				}
			},
			"skip":false,
			"subTitle":"Text chunker",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.knowledgeId"
				]
			},
			"context":{
				"appName":"callables",
				"resourceVersion":48,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_0Y1O2@_l4ksc-1@y",
			"id":"_gDDVz",
			"index":0,
			"inputs":{
				"automationId":"66af3ff4cd79b321cb478a37",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"chunks":{
						"ua:type":"mappedArray",
						"items":{
							"sharedWithIds":{
								"ua:type":"mappedArray",
								"source":"{{ _mSgxd.outputs.result.channelGrants }}",
								"items":"{{ _mSgxd.outputs.result.channelGrants[0] }}"
							},
							"data":"{{ eD8Sw.outputs.chunks[0] }}"
						},
						"source":"{{ eD8Sw.outputs.chunks }}"
					},
					"knowledgeId":"{{ n_N8l7x.outputs.knowledgeId }}",
					"chunkMetadata":"{{ _7OYo5.outputs.result.chunkMetadata }}",
					"authorEmail":"{{ tUogb.outputs.authorEmail }}",
					"knowledgeVersion":"={{ n_N8l7x.outputs.readVersion }}",
					"uniqueEntityId":"{{ n_N8l7x.outputs.id }}"
				}
			},
			"skip":false,
			"subTitle":"Index knowedge",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":455,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_l4ksc-1",
			"id":"n_s8BOI",
			"index":0,
			"inputs":{
				"result":{
					"result":true
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":43069,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		
	],
	"version":43
}
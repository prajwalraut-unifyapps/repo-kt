{
	"appsUsed":[
		
	],
	"createdTime":1739014330165,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1759243592084,
		"deployedBy":-1,
		"deployedDefinitionId":"68dbed489213d707c2d273f8",
		"status":"DEPLOYED",
		"version":67,
		"workflowVersion":95
	},
	"edges":[
		{
			"fromNodeId":"jVUhg",
			"priority":0,
			"skip":false,
			"toNodeId":"jvH0U",
			"type":"next"
		},
		{
			"fromNodeId":"jvH0U",
			"priority":0,
			"skip":false,
			"toNodeId":"JjWzF",
			"type":"next"
		},
		{
			"fromNodeId":"JjWzF",
			"priority":0,
			"skip":false,
			"toNodeId":"soDQ3",
			"type":"loop"
		},
		{
			"fromNodeId":"soDQ3",
			"name":"success",
			"priority":0,
			"skip":false,
			"toNodeId":"tRmcF",
			"type":"next"
		},
		{
			"fromNodeId":"soDQ3",
			"name":"error",
			"priority":0,
			"skip":false,
			"toNodeId":"DmAKD",
			"type":"error"
		},
		{
			"fromNodeId":"DmAKD",
			"priority":0,
			"skip":false,
			"toNodeId":"iJBc5",
			"type":"next"
		},
		{
			"fromNodeId":"tRmcF",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"JjWzF",
			"type":"next"
		},
		{
			"fromNodeId":"iJBc5",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"JjWzF",
			"type":"next"
		},
		{
			"fromNodeId":"JjWzF",
			"priority":0,
			"skip":false,
			"toNodeId":"ou5vC",
			"type":"next"
		},
		{
			"fromNodeId":"ou5vC",
			"priority":0,
			"skip":false,
			"toNodeId":"FCScn",
			"type":"next"
		},
		{
			"fromNodeId":"FCScn",
			"priority":0,
			"skip":false,
			"toNodeId":"zU51J",
			"type":"next"
		},
		{
			"fromNodeId":"zU51J",
			"priority":0,
			"skip":false,
			"toNodeId":"LSAya",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"67a740ba50c72d78ed950f22",
	"lastModifiedBy":-1,
	"lcName":"validate steps content",
	"modifiedTime":1759371911669,
	"name":"Validate Steps Content",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":258,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"hJ3Xl-1",
			"id":"jVUhg",
			"index":0,
			"inputs":{
				"result":{
					"type":"object",
					"properties":{
						"convertedList":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"nodes":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{
												"context":{
													"type":"object",
													"properties":{
														"appName":{
															"type":"string",
															"title":"appName"
														},
														"resourceName":{
															"type":"string",
															"title":"resourceName"
														},
														"connectionId":{
															"type":"string",
															"title":"Connection Id"
														}
													},
													"additionalProperties":false,
													"required":[]
												},
												"input":{
													"type":"object",
													"properties":{},
													"additionalProperties":false,
													"title":"Input"
												}
											},
											"additionalProperties":false
										},
										"title":"Nodes"
									},
									"errors":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{},
											"additionalProperties":false
										},
										"title":"Errors"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"Converted List"
						}
					},
					"additionalProperties":false,
					"required":[
						"convertedList"
					]
				},
				"setup":{
					"type":"object",
					"properties":{
						"steps":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"instructions":{
										"type":"string",
										"title":"Instructions"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"Steps"
						}
					},
					"additionalProperties":false,
					"required":[
						"steps"
					]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":319,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"hJ3Xl-1",
			"id":"jvH0U",
			"index":0,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"type":"object",
									"properties":{
										"nodes":{
											"type":"array",
											"items":{
												"type":"object",
												"properties":{
													"context":{
														"type":"object",
														"properties":{
															"appName":{
																"type":"string",
																"title":"App Name"
															},
															"resourceName":{
																"type":"string",
																"title":"Resource Name"
															},
															"connectionId":{
																"type":"string",
																"title":"Connection Id"
															}
														},
														"additionalProperties":false,
														"title":"Context",
														"required":[]
													},
													"input":{
														"type":"object",
														"properties":{},
														"additionalProperties":false,
														"title":"Input"
													}
												},
												"additionalProperties":false,
												"required":[]
											},
											"title":"Nodes"
										},
										"errors":{
											"type":"array",
											"items":{
												"type":"object",
												"properties":{},
												"additionalProperties":false
											},
											"title":"Errors"
										}
									},
									"required":[]
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray"
				},
				"ua:title":"convertedList",
				"ua:list_type":"OBJECT"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"convertedList",
							"disableActions":true,
							"items":{
								"type":"object",
								"properties":{
									"nodes":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{
												"context":{
													"type":"object",
													"properties":{
														"appName":{
															"type":"string",
															"title":"App Name"
														},
														"resourceName":{
															"type":"string",
															"title":"Resource Name"
														},
														"connectionId":{
															"type":"string",
															"title":"Connection Id"
														}
													},
													"additionalProperties":false,
													"title":"Context",
													"required":[]
												},
												"input":{
													"type":"object",
													"properties":{},
													"additionalProperties":false,
													"title":"Input"
												}
											},
											"additionalProperties":false,
											"required":[]
										},
										"title":"Nodes"
									},
									"errors":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{},
											"additionalProperties":false
										},
										"title":"Errors"
									}
								},
								"required":[]
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":288,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"hJ3Xl-1",
			"id":"JjWzF",
			"index":0,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ jVUhg.outputs.steps }}"
			},
			"skip":false,
			"subTitle":"Loop on steps",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":275,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"MANUAL",
			"groupId":"JjWzF@hJ3Xl-1@l",
			"id":"soDQ3",
			"index":0,
			"inputs":{
				"automationId":"67a44c1f34426578ae89187a",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"stepInstructions":"{{ JjWzF.outputs.item.instructions }}"
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"MANUAL",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"Convert step",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.itemToAdd.nodes.items.context.appName",
					"root.itemToAdd.nodes.items.context.resourceName",
					"root.itemToAdd.nodes.items.context.connectionId",
					"root.itemToAdd.errors.items",
					"root.itemToAdd.nodes.items.input"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":262,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"soDQ3@JjWzF@hJ3Xl-1@l@success",
			"id":"tRmcF",
			"index":0,
			"inputs":{
				"itemToAdd":{
					"nodes":{
						"source":"{{ soDQ3.outputs.nodes }}",
						"ua:type":"mappedArray",
						"items":{
							"context":{
								"appName":"{{ soDQ3.outputs.nodes[0].context.appName }}",
								"resourceName":"{{ soDQ3.outputs.nodes[0].context.resourceName }}",
								"connectionId":"{{ soDQ3.outputs.nodes[0].context.connectionId }}"
							},
							"input":"{{ soDQ3.outputs.nodes[0].input }}"
						}
					},
					"errors":{
						"source":"{{ soDQ3.outputs.errors }}",
						"ua:type":"mappedArray",
						"items":"{{ soDQ3.outputs.errors[0] }}"
					}
				},
				"insertLocation":"END",
				"listName":"{{ jvH0U.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":267,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"soDQ3@JjWzF@hJ3Xl-1@l@error",
			"id":"DmAKD",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"error":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Error"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"return [\"error\": [\"errorMessage\": \"Unable to map this content to any existing actions.\"]]"
			},
			"skip":false,
			"subTitle":"error",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.itemToAdd.nodes.items.context.appName",
					"root.itemToAdd.nodes.items.context.resourceName",
					"root.itemToAdd.nodes.items.context.connectionId",
					"root.itemToAdd.errors.items",
					"root.itemToAdd.nodes.items.input"
				]
			},
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":262,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"soDQ3@JjWzF@hJ3Xl-1@l@error",
			"id":"iJBc5",
			"index":0,
			"inputs":{
				"itemToAdd":{
					"errors":{
						"items":"{{ DmAKD.outputs.result.error }}",
						"ua:type":"mappedArray"
					}
				},
				"insertLocation":"END",
				"listName":"{{ jvH0U.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.convertedList.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":267,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"hJ3Xl-1",
			"id":"ou5vC",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"appNames":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"App Names"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"convertedList":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Converted List"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def appNames = [] as Set;\nfor(response in convertedList) {\n  def errors = response?.errors\n  if(errors != null) {\n    for(error in errors) {\n      if(error?.appName != null) {\n         appNames.add(error.appName)\n      }\n    }\n  }\n}\n\nreturn [\"appNames\": appNames]",
				"parameters":{
					"convertedList":{
						"source":"{{ jvH0U.outputs.items }}",
						"ua:type":"mappedArray",
						"items":"{{ jvH0U.outputs.items[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"errorAppNames Lookup",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"standard_entities",
				"resourceVersion":135,
				"resourceName":"standard_entities_lookup_entities",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"hJ3Xl-1",
			"id":"FCScn",
			"index":0,
			"inputs":{
				"keys":"{{ ou5vC.outputs.result.appNames}}",
				"lookupType":"APPLICATION_BY_NAME",
				"page":{
					"limit":20,
					"offset":0
				},
				"fields":[],
				"type":"ByKeys"
			},
			"skip":false,
			"subTitle":"Standard entities by UnifyApps",
			"title":"Lookup Request",
			"type":"ACTION"
		},
		{
			"additional":{
				"xsdSchemaConfig":{
					"root.output":{}
				},
				"visibleOptionalFields":[
					"root.parameters.convertedSteps.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":267,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"hJ3Xl-1",
			"id":"zU51J",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"stepsWithAppLabelPopulated":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"errors":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{
												"appName":{
													"type":"string",
													"title":"appName"
												},
												"errorMessage":{
													"type":"string",
													"title":"errorMessage"
												},
												"errorType":{
													"type":"string",
													"title":"errorType"
												},
												"appNameLabel":{
													"type":"string",
													"title":"App Name Label"
												}
											},
											"additionalProperties":false,
											"required":[]
										},
										"title":"errors"
									},
									"nodes":{
										"type":"array",
										"items":{
											"type":"object",
											"properties":{
												"context":{
													"type":"object",
													"properties":{
														"appName":{
															"type":"string",
															"title":"appName"
														},
														"resourceName":{
															"type":"string",
															"title":"resourceName"
														},
														"connectionId":{
															"type":"string",
															"title":"Connection Id"
														}
													},
													"title":"context",
													"additionalProperties":false,
													"required":[]
												},
												"input":{
													"type":"object",
													"properties":{},
													"additionalProperties":false,
													"title":"Input"
												}
											},
											"additionalProperties":false,
											"required":[]
										},
										"title":"nodes"
									}
								},
								"additionalProperties":false
							},
							"title":"Steps With App Label Populated"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"convertedSteps":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Converted Steps"
						},
						"lookupResponse":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Lookup Response"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"if(!binding.hasVariable('convertedSteps')) {\n  return [\"stepsWithAppLabelPopulated\": []]\n}\n\nfor(response in convertedSteps) {\n  def errors = response?.errors\n  if(errors != null) {\n    for(error in errors) {\n      if(error?.appName != null) {\n         def appNameLookup = lookupResponse?.objects.get(error?.appName)\n         if(appNameLookup != null) {\n            error.put(\"appNameLabel\", appNameLookup.name)\n         }\n      }\n    }\n  }\n}\n\nreturn [\"stepsWithAppLabelPopulated\": convertedSteps]",
				"parameters":{
					"convertedSteps":{
						"source":"{{ jvH0U.outputs.items }}",
						"ua:type":"mappedArray",
						"items":"{{ jvH0U.outputs.items[0] }}"
					},
					"lookupResponse":"{{ FCScn.outputs.response }}"
				}
			},
			"skip":false,
			"subTitle":"errors Populate displayName",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":249,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"hJ3Xl-1",
			"id":"LSAya",
			"index":0,
			"inputs":{
				"result":{
					"convertedList":{
						"ua:type":"mappedArray",
						"items":{
							"nodes":{
								"ua:type":"mappedArray",
								"items":{
									"context":{
										"appName":"{{ zU51J.outputs.result.stepsWithAppLabelPopulated[0].nodes[0].context.appName }}",
										"resourceName":"{{ zU51J.outputs.result.stepsWithAppLabelPopulated[0].nodes[0].context.resourceName }}",
										"connectionId":"{{ zU51J.outputs.result.stepsWithAppLabelPopulated[0].nodes[0].context.connectionId }}"
									},
									"input":"{{ zU51J.outputs.result.stepsWithAppLabelPopulated[0].nodes[0].input }}"
								},
								"source":"{{ zU51J.outputs.result.stepsWithAppLabelPopulated[0].nodes }}"
							},
							"errors":{
								"ua:type":"mappedArray",
								"source":"{{ zU51J.outputs.result.stepsWithAppLabelPopulated[0].errors }}",
								"items":"{{ zU51J.outputs.result.stepsWithAppLabelPopulated[0].errors[0] }}"
							}
						},
						"source":"{{ zU51J.outputs.result.stepsWithAppLabelPopulated }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":635,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		
	],
	"version":96
}
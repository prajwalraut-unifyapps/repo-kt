{
	"appsUsed":[
		"storage_by_unifyapps"
	],
	"createdTime":1723188386695,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1758646533335,
		"deployedBy":0,
		"deployedDefinitionId":"68d2d1059f85565fb8fa5d9f",
		"status":"DEPLOYED",
		"version":79,
		"workflowVersion":731
	},
	"edges":[
		{
			"fromNodeId":"IWZGH",
			"priority":0,
			"skip":false,
			"toNodeId":"CGEl3",
			"type":"next"
		},
		{
			"fromNodeId":"CGEl3",
			"priority":0,
			"skip":false,
			"toNodeId":"YqzYe",
			"type":"next"
		},
		{
			"fromNodeId":"YqzYe",
			"priority":0,
			"skip":false,
			"toNodeId":"hm1Bd",
			"type":"next"
		},
		{
			"fromNodeId":"hm1Bd",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"Wv3k7",
			"type":"if"
		},
		{
			"fromNodeId":"Wv3k7",
			"priority":0,
			"skip":false,
			"toNodeId":"w9FyP",
			"type":"next"
		},
		{
			"fromNodeId":"w9FyP",
			"priority":0,
			"skip":false,
			"toNodeId":"4ZhBN",
			"type":"next"
		},
		{
			"fromNodeId":"hm1Bd",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"4ZhBN",
			"type":"next"
		},
		{
			"fromNodeId":"4ZhBN",
			"priority":0,
			"skip":false,
			"toNodeId":"FYeBk",
			"type":"next"
		},
		{
			"fromNodeId":"FYeBk",
			"priority":0,
			"skip":false,
			"toNodeId":"qNHPx",
			"type":"next"
		},
		{
			"fromNodeId":"qNHPx",
			"priority":0,
			"skip":false,
			"toNodeId":"6izuw",
			"type":"next"
		},
		{
			"fromNodeId":"6izuw",
			"priority":0,
			"skip":false,
			"toNodeId":"5NJaW",
			"type":"next"
		},
		{
			"fromNodeId":"5NJaW",
			"priority":0,
			"skip":false,
			"toNodeId":"fiyhw",
			"type":"loop"
		},
		{
			"fromNodeId":"fiyhw",
			"priority":0,
			"skip":false,
			"toNodeId":"zVNmt",
			"type":"next"
		},
		{
			"fromNodeId":"zVNmt",
			"priority":0,
			"skip":false,
			"toNodeId":"XPK1z",
			"type":"next"
		},
		{
			"fromNodeId":"XPK1z",
			"priority":0,
			"skip":false,
			"toNodeId":"W6wnM",
			"type":"next"
		},
		{
			"fromNodeId":"W6wnM",
			"priority":0,
			"skip":false,
			"toNodeId":"iM4rQ",
			"type":"next"
		},
		{
			"fromNodeId":"iM4rQ",
			"name":"error",
			"priority":0,
			"skip":false,
			"toNodeId":"_KZBIP",
			"type":"error"
		},
		{
			"fromNodeId":"_KZBIP",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_qlYhh",
			"type":"if"
		},
		{
			"fromNodeId":"_qlYhh",
			"priority":0,
			"skip":false,
			"toNodeId":"h3VDj",
			"type":"next"
		},
		{
			"fromNodeId":"_KZBIP",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"h3VDj",
			"type":"next"
		},
		{
			"fromNodeId":"iM4rQ",
			"priority":0,
			"skip":false,
			"toNodeId":"_900iz",
			"type":"next"
		},
		{
			"fromNodeId":"h3VDj",
			"priority":0,
			"skip":false,
			"toNodeId":"_900iz",
			"type":"next"
		},
		{
			"fromNodeId":"_900iz",
			"priority":0,
			"skip":false,
			"toNodeId":"_43n9L",
			"type":"next"
		},
		{
			"fromNodeId":"_43n9L",
			"priority":0,
			"skip":false,
			"toNodeId":"_iCr58",
			"type":"next"
		},
		{
			"fromNodeId":"_iCr58",
			"priority":0,
			"skip":false,
			"toNodeId":"_Lfhsi",
			"type":"next"
		},
		{
			"fromNodeId":"_Lfhsi",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_RhtqH",
			"type":"if"
		},
		{
			"fromNodeId":"_RhtqH",
			"priority":0,
			"skip":false,
			"toNodeId":"eH8hG",
			"type":"next"
		},
		{
			"fromNodeId":"_Lfhsi",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"eH8hG",
			"type":"next"
		},
		{
			"fromNodeId":"eH8hG",
			"priority":0,
			"skip":false,
			"toNodeId":"_d2c29",
			"type":"next"
		},
		{
			"fromNodeId":"_d2c29",
			"priority":0,
			"skip":false,
			"toNodeId":"_nj6w6",
			"type":"next"
		},
		{
			"fromNodeId":"_nj6w6",
			"priority":0,
			"skip":false,
			"toNodeId":"_bvBRo",
			"type":"next"
		},
		{
			"fromNodeId":"_bvBRo",
			"priority":0,
			"skip":false,
			"toNodeId":"_bbaer",
			"type":"loop"
		},
		{
			"fromNodeId":"_bbaer",
			"name":"success",
			"priority":0,
			"skip":false,
			"toNodeId":"_QZzgb",
			"type":"next"
		},
		{
			"fromNodeId":"_QZzgb",
			"priority":0,
			"skip":false,
			"toNodeId":"6STGR",
			"type":"next"
		},
		{
			"fromNodeId":"_bbaer",
			"name":"error",
			"priority":0,
			"skip":false,
			"toNodeId":"pFjhZ",
			"type":"error"
		},
		{
			"fromNodeId":"6STGR",
			"priority":0,
			"skip":false,
			"toNodeId":"zpfOa",
			"type":"next"
		},
		{
			"fromNodeId":"pFjhZ",
			"priority":0,
			"skip":false,
			"toNodeId":"zpfOa",
			"type":"next"
		},
		{
			"fromNodeId":"zpfOa",
			"priority":0,
			"skip":false,
			"toNodeId":"qK2EO",
			"type":"next"
		},
		{
			"fromNodeId":"qK2EO",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"_bvBRo",
			"type":"next"
		},
		{
			"fromNodeId":"_bvBRo",
			"priority":0,
			"skip":false,
			"toNodeId":"HFqNb",
			"type":"next"
		},
		{
			"fromNodeId":"HFqNb",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"BPofZ",
			"type":"if"
		},
		{
			"fromNodeId":"HFqNb",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"3k0au",
			"type":"next"
		},
		{
			"fromNodeId":"BPofZ",
			"priority":0,
			"skip":false,
			"toNodeId":"xboXz",
			"type":"next"
		},
		{
			"fromNodeId":"3k0au",
			"priority":0,
			"skip":false,
			"toNodeId":"xboXz",
			"type":"next"
		},
		{
			"fromNodeId":"xboXz",
			"priority":0,
			"skip":false,
			"toNodeId":"RaTxD",
			"type":"next"
		},
		{
			"fromNodeId":"RaTxD",
			"priority":0,
			"skip":false,
			"toNodeId":"0kb4H",
			"type":"next"
		},
		{
			"fromNodeId":"0kb4H",
			"priority":0,
			"skip":false,
			"toNodeId":"8fFrH",
			"type":"loop"
		},
		{
			"fromNodeId":"8fFrH",
			"priority":0,
			"skip":false,
			"toNodeId":"VC3AA",
			"type":"next"
		},
		{
			"fromNodeId":"VC3AA",
			"priority":0,
			"skip":false,
			"toNodeId":"bRhw5",
			"type":"next"
		},
		{
			"fromNodeId":"bRhw5",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"Mlv6D",
			"type":"if"
		},
		{
			"fromNodeId":"Mlv6D",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"0kb4H",
			"type":"next"
		},
		{
			"fromNodeId":"bRhw5",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"0kb4H",
			"type":"next"
		},
		{
			"fromNodeId":"0kb4H",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"5NJaW",
			"type":"next"
		},
		{
			"fromNodeId":"5NJaW",
			"priority":0,
			"skip":false,
			"toNodeId":"Bonax",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"66b5c4a2fee60c71fbe0cc1e",
	"lastModifiedBy":0,
	"lcName":"knowledge indexer | website ",
	"modifiedTime":1758655355297,
	"name":"Knowledge Indexer | Website ",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":46,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"O66xp-1",
			"id":"IWZGH",
			"index":0,
			"inputs":{
				"result":{
					"type":"object",
					"properties":{
						"success":{
							"type":"boolean",
							"title":"Success",
							"default":false
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"setup":{
					"properties":{
						"url_list":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Url List"
						},
						"max_depth":{
							"type":"integer",
							"title":"Max Depth"
						},
						"ai_agent_id":{
							"type":"string",
							"title":"Ai Agent Id"
						},
						"knowledge_id":{
							"type":"string",
							"title":"Knowledge Id"
						},
						"test":{
							"type":"string",
							"title":"Test",
							"default":"false"
						},
						"specific_webpages":{
							"type":"boolean",
							"title":"Specific Webpages",
							"default":false
						},
						"knowledge":{
							"type":"object",
							"properties":{
								"readVersion":{
									"type":"integer",
									"title":"Read Version"
								}
							},
							"additionalProperties":false,
							"title":"Knowledge",
							"required":[]
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger from automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":1804,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"O66xp-1",
			"id":"CGEl3",
			"index":0,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ IWZGH.outputs.knowledge_id }}"
							}
						}
					],
					"operator":"AND"
				},
				"searchField":{
					"fields":""
				},
				"object_type":"knowledge",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"page":{
					"limit":20,
					"offset":0
				},
				"numberOfRecordsToFetch":"SINGLE",
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"Fetch knowledge",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":1,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"O66xp-1",
			"id":"YqzYe",
			"index":0,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_knowledgeId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ IWZGH.outputs.knowledge_id }}"
							}
						},
						{
							"property":"properties_knowledgeVersion",
							"filter":{
								"operator":"EQUAL",
								"value":"={{ CGEl3.outputs.properties.readVersion }}+1"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge_fetch_tracker",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"page":{
					"limit":20,
					"offset":0
				},
				"numberOfRecordsToFetch":"SINGLE",
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"Fetch tracked urls",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":50,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"O66xp-1",
			"id":"hm1Bd",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ YqzYe.outputs.id }}",
						"filter":{
							"operator":"MISSING"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Tracker not found",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2052,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"hm1Bd@O66xp-1@y",
			"id":"Wv3k7",
			"index":0,
			"inputs":{
				"object_type":"knowledge_fetch_tracker",
				"record":{
					"knowledgeVersion":"={{ CGEl3.outputs.properties.readVersion }}+1",
					"knowledgeId":"{{ IWZGH.outputs.knowledge_id }}"
				}
			},
			"skip":false,
			"subTitle":"Create Tracker",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2043,
				"resourceName":"storage_by_unifyapps_delete_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"hm1Bd@O66xp-1@y",
			"id":"w9FyP",
			"index":0,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_knowledgeId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ IWZGH.outputs.knowledge_id }}"
							}
						},
						{
							"property":"properties_knowledgeVersion",
							"filter":{
								"operator":"EQUAL",
								"value":"={{ CGEl3.outputs.properties.readVersion }}-1"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge_fetch_tracker",
				"numberOfRecordsToDelete":"SINGLE",
				"page":{
					"limit":20,
					"offset":0
				}
			},
			"skip":false,
			"subTitle":"remove stale tracker",
			"title":"Delete records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":115,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"O66xp-1",
			"id":"4ZhBN",
			"index":0,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"additionalProperties":false,
									"type":[
										"object",
										"string",
										"number",
										"boolean",
										"integer"
									],
									"properties":{
										"url":{
											"type":"string",
											"title":"Url"
										},
										"depth":{
											"type":"integer",
											"title":"Depth"
										}
									},
									"required":[]
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray",
					"items":{
						"url":"{{ IWZGH.outputs.url_list[0] }}",
						"depth":"{{ IWZGH.outputs.max_depth }}"
					},
					"source":"{{ IWZGH.outputs.url_list }}"
				},
				"ua:title":"url_list",
				"ua:list_type":"OBJECT"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"url_list",
							"disableActions":true,
							"items":{
								"type":"object",
								"properties":{
									"url":{
										"type":"string",
										"title":"Url"
									},
									"depth":{
										"type":"integer",
										"title":"Depth"
									}
								}
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Create Url List",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.link.items.url",
					"root.parameters.link.items.depth"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":380,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"O66xp-1",
			"id":"FYeBk",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"baseUrl":{
							"type":"string",
							"title":"Base Url"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"link":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"url":{
										"type":"string",
										"title":"Url"
									},
									"depth":{
										"type":"integer",
										"title":"Depth"
									}
								},
								"additionalProperties":false,
								"required":[]
							},
							"title":"Link"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def url=binding.hasVariable(\"link\")?binding.link:[]\n\ndef baseUrl=\"\"\n\nif(url.size() > 1)\n{\n  return [\"baseUrl\":baseUrl]\n}\nelse\n{\n  def firstLink=url[0]\n  if (firstLink instanceof Map) {\n    firstLinkUrl = firstLink[\"url\"]\n    if(firstLinkUrl instanceof Map)\n    {\n      baseUrl=firstLinkUrl[\"url\"]\n      baseUrl = new URL(baseUrl)\n      baseUrl = baseUrl.host\n    }\n    else{\n      baseUrl=firstLinkUrl\n      baseUrl = new URL(baseUrl)\n      baseUrl = baseUrl.host\n    }\n  } \n}\nreturn [\"baseUrl\": baseUrl]\n",
				"parameters":{
					"link":{
						"source":"{{ 4ZhBN.outputs.items }}",
						"ua:type":"mappedArray",
						"items":{
							"url":"{{ 4ZhBN.outputs.items[0].url }}",
							"depth":"{{ 4ZhBN.outputs.items[0].depth }}"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":380,
				"resourceName":"code_by_unifyapps_python",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"O66xp-1",
			"id":"qNHPx",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"baseDomain":{
							"type":"string",
							"title":"Base Domain"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"baseUrl":{
							"type":"string",
							"title":"Base Url"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"code":"import tldextract\nbaseDomain = tldextract.extract(baseUrl)\nresult = {\"baseDomain\": baseDomain.domain}",
				"isAsync":false,
				"parameters":{
					"baseUrl":"{{ FYeBk.outputs.result.baseUrl }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Python script",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":114,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"O66xp-1",
			"id":"6izuw",
			"index":0,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"ui:submitButtonOptions":{
						"norender":true
					}
				},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"website_fetch_limit":{
							"type":"number",
							"title":"Website Fetch Limit"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"website_fetch_limit":2000
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"website_fetch_limit":{
							"type":"number",
							"title":"Website Fetch Limit"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Website Fetch Limit",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":87,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"O66xp-1",
			"id":"5NJaW",
			"index":0,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ 4ZhBN.outputs.items }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"Loop on UrlList",
			"title":"For each item in the list",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"break",
				"resourceVersion":43,
				"resourceName":"break",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5NJaW@O66xp-1@l",
			"id":"fiyhw",
			"index":0,
			"inputs":{
				"loop":"5NJaW",
				"conditions":{
					"filters":[
						{
							"property":"{{ 5NJaW.outputs.item.depth }}",
							"filter":{
								"operator":"GTE",
								"value":"3"
							}
						}
					],
					"operator":"OR"
				}
			},
			"skip":false,
			"subTitle":"Limit reached",
			"title":"Break",
			"type":"BREAK"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":52,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5NJaW@O66xp-1@l",
			"id":"zVNmt",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"ignore":{
							"type":"boolean",
							"title":"Ignore",
							"default":false
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"link":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Link"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"// ignore = link.contains(\"/icons/\") || link.contains(\"/app-categories/\") || link.contains(\"mailto:\") \n// return [\"ignore\": ignore]\n\n// def url = link.url ?: \"\"\n// ignore = url.contains(\"/icons/\") || url.contains(\"/app-categories/\") || url.contains(\"mailto:\")\n// return [\"ignore\": ignore]\n\ndef url = binding.hasVariable(\"link\") ? binding.getVariable(\"link\") : [:]\ndef ignore=false\nif (url instanceof Map) {\n  url = url[\"url\"]\n  ignore = url.contains(\"/icons/\") || url.contains(\"/app-categories/\") || url.contains(\"mailto:\")\n} else {\n  ignore = url.contains(\"/icons/\") || url.contains(\"/app-categories/\") || url.contains(\"mailto:\")\n \n}\nreturn [\"ignore\": ignore]",
				"isAsync":false,
				"parameters":{
					"link":"{{ 5NJaW.outputs.item.url }}"
				}
			},
			"skip":false,
			"subTitle":"Temp Ignore",
			"title":"Execute groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"continue",
				"resourceVersion":44,
				"resourceName":"continue",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5NJaW@O66xp-1@l",
			"id":"XPK1z",
			"index":0,
			"inputs":{
				"loop":"5NJaW",
				"conditions":{
					"filters":[
						{
							"property":"{{ zVNmt.outputs.result.ignore }}",
							"filter":{
								"operator":"EQUAL",
								"value":"true"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"subTitle":"Temp Continue",
			"title":"Continue",
			"type":"CONTINUE"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":361,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5NJaW@O66xp-1@l",
			"id":"W6wnM",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"url":{
							"type":"string",
							"title":"url"
						}
					},
					"additionalProperties":false
				},
				"input":{
					"type":"object",
					"properties":{
						"url":{
							"type":"object",
							"title":"url"
						}
					},
					"additionalProperties":false
				},
				"compile_static":false,
				"code":"def url = binding.hasVariable(\"url\") ? binding.getVariable(\"url\") : [:]\ndef ans = \"\"\nif (url instanceof Map) {\n  ans = url[\"url\"]\n} else {\n  ans = url\n}\nreturn [url: ans]",
				"parameters":{
					"url":"{{ 5NJaW.outputs.item.url }}"
				}
			},
			"skip":false,
			"subTitle":"extractUrlString",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"custom_http_endpoint",
				"resourceVersion":50,
				"resourceName":"custom_http_endpoint_execute",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"MANUAL",
			"groupId":"5NJaW@O66xp-1@l",
			"id":"iM4rQ",
			"index":0,
			"inputs":{
				"isAsync":false,
				"enableProxy":false,
				"requestTimeoutInSecs":-1,
				"type":"REST",
				"httpMethod":"GET",
				"sslVerify":true,
				"path":"/",
				"baseUrl":"http://api.scraperapi.com",
				"queryParamsList":[
					{
						"key":"api_key",
						"value":"40dd097aafaba03c8570868abf2a2b13"
					},
					{
						"key":"url",
						"value":"{{ W6wnM.outputs.result.url }}"
					},
					{
						"key":"render",
						"value":"true"
					},
					{
						"key":"country_code",
						"value":"us"
					}
				],
				"responseContentType":"application/json",
				"authType":"CUSTOM",
				"requestContentType":"application/json",
				"ignoreTrailingSlashes":false
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"count":3,
					"enabled":true
				},
				"stepError":"MANUAL"
			},
			"skip":false,
			"subTitle":"Scrape HTML content",
			"title":"Execute request",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":4,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"iM4rQ@5NJaW@O66xp-1@l@error",
			"id":"_KZBIP",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ IWZGH.outputs.specific_webpages }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"utility_by_unifyapps",
				"resourceVersion":4,
				"resourceName":"utility_by_unifyapps_to_json_object",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_KZBIP@iM4rQ@5NJaW@O66xp-1@l@error@y",
			"id":"_qlYhh",
			"index":0,
			"inputs":{
				"jsonSchema":{
					"type":"object",
					"properties":{
						"re2":{
							"type":"string",
							"title":"re2"
						},
						"re1":{
							"type":"string",
							"title":"re1"
						}
					},
					"additionalProperties":false
				},
				"jsonString":"{\"Error occured while indexing website\"}"
			},
			"skip":false,
			"subTitle":"trigger error",
			"title":"Deserialise string to JSON object",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"continue",
				"resourceVersion":0,
				"resourceName":"continue",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"iM4rQ@5NJaW@O66xp-1@l@error",
			"id":"h3VDj",
			"index":0,
			"inputs":{
				"loop":"5NJaW"
			},
			"skip":false,
			"subTitle":"scraping not possible",
			"title":"Continue",
			"type":"CONTINUE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":4,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5NJaW@O66xp-1@l",
			"id":"_900iz",
			"index":0,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"html":{
							"type":"string",
							"title":"Html"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"html":"{{ iM4rQ.outputs.result }}"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"html":{
							"type":"string",
							"title":"Html"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":4,
				"resourceName":"code_by_unifyapps_python",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5NJaW@O66xp-1@l",
			"id":"_43n9L",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"valid":{
							"type":"string",
							"title":"Valid"
						},
						"markdown":{
							"type":"string",
							"title":"Markdown"
						}
					},
					"additionalProperties":false,
					"required":[
						"valid",
						"markdown"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"html":{
							"type":"string",
							"title":"Html"
						}
					},
					"additionalProperties":false,
					"required":[
						"html"
					]
				},
				"code":"from markdownify import markdownify\n\ntry:\n    markdown_content = markdownify(str(html))\n\n    if len(markdown_content) > 0:\n        result = {\"valid\": True, \"markdown\": markdown_content}\n    else:\n        result = {\"valid\": False, \"markdown\": markdown_content}\n\nexcept Exception as e:\n    result = {\"valid\": False, \"error\": str(e)}",
				"isAsync":false,
				"parameters":{
					"html":"{{ iM4rQ.outputs.result }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Python script",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":8,
				"resourceName":"code_by_unifyapps_python",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5NJaW@O66xp-1@l",
			"id":"_iCr58",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"title":{
							"type":"string",
							"title":"Title"
						},
						"iconUrl":{
							"type":"string",
							"title":"Icon Url"
						}
					},
					"additionalProperties":false,
					"required":[
						"title",
						"iconUrl"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"url":{
							"type":"string",
							"title":"Url"
						},
						"name":{
							"type":"string",
							"title":"Name"
						}
					},
					"additionalProperties":false,
					"required":[
						"url"
					]
				},
				"code":"import requests\nfrom bs4 import BeautifulSoup\nfrom urllib.parse import urljoin, urlparse\n\nselectors = [\n    (\"link\", {\"rel\": \"icon\"}),\n    (\"link\", {\"rel\": \"shortcut icon\"}),\n    (\"link\", {\"rel\": \"apple-touch-icon\"}),\n    (\"link\", {\"rel\": \"apple-touch-icon-precomposed\"}),\n]\nheaders = {'User-Agent': (\n        'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 '\n        '(KHTML, like Gecko) Chrome/122.0.0.0 Safari/537.36'\n    ),\n    'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',\n    'Accept-Language': 'en-US,en;q=0.9',\n    'Accept-Encoding': 'gzip, deflate, br',\n    'Connection': 'keep-alive',\n    'Upgrade-Insecure-Requests': '1',\n    'Cache-Control': 'max-age=0',\n    'Referer': 'https://google.com'}\n\ndef resolve_base_url(url):\n    raw_url = url[\"url\"] if isinstance(url, dict) and \"url\" in url else url\n    return raw_url\n\nfilteredUrl = resolve_base_url(url)\nparsed = urlparse(filteredUrl)\nbase_url=f\"{parsed.scheme}://{parsed.netloc}\"\ntry:\n    iconUrl=None\n    response = requests.get(resolve_base_url(url), timeout = 10,headers=headers)\n    response.raise_for_status()\n\n    soup = BeautifulSoup(response.text, 'html.parser')\n    title = soup.title.string.strip() if soup.title and soup.title.string else \"\"\n    if title.lower() in (\"not found\", \"\", \"403 forbidden\") or \"error\" in title.lower():\n        title = name if name else url\n    for tag, attrs in selectors:\n        el = soup.find(tag, attrs=attrs)\n        if el and el.get(\"href\"):\n            iconUrl=urljoin(base_url, el[\"href\"])\n            break\n\n    if not iconUrl:\n        iconUrl = urljoin(base_url, \"/favicon.ico\")\n    result = {\"title\": title,\"iconUrl\":iconUrl}\nexcept Exception as e:\n    fallback_title = name if name else url\n    iconUrl = urljoin(base_url, \"/favicon.ico\")\n    \n    result = {\"title\": fallback_title, \"iconUrl\":iconUrl,\"error\": str(e)}\n",
				"isAsync":false,
				"parameters":{
					"url":"{{ 5NJaW.outputs.item.url }}",
					"name":"{{ CGEl3.outputs.properties.name }}"
				}
			},
			"skip":false,
			"subTitle":"Get title",
			"title":"Execute Python script",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":4,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5NJaW@O66xp-1@l",
			"id":"_Lfhsi",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ _43n9L.outputs.result.valid }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":4,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_Lfhsi@5NJaW@O66xp-1@l@y",
			"id":"_RhtqH",
			"index":0,
			"inputs":{
				"variables":[
					{
						"source":"{{ _900iz.outputs.html }}",
						"value":"{{ _43n9L.outputs.result.markdown }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":52,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5NJaW@O66xp-1@l",
			"id":"eH8hG",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"links":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Links"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"websiteUrl":{
							"type":"string",
							"title":"Website Url"
						},
						"markdownString":{
							"type":"string",
							"title":"Markdown String"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"import java.net.URL\n\nString baseUrl = binding.hasVariable('websiteUrl') ? websiteUrl : \"\"\nString mdContent = binding.hasVariable('markdownString') ? markdownString.replaceAll('\\n', ' ') : \"\"\n\ndef urls = [] as Set<String>\n\ndef extractHelper(String str, Set<String> urls, String baseUrl) {\n  def pattern = /\\]\\(([^\\s\\)]+)\\)/\n  def matcher = str =~ pattern\n\n  while (matcher.find()) {\n    def url = matcher.group(1)\n    def formattedUrl = formatUrl(url, baseUrl)\n    if (formattedUrl) {\n      urls << formattedUrl\n    }  \n  }\n  \n  def htmlUrlPattern = /<(https?:\\/\\/[^>]+)>/\n  matcher = str =~ htmlUrlPattern\n  \n  while (matcher.find()) {\n    def url = matcher.group(1)\n    def formattedUrl = formatUrl(url, baseUrl)\n    if (formattedUrl) {\n      urls << formattedUrl\n    }  \n  }\n  \n  def looseUrlPattern = /\\b(?:https?|ftp|file):\\/\\/[-A-Za-z0-9+&@#\\/%?=~_|!:,.;]*[-A-Za-z0-9+&@#\\/%=~_|]/\n  matcher = str =~ looseUrlPattern\n  \n  while (matcher.find()) {\n    def url = matcher.group(0)\n    def formattedUrl = formatUrl(url, baseUrl)\n    if (formattedUrl) {\n      urls << formattedUrl\n    }  \n  } \n}\n\n\ndef extractUrls(String markdown, Set<String> urls, String baseUrl) {\n  extractHelper(markdown, urls, baseUrl)\n  return urls.unique()\n}\n\ndef isImageUrl(String url) {\n    def imageExtensions = [\"jpg\", \"jpeg\", \"png\", \"gif\", \"webp\", \"svg\", \"avif\", \"tiff\", \"bmp\"]\n    def lowercaseUrl = url.toLowerCase()\n    def isImage = imageExtensions.any { ext ->\n      lowercaseUrl.endsWith(\".$ext\") || \n      lowercaseUrl.contains(\".$ext?\") ||  // For URLs with query parameters\n      lowercaseUrl.contains(\".$ext#\")     // For URLs with fragments\n    }\n    return isImage\n}\n\n\n\ndef formatUrl(String url, String baseUrl) {\n  try {\n    url = url.trim()\n    if (isImageUrl(url)) {\n      return null;\n    }\n    if (!url.startsWith(\"http://\") && !url.startsWith(\"https://\")) {\n      url = new URL(new URL(baseUrl), url).toString()\n    }\n    return url\n  } catch(Exception e) {\n    // not valid url\n  }\n  return null\n}\n\nreturn [\"links\": extractUrls(mdContent, urls, baseUrl)]",
				"isAsync":false,
				"parameters":{
					"websiteUrl":"{{ 5NJaW.outputs.item.url }}",
					"markdownString":"{{ _900iz.outputs.html }}"
				}
			},
			"skip":false,
			"subTitle":"Extract Links from MD",
			"title":"Execute groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":4,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5NJaW@O66xp-1@l",
			"id":"_d2c29",
			"index":0,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"llmResponse":{
							"type":"string",
							"title":"Llm Response"
						},
						"isErrorInChunk":{
							"type":"boolean",
							"title":"Is Error In Chunk"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"llmResponse":"{{ _900iz.outputs.html }}",
				"isErrorInChunk":false
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"llmResponse":{
							"type":"string",
							"title":"Llm Response"
						},
						"isErrorInChunk":{
							"type":"boolean",
							"title":"Is Error In Chunk"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"unify_ai",
				"resourceVersion":4,
				"resourceName":"unify_ai_chunking_algorithms",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5NJaW@O66xp-1@l",
			"id":"_nj6w6",
			"index":0,
			"inputs":{
				"embeddingType":"HUGGING_FACE",
				"inputText":"{{ _900iz.outputs.html }}",
				"embeddingModel":"sentence-transformers/all-mpnet-base-v2",
				"thresholdType":"percentile",
				"maxChunkSize":1024,
				"algorithm":"TOKEN_TEXT_SPLITTER"
			},
			"skip":false,
			"subTitle":"Unify AI",
			"title":"Text splitter",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":4,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5NJaW@O66xp-1@l",
			"id":"_bvBRo",
			"index":0,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ _nj6w6.outputs.chunks }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":1,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"MANUAL",
			"groupId":"_bvBRo@5NJaW@O66xp-1@l@l",
			"id":"_bbaer",
			"index":0,
			"inputs":{
				"automationId":"66dfd76eb70dad256986b784",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"type":"text",
					"response_format":"text",
					"aiAgentId":"{{ CGEl3.outputs.properties.aiAgentId }}",
					"content":"Extract Out all the Data in Markdown format from this json with headings and without image links to which that data belongs to\n{{ _bvBRo.outputs.item }} ",
					"modelId":"e_ai_agent_openai_gpt_4.1_mini"
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"MANUAL",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":4,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_bbaer@_bvBRo@5NJaW@O66xp-1@l@l@success",
			"id":"_QZzgb",
			"index":0,
			"inputs":{
				"variables":[
					{
						"source":"{{ _d2c29.outputs.llmResponse }}",
						"value":"{{ _bbaer.outputs.llmResponse }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":369,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_bbaer@_bvBRo@5NJaW@O66xp-1@l@l@success",
			"id":"6STGR",
			"index":0,
			"inputs":{
				"variables":[
					{
						"source":"{{ _d2c29.outputs.isErrorInChunk }}",
						"value":false
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":369,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_bbaer@_bvBRo@5NJaW@O66xp-1@l@l@error",
			"id":"pFjhZ",
			"index":0,
			"inputs":{
				"variables":[
					{
						"source":"{{ _d2c29.outputs.isErrorInChunk }}",
						"value":true
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":52,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_bvBRo@5NJaW@O66xp-1@l@l",
			"id":"zpfOa",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"chunkMetadata":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Chunk Metadata"
						},
						"chunks":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Chunks"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"markdownContent":{
							"type":"string",
							"title":"Markdown Content"
						},
						"websiteUrl":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Website Url"
						},
						"title":{
							"type":"string",
							"title":"Title"
						},
						"iconUrl":{
							"type":"string",
							"title":"Icon Url"
						}
					},
					"additionalProperties":false,
					"required":[
						"title"
					]
				},
				"compile_static":false,
				"code":"if (markdownContent.startsWith(\"```markdown\")) {\n    markdownContent = markdownContent.replaceFirst(\"```markdown\\\\n\", \"\")\n}\ndef extractSlugAndApplicationName(url) {\n    try{\n    def path = new URL(url).path\n    def segments = path.split('/').findAll { it }\n\n    if (segments.size() > 1) {\n        def slug = segments[-1] \n        def application_name = segments[-2] \n        return [slug: slug, application_name: application_name]\n    } else if (segments.size() == 1) {\n        def slug = segments[0] \n        return [slug: slug, application_name: null]\n    } else {\n        return [slug: null, application_name: null]\n    }\n} catch(Exception e) {\n    \n}\n}\n\n\ndef result = extractSlugAndApplicationName(websiteUrl)\ndef slug = result?.slug\ndef application_name = result?.application_name\n\n\ndef formattedString\nif (slug && application_name) {\n   \n    formattedString = \"This Content Belongs to ${slug} under ${application_name} : ${markdownContent}\"\n} else if (slug) {\n     \n    formattedString = \"This Content Belongs to ${slug} : ${markdownContent}\"\n} else {\n    formattedString = \"Content: ${markdownContent}\"\n}\n\ndef chunkMetadata = [:]\ndef websiteUrl=binding.hasVariable(\"websiteUrl\")?binding.websiteUrl:[:]\nif(websiteUrl instanceof Map)\n{\n    websiteUrl=websiteUrl[\"url\"]\n}\nelse{\n    websiteUrl=websiteUrl\n}\ndef iconUrl=binding.hasVariable(\"iconUrl\")?binding.iconUrl:\"\"\nchunkMetadata << (websiteUrl ? [\"websiteUrl\": websiteUrl , \"referenceUrl\": websiteUrl ] : [:])\nchunkMetadata << [\"iconUrl\":iconUrl]\nchunkMetadata << [\"title\": title, \"name\": title]\nreturn [\n    \"chunkMetadata\":chunkMetadata, \n    \"chunks\": [formattedString.toString()]\n    ]",
				"isAsync":false,
				"parameters":{
					"websiteUrl":"{{ 5NJaW.outputs.item.url }}",
					"markdownContent":"{{ _bbaer.outputs.llmResponse }}",
					"title":"{{ _iCr58.outputs.result.title }}",
					"iconUrl":"{{ _iCr58.outputs.result.iconUrl }}"
				}
			},
			"skip":false,
			"subTitle":"Get Chunks & Metadata from MD",
			"title":"Execute groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":48,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_bvBRo@5NJaW@O66xp-1@l@l",
			"id":"qK2EO",
			"index":0,
			"inputs":{
				"automationId":"66af3ff4cd79b321cb478a37",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"chunks":{
						"ua:type":"mappedArray",
						"items":{
							"sharedWithIds":{
								"items":"GLOBAL",
								"ua:type":"mappedArray"
							},
							"data":"{{ zpfOa.outputs.result.chunks[0] }}"
						},
						"source":"{{ zpfOa.outputs.result.chunks }}"
					},
					"knowledgeId":"{{ IWZGH.outputs.knowledge_id }}",
					"chunkMetadata":"{{ zpfOa.outputs.result.chunkMetadata }}",
					"knowledgeVersion":"{{ IWZGH.outputs.knowledge.readVersion }}"
				}
			},
			"skip":false,
			"subTitle":"Index Knowledge",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":362,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5NJaW@O66xp-1@l",
			"id":"HFqNb",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ _d2c29.outputs.isErrorInChunk }}",
						"filter":{
							"operator":"EQUAL",
							"value":"False"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":1804,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"HFqNb@5NJaW@O66xp-1@l@y",
			"id":"BPofZ",
			"index":0,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_knowledgeId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ IWZGH.outputs.knowledge_id }}"
							}
						},
						{
							"property":"properties_knowledgeVersion",
							"filter":{
								"operator":"EQUAL",
								"value":"={{ CGEl3.outputs.properties.readVersion }}+1"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge_fetch_tracker",
				"updateFields":[
					{
						"fieldName":"properties.fetchedEntities",
						"actionType":"ADD",
						"setValue":"{{ 5NJaW.outputs.item.url }}"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				}
			},
			"skip":false,
			"subTitle":"Track fetched URL",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":1357,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"HFqNb@5NJaW@O66xp-1@l@n",
			"id":"3k0au",
			"index":0,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_knowledgeId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ IWZGH.outputs.knowledge_id }}"
							}
						},
						{
							"property":"properties_knowledgeVersion",
							"filter":{
								"operator":"EQUAL",
								"value":"={{ CGEl3.outputs.properties.readVersion }}+1"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge_fetch_tracker",
				"updateFields":[
					{
						"fieldName":"properties.failedEntities",
						"actionType":"ADD",
						"setValue":"{{ 5NJaW.outputs.item.url }}"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				}
			},
			"skip":false,
			"subTitle":"Track failed URL",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":56,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5NJaW@O66xp-1@l",
			"id":"xboXz",
			"index":0,
			"inputs":{
				"variables":[
					{
						"source":"{{ 6izuw.outputs.website_fetch_limit }}",
						"value":"={{ 6izuw.outputs.website_fetch_limit }}-1"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"continue",
				"resourceVersion":44,
				"resourceName":"continue",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5NJaW@O66xp-1@l",
			"id":"RaTxD",
			"index":0,
			"inputs":{
				"loop":"5NJaW",
				"conditions":{
					"filters":[
						{
							"property":"{{ IWZGH.outputs.specific_webpages }}",
							"filter":{
								"operator":"EQUAL",
								"value":"true"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"subTitle":"Only Specific Webpage",
			"title":"Continue",
			"type":"CONTINUE"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":87,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"5NJaW@O66xp-1@l",
			"id":"0kb4H",
			"index":0,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ eH8hG.outputs.result.links }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"Loop on Scraped Links",
			"title":"For each item in the list",
			"type":"LOOP"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.url_list.items.depth",
					"root.parameters.url_list.items.url"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":52,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"0kb4H@5NJaW@O66xp-1@l@l",
			"id":"8fFrH",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"visited":{
							"type":"boolean",
							"title":"Visited",
							"default":false
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"url_list":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"depth":{
										"type":"integer",
										"title":"depth"
									},
									"url":{
										"type":"string",
										"title":"url"
									}
								},
								"additionalProperties":false
							},
							"title":"url_list"
						},
						"curr_url":{
							"type":"string",
							"title":"curr_url"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"return [ \"visited\": binding.hasVariable('url_list') && url_list.any { it.url == curr_url } ]",
				"isAsync":false,
				"parameters":{
					"url_list":{
						"source":"{{ 4ZhBN.outputs.items }}",
						"ua:type":"mappedArray",
						"items":{
							"depth":"{{ 4ZhBN.outputs.items[0].depth }}",
							"url":"{{ 4ZhBN.outputs.items[0].url }}"
						}
					},
					"curr_url":"{{ 0kb4H.outputs.item }}"
				}
			},
			"skip":false,
			"subTitle":"Check for visited",
			"title":"Execute groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":380,
				"resourceName":"code_by_unifyapps_python",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"0kb4H@5NJaW@O66xp-1@l@l",
			"id":"VC3AA",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"isStartsWith":{
							"type":"boolean",
							"title":"Is Starts With"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"curr_url":{
							"type":"string",
							"title":"Curr Url"
						},
						"baseDomain":{
							"type":"string",
							"title":"Base Domain"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"code":"import tldextract\n\ncurrUrl= tldextract.extract(curr_url)\ncurrUrldomain=currUrl.domain\nif currUrldomain==baseDomain:\n  result={\"isStartsWith\":True}\nelse:\n  result={\"isStartsWith\":False}",
				"isAsync":false,
				"parameters":{
					"curr_url":"{{ 0kb4H.outputs.item }}",
					"baseDomain":"{{ qNHPx.outputs.result.baseDomain }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Python script",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":44,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"0kb4H@5NJaW@O66xp-1@l@l",
			"id":"bRhw5",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ 8fFrH.outputs.result.visited }}",
						"filter":{
							"operator":"EQUAL",
							"value":"false"
						}
					},
					{
						"property":"{{ VC3AA.outputs.result.isStartsWith }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Not visited",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":62,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"bRhw5@0kb4H@5NJaW@O66xp-1@l@l@y",
			"id":"Mlv6D",
			"index":0,
			"inputs":{
				"itemToAdd":{
					"url":"{{ 0kb4H.outputs.item }}",
					"depth":"={{ 5NJaW.outputs.item.depth }}+1"
				},
				"insertLocation":"END",
				"listName":"{{ 4ZhBN.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Add to Url List",
			"title":"Add an item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":42,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"O66xp-1",
			"id":"Bonax",
			"index":0,
			"inputs":{
				"result":{
					"success":true
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Return data to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":635,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		"AI Agent",
		"Knowledge"
	],
	"version":732
}
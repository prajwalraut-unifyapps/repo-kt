{
	"appsUsed":[
		
	],
	"createdTime":1742538780983,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1758646534457,
		"deployedBy":0,
		"deployedDefinitionId":"68d2d1069f85565fb8fa5da2",
		"status":"DEPLOYED",
		"version":77,
		"workflowVersion":107
	},
	"edges":[
		{
			"fromNodeId":"5bATh",
			"priority":0,
			"skip":false,
			"toNodeId":"IOyq9",
			"type":"next"
		},
		{
			"fromNodeId":"IOyq9",
			"priority":0,
			"skip":false,
			"toNodeId":"CjJ4s",
			"type":"next"
		},
		{
			"fromNodeId":"CjJ4s",
			"priority":0,
			"skip":false,
			"toNodeId":"TUgkl",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"67dd081c8445037d9b06b119",
	"lastModifiedBy":0,
	"lcName":"ai eval | ai as judge evaluator",
	"modifiedTime":1758655356350,
	"name":"AI Eval | AI As Judge Evaluator",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":415,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"DrOWd-1",
			"id":"5bATh",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"properties":{
						"score":{
							"type":"number",
							"title":"Score"
						},
						"reason":{
							"type":"string",
							"title":"Reason"
						},
						"cost":{
							"type":"number",
							"title":"Cost"
						},
						"tokensUsed":{
							"type":"number",
							"title":"Tokens Used"
						}
					},
					"additionalProperties":false,
					"required":[
						"score",
						"reason",
						"cost"
					]
				},
				"setup":{
					"type":"object",
					"properties":{
						"criteria":{
							"type":"string",
							"title":"Evaluation Criteria"
						},
						"evaluationSteps":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Evaluation Steps"
						},
						"model":{
							"type":"string",
							"title":"Model"
						},
						"evaluationParameters":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Evaluation Parameters"
						},
						"testCase":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Test Case"
						},
						"metricType":{
							"type":"string",
							"title":"Metric Type"
						},
						"evaluationScale":{
							"type":"array",
							"items":{
								"type":"number"
							},
							"title":"Evaluation Scale"
						},
						"scaleType":{
							"type":"string",
							"title":"Scale Type"
						},
						"testCaseId":{
							"type":"string",
							"title":"Test Case Id"
						},
						"experimentId":{
							"type":"string",
							"title":"Experiment Id"
						},
						"runId":{
							"type":"string",
							"title":"Run Id"
						},
						"metricId":{
							"type":"string",
							"title":"Metric Id"
						},
						"testCaseType":{
							"type":"string",
							"title":"Test Case Type"
						}
					},
					"additionalProperties":false,
					"required":[
						"model",
						"evaluationParameters",
						"testCase",
						"metricType",
						"evaluationScale",
						"scaleType",
						"testCaseId"
					]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":161,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"DrOWd-1",
			"id":"IOyq9",
			"index":2,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"scoreRange":{
							"type":"string",
							"title":"Score Range"
						}
					},
					"additionalProperties":false,
					"required":[
						"scoreRange"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"scale":{
							"type":"array",
							"items":{
								"type":"number"
							},
							"title":"Scale"
						},
						"type":{
							"type":"string",
							"title":"Type"
						}
					},
					"additionalProperties":false,
					"required":[
						"scale",
						"type"
					]
				},
				"compile_static":false,
				"code":"String range = '0 - 1';\nif (type = 'SCALE') {\n  range = scale.get(0) + \" - \" + scale.get(1);\n}\n\nreturn ['scoreRange' : range]",
				"parameters":{
					"scale":{
						"source":"{{ 5bATh.outputs.evaluationScale }}",
						"ua:type":"mappedArray",
						"items":"{{ 5bATh.outputs.evaluationScale[0] }}"
					},
					"type":"{{ 5bATh.outputs.scaleType }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":160,
				"resourceName":"callables_call_interface",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"DrOWd-1",
			"id":"CjJ4s",
			"index":3,
			"inputs":{
				"callableInterfaceId":"67e2b5d9e1d4f12ce20011f0",
				"runtimeConnections":{},
				"synchronous":true,
				"triggerWorkflowWithRuntimeType":"DEFAULT",
				"callableInterfaces":[
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"G-EVAL"
									}
								},
								{
									"property":"{{ 5bATh.outputs.testCaseType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"LLM"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"67e29909b7d2dd451ebaaf36"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"BIAS"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"67e11b0b7810a05ba5c0a4ff"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"TOXICITY"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"67e14752d5ff3e69decc14f6"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"HALLUCINATION"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"67e130267b581f53850cf787"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"PROMPT_ALIGNMENT"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"67e14eb30d68ab0f1e732348"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"ANSWER_RELEVANCY"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"67e267460260917d9fbb6a5d"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"FAITHFULNESS"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"67e288d0bb5c3c51ededeabc"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"TASK_COMPLETION"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"67e269a2455dc33dfe5cc653"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"COSINE_SIMILARITY"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"683ae4b77f57df17f4818a47"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"BERT_SCORE"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"683bec009a3289636f25372e"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"KNOWLEDGE_RETENTION"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"6846f31237a4d938a3f8cdd5"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"ROLE_ADHERENCE"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"6846ef870851243c0b7550ff"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"MISSING"
									}
								},
								{
									"property":"{{ 5bATh.outputs.testCaseType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"CONVERSATIONAL"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"684a64da4d25095fbbf65a59"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"USER_FRUSTRATION"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"680a35e6fac64d2823be7581"
					},
					{
						"workflowId":"680e285779c07b58ae998d26",
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"TOOL_CORRECTNESS"
									}
								}
							],
							"operator":"AND"
						}
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"SUMMARIZATION"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"680b4a974103ca6e4cde1e53"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"SQL_GENERATION"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"680b2456c1a5ea436052c2bc"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"QA"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"680b1fba28a37355040a88c8"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"JSON_CORRECTNESS"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"67e2d9d194875751e6bc1ad9"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"CONVERSATION_RELEVANCY"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"68471587bdab1d6e93e1ce7c"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"CONVERSATION_COMPLETENESS"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"6846f16737a4d938a3f8cc03"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"CONTEXTUAL_PRECISION"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"681c615250405d05bc668207"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"CONTEXTUAL_RELEVANCY"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"681c4fa32a21a227b80bab23"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"CODE_GENERATION"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"680a3628fac64d2823be773c"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"CITATION_EVALS"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"680b629e25da79166ed85547"
					},
					{
						"filter":{
							"filters":[
								{
									"property":"{{ 5bATh.outputs.metricType }}",
									"filter":{
										"operator":"EQUAL",
										"value":"AI_VS_HUMAN"
									}
								}
							],
							"operator":"AND"
						},
						"workflowId":"680a4a1524121404989c755a"
					}
				],
				"fallbackWorkflowId":"67e29909b7d2dd451ebaaf36",
				"parameters":{
					"criteria":"{{ 5bATh.outputs.criteria }}",
					"evaluationSteps":{
						"source":"{{ 5bATh.outputs.evaluationSteps }}",
						"ua:type":"mappedArray",
						"items":"{{ 5bATh.outputs.evaluationSteps[0] }}"
					},
					"model":"{{ 5bATh.outputs.model }}",
					"evaluationParameters":{
						"source":"{{ 5bATh.outputs.evaluationParameters }}",
						"ua:type":"mappedArray",
						"items":"{{ 5bATh.outputs.evaluationParameters[0] }}"
					},
					"testCase":"{{ 5bATh.outputs.testCase }}",
					"scoringInstruction":"{{ IOyq9.outputs.result.scoreRange }}",
					"scoreRange":"{{ IOyq9.outputs.result.scoreRange }}",
					"testCaseId":"{{ 5bATh.outputs.testCaseId }}",
					"runId":"{{ 5bATh.outputs.runId }}",
					"experimentId":"{{ 5bATh.outputs.experimentId }}",
					"metricId":"{{ 5bATh.outputs.metricId }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call interface",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":418,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"DrOWd-1",
			"id":"TUgkl",
			"index":4,
			"inputs":{
				"result":{
					"score":"{{ CjJ4s.outputs.score }}",
					"reason":"{{ CjJ4s.outputs.reason }}",
					"cost":"{{ CjJ4s.outputs.cost }}",
					"tokensUsed":"{{ CjJ4s.outputs.tokensUsed }}",
					"latency":"{{ CjJ4s.outputs.latency }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":21,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		
	],
	"version":108
}
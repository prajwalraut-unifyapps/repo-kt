{
	"appsUsed":[
		"storage_by_unifyapps"
	],
	"createdTime":1755693719659,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1759243529206,
		"deployedBy":-1,
		"deployedDefinitionId":"68dbed095e003e08cdeb2e76",
		"status":"DEPLOYED",
		"version":37,
		"workflowVersion":60
	},
	"edges":[
		{
			"fromNodeId":"n_LWF65",
			"priority":0,
			"skip":false,
			"toNodeId":"n_nZnhy",
			"type":"next"
		},
		{
			"fromNodeId":"n_nZnhy",
			"priority":0,
			"skip":false,
			"toNodeId":"raQvP",
			"type":"next"
		},
		{
			"fromNodeId":"raQvP",
			"priority":0,
			"skip":false,
			"toNodeId":"n_fH1Mn",
			"type":"next"
		},
		{
			"fromNodeId":"n_fH1Mn",
			"priority":0,
			"skip":false,
			"toNodeId":"lNYg3",
			"type":"next"
		},
		{
			"fromNodeId":"lNYg3",
			"priority":0,
			"skip":false,
			"toNodeId":"kfGs6",
			"type":"next"
		},
		{
			"fromNodeId":"kfGs6",
			"priority":0,
			"skip":false,
			"toNodeId":"SLEwj",
			"type":"next"
		},
		{
			"fromNodeId":"SLEwj",
			"priority":0,
			"skip":false,
			"toNodeId":"lgT5C",
			"type":"loop"
		},
		{
			"fromNodeId":"lgT5C",
			"priority":0,
			"skip":false,
			"toNodeId":"eLiw9",
			"type":"next"
		},
		{
			"fromNodeId":"eLiw9",
			"name":"1",
			"priority":0,
			"skip":false,
			"toNodeId":"eLiw9@1",
			"type":"branch"
		},
		{
			"fromNodeId":"eLiw9@1",
			"priority":0,
			"skip":false,
			"toNodeId":"n_bzWis",
			"type":"next"
		},
		{
			"fromNodeId":"n_bzWis",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_7feU6",
			"type":"if"
		},
		{
			"fromNodeId":"_7feU6",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_7pwhL",
			"type":"if"
		},
		{
			"fromNodeId":"_7feU6",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_qLJZ3",
			"type":"next"
		},
		{
			"fromNodeId":"n_7pwhL",
			"priority":0,
			"skip":false,
			"toNodeId":"_YbvRF",
			"type":"next"
		},
		{
			"fromNodeId":"_qLJZ3",
			"priority":0,
			"skip":false,
			"toNodeId":"_YbvRF",
			"type":"next"
		},
		{
			"fromNodeId":"n_bzWis",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_ISDGS",
			"type":"next"
		},
		{
			"fromNodeId":"_ISDGS",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_IuOwz",
			"type":"if"
		},
		{
			"fromNodeId":"_ISDGS",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_tziVy",
			"type":"next"
		},
		{
			"fromNodeId":"eLiw9",
			"name":"2",
			"priority":0,
			"skip":false,
			"toNodeId":"eLiw9@2",
			"type":"branch"
		},
		{
			"fromNodeId":"eLiw9@2",
			"priority":0,
			"skip":false,
			"toNodeId":"_PLBXp",
			"type":"next"
		},
		{
			"fromNodeId":"_PLBXp",
			"priority":0,
			"skip":false,
			"toNodeId":"_LjgoJ",
			"type":"next"
		},
		{
			"fromNodeId":"_LjgoJ",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_GQQ2R",
			"type":"if"
		},
		{
			"fromNodeId":"_LjgoJ",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"BIanj",
			"type":"next"
		},
		{
			"fromNodeId":"_YbvRF",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"SLEwj",
			"type":"next"
		},
		{
			"fromNodeId":"_IuOwz",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"SLEwj",
			"type":"next"
		},
		{
			"fromNodeId":"_tziVy",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"SLEwj",
			"type":"next"
		},
		{
			"fromNodeId":"_GQQ2R",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"SLEwj",
			"type":"next"
		},
		{
			"fromNodeId":"BIanj",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"SLEwj",
			"type":"next"
		},
		{
			"fromNodeId":"eLiw9",
			"name":"default",
			"priority":0,
			"skip":false,
			"toNodeId":"SLEwj",
			"type":"next"
		},
		{
			"fromNodeId":"SLEwj",
			"priority":0,
			"skip":false,
			"toNodeId":"_hXQRE",
			"type":"next"
		},
		{
			"fromNodeId":"_hXQRE",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_sBM15",
			"type":"if"
		},
		{
			"fromNodeId":"_sBM15",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_KSgVK",
			"type":"if"
		},
		{
			"fromNodeId":"n_KSgVK",
			"priority":0,
			"skip":false,
			"toNodeId":"_20fTb",
			"type":"next"
		},
		{
			"fromNodeId":"_sBM15",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_20fTb",
			"type":"next"
		},
		{
			"fromNodeId":"_hXQRE",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_o0Xxz",
			"type":"next"
		},
		{
			"fromNodeId":"_o0Xxz",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_V4My8",
			"type":"if"
		},
		{
			"fromNodeId":"_20fTb",
			"priority":0,
			"skip":false,
			"toNodeId":"n_KEChn",
			"type":"next"
		},
		{
			"fromNodeId":"_V4My8",
			"priority":0,
			"skip":false,
			"toNodeId":"n_KEChn",
			"type":"next"
		},
		{
			"fromNodeId":"_o0Xxz",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"n_KEChn",
			"type":"next"
		},
		{
			"fromNodeId":"n_KEChn",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_2mvzn",
			"type":"if"
		},
		{
			"fromNodeId":"n_2mvzn",
			"priority":0,
			"skip":false,
			"toNodeId":"n_0z3Kn",
			"type":"next"
		},
		{
			"fromNodeId":"42DIY",
			"priority":0,
			"skip":false,
			"toNodeId":"n_0z3Kn",
			"type":"next"
		},
		{
			"fromNodeId":"n_KEChn",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"n_0z3Kn",
			"type":"next"
		},
		{
			"fromNodeId":"n_0z3Kn",
			"priority":0,
			"skip":false,
			"toNodeId":"UPeaY",
			"type":"loop"
		},
		{
			"fromNodeId":"UPeaY",
			"priority":0,
			"skip":false,
			"toNodeId":"YzAxb",
			"type":"next"
		},
		{
			"fromNodeId":"YzAxb",
			"priority":0,
			"skip":false,
			"toNodeId":"n_pMSXT",
			"type":"next"
		},
		{
			"fromNodeId":"n_pMSXT",
			"priority":0,
			"skip":false,
			"toNodeId":"n_D8her",
			"type":"next"
		},
		{
			"fromNodeId":"n_D8her",
			"priority":0,
			"skip":false,
			"toNodeId":"n_49wZO",
			"type":"next"
		},
		{
			"fromNodeId":"n_49wZO",
			"priority":0,
			"skip":false,
			"toNodeId":"n_jmVOx",
			"type":"next"
		},
		{
			"fromNodeId":"n_jmVOx",
			"priority":0,
			"skip":false,
			"toNodeId":"n_baZIF",
			"type":"loop"
		},
		{
			"fromNodeId":"n_baZIF",
			"priority":0,
			"skip":false,
			"toNodeId":"n_LEBze",
			"type":"next"
		},
		{
			"fromNodeId":"n_LEBze",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"n_jmVOx",
			"type":"next"
		},
		{
			"fromNodeId":"n_jmVOx",
			"priority":0,
			"skip":false,
			"toNodeId":"n_ZTJeE",
			"type":"next"
		},
		{
			"fromNodeId":"n_ZTJeE",
			"priority":0,
			"skip":false,
			"toNodeId":"0CSmi",
			"type":"next"
		},
		{
			"fromNodeId":"0CSmi",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"LUpaD",
			"type":"if"
		},
		{
			"fromNodeId":"LUpaD",
			"priority":0,
			"skip":false,
			"toNodeId":"42DIY",
			"type":"next"
		},
		{
			"fromNodeId":"0CSmi",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"42DIY",
			"type":"next"
		},
		{
			"fromNodeId":"n_0z3Kn",
			"priority":0,
			"skip":false,
			"toNodeId":"n_L0ifu",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"68a574a6f2bee153be2043f6",
	"lastModifiedBy":-1,
	"lcName":"eval | dataset | create testcases from service hub messages",
	"modifiedTime":1759243564402,
	"name":"Eval | Dataset | Create Testcases from Service Hub Messages",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":447,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_HM960-1",
			"id":"n_LWF65",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"succsss":{
							"type":"boolean",
							"title":"Succsss"
						}
					}
				},
				"setup":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"caseId":{
							"type":"string",
							"title":"Case Id"
						},
						"toolDetailsList":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Tool Details List"
						},
						"entityFieldToSessionFieldMap":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Entity Field To Session Field Map"
						},
						"testCaseType":{
							"type":"string",
							"title":"Test Case Type"
						},
						"datasetId":{
							"type":"string",
							"title":"Dataset Id"
						},
						"agent_role":{
							"type":"string",
							"title":"Agent Role"
						},
						"datasetImportHistoryId":{
							"type":"string",
							"title":"Dataset Import History Id"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":458,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_HM960-1",
			"id":"n_nZnhy",
			"index":2,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"userPrerequisiteMessage":{
							"type":"string",
							"title":"User Prerequisite Message"
						},
						"agentResponsePlaceholder":{
							"type":"string",
							"title":"Agent Response Placeholder"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"userPrerequisiteMessage":"PS : (Agent started the conversation with default message)",
				"agentResponsePlaceholder":"<NO_AGENT_RESPONSE>"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"userPrerequisiteMessage":{
							"type":"string",
							"title":"User Prerequisite Message"
						},
						"agentResponsePlaceholder":{
							"type":"string",
							"title":"Agent Response Placeholder"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":195,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_HM960-1",
			"id":"raQvP",
			"index":3,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"additionalProperties":false,
									"type":[
										"object",
										"string",
										"number",
										"boolean",
										"integer"
									],
									"properties":{}
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray"
				},
				"ua:title":"allMessageIds",
				"ua:list_type":"STRING"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"allMessageIds",
							"disableActions":true,
							"items":{
								"type":"string"
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Message ID list",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":450,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_HM960-1",
			"id":"n_fH1Mn",
			"index":4,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"additionalProperties":false,
									"type":[
										"object",
										"string",
										"number",
										"boolean",
										"integer"
									],
									"properties":{
										"input":{
											"type":"string",
											"title":"Input"
										},
										"actual_output":{
											"type":"string",
											"title":"Actual Output"
										},
										"messageIdsCSV":{
											"type":"string",
											"title":"Message Ids CSV"
										},
										"intputMsgTime":{
											"type":"number",
											"title":"Intput Msg Time"
										},
										"outputMsgTime":{
											"type":"number",
											"title":"Output Msg Time"
										}
									},
									"required":[]
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray"
				},
				"ua:title":"Input Output List",
				"ua:list_type":"OBJECT"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"Input Output List",
							"disableActions":true,
							"items":{
								"type":"object",
								"properties":{
									"input":{
										"type":"string",
										"title":"Input"
									},
									"actual_output":{
										"type":"string",
										"title":"Actual Output"
									},
									"messageIdsCSV":{
										"type":"string",
										"title":"Message Ids CSV"
									},
									"intputMsgTime":{
										"type":"number",
										"title":"Intput Msg Time"
									},
									"outputMsgTime":{
										"type":"number",
										"title":"Output Msg Time"
									}
								},
								"required":[]
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":156,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_HM960-1",
			"id":"lNYg3",
			"index":5,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"userInput":{
							"type":"string",
							"title":"User Input"
						},
						"actualOutput":{
							"type":"string",
							"title":"Actual Output"
						},
						"messageIdsCSV":{
							"type":"string",
							"title":"Message Ids CSV"
						},
						"intputMsgTime":{
							"type":"number",
							"title":"Intput Msg Time"
						},
						"outputMsgTime":{
							"type":"number",
							"title":"Output Msg Time"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"intputMsgTime":-1,
				"outputMsgTime":-1
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"userInput":{
							"type":"string",
							"title":"User Input"
						},
						"actualOutput":{
							"type":"string",
							"title":"Actual Output"
						},
						"messageIdsCSV":{
							"type":"string",
							"title":"Message Ids CSV"
						},
						"intputMsgTime":{
							"type":"number",
							"title":"Intput Msg Time"
						},
						"outputMsgTime":{
							"type":"number",
							"title":"Output Msg Time"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"variables",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":155,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_HM960-1",
			"id":"kfGs6",
			"index":6,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_caseId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ n_LWF65.outputs.caseId }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"service_hub_message",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"sortBy":[
					{
						"field":"cTm",
						"order":"ASC"
					}
				],
				"translationsOption":"DEFAULT",
				"page":{
					"paginateBy":"OFFSET",
					"limit":2000
				},
				"numberOfRecordsToFetch":"MULTIPLE",
				"readThroughSessionVariables":false,
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"Fetch messages",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":157,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_HM960-1",
			"id":"SLEwj",
			"index":7,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ kfGs6.outputs.objects }}",
				"captureIterations":true
			},
			"skip":false,
			"subTitle":"For each message",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":194,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"SLEwj@_HM960-1@l",
			"id":"lgT5C",
			"index":8,
			"inputs":{
				"itemToAdd":"{{ SLEwj.outputs.item.id }}",
				"insertLocation":"END",
				"listName":"{{ raQvP.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"branch",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"SLEwj@_HM960-1@l",
			"id":"eLiw9",
			"index":9,
			"inputs":{
				"branches":[
					{
						"id":"1",
						"inputs":{
							"name":"FAN",
							"conditions":{
								"filters":[
									{
										"property":"{{ SLEwj.outputs.item.properties.type }}",
										"filter":{
											"operator":"EQUAL",
											"value":"fan"
										}
									}
								],
								"operator":"AND"
							}
						}
					},
					{
						"id":"2",
						"inputs":{
							"name":"BOT / BRAND",
							"conditions":{
								"filters":[
									{
										"property":"{{ SLEwj.outputs.item.properties.content.text }}",
										"filter":{
											"operator":"EXISTS"
										}
									},
									{
										"filters":[
											{
												"property":"{{ SLEwj.outputs.item.properties.additional.internalMessageType }}",
												"filter":{
													"operator":"MISSING"
												}
											},
											{
												"property":"=LEN({{ SLEwj.outputs.item.properties.additional.internalMessageType }})",
												"filter":{
													"operator":"EQUAL",
													"value":"0"
												}
											}
										],
										"operator":"OR"
									},
									{
										"filters":[
											{
												"property":"{{ SLEwj.outputs.item.properties.type }}",
												"filter":{
													"operator":"EQUAL",
													"value":"bot"
												}
											},
											{
												"property":"{{ SLEwj.outputs.item.properties.type }}",
												"filter":{
													"operator":"EQUAL",
													"value":"brand"
												}
											}
										],
										"operator":"OR"
									}
								],
								"operator":"AND"
							}
						}
					},
					{
						"id":"default"
					}
				]
			},
			"skip":false,
			"subTitle":"Branch",
			"title":"",
			"type":"BRANCH"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":162,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eLiw9@SLEwj@_HM960-1@l@1",
			"id":"eLiw9@1",
			"index":10,
			"inputs":{
				"name":"FAN",
				"conditions":{
					"filters":[
						{
							"property":"{{ SLEwj.outputs.item.properties.type }}",
							"filter":{
								"operator":"EQUAL",
								"value":"fan"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eLiw9@SLEwj@_HM960-1@l@1",
			"id":"n_bzWis",
			"index":11,
			"inputs":{
				"filters":[
					{
						"property":"{{ lNYg3.outputs.actualOutput }}",
						"filter":{
							"operator":"EXISTS"
						}
					},
					{
						"property":"=LEN({{ lNYg3.outputs.actualOutput }})",
						"filter":{
							"operator":"NOT_EQUAL",
							"value":"0"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Bot message is present",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_bzWis@eLiw9@SLEwj@_HM960-1@l@1@y",
			"id":"_7feU6",
			"index":12,
			"inputs":{
				"filters":[
					{
						"filters":[
							{
								"property":"{{ lNYg3.outputs.userInput }}",
								"filter":{
									"operator":"MISSING"
								}
							},
							{
								"filters":[
									{
										"filter":{
											"operator":"EQUAL",
											"value":"0"
										},
										"property":"=LEN({{ lNYg3.outputs.userInput }})"
									}
								],
								"operator":"AND"
							}
						],
						"operator":"OR"
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"User message is not present",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":453,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_7feU6@n_bzWis@eLiw9@SLEwj@_HM960-1@l@1@y@y",
			"id":"n_7pwhL",
			"index":13,
			"inputs":{
				"itemToAdd":{
					"input":"{{ n_nZnhy.outputs.userPrerequisiteMessage }}",
					"actual_output":"{{ lNYg3.outputs.actualOutput }}",
					"messageIdsCSV":"-1",
					"intputMsgTime":-1,
					"outputMsgTime":"{{ lNYg3.outputs.outputMsgTime }}"
				},
				"insertLocation":"END",
				"listName":"{{ n_fH1Mn.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":453,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_7feU6@n_bzWis@eLiw9@SLEwj@_HM960-1@l@1@y@n",
			"id":"_qLJZ3",
			"index":14,
			"inputs":{
				"itemToAdd":{
					"actual_output":"{{ lNYg3.outputs.actualOutput }}",
					"input":"{{ lNYg3.outputs.userInput }}",
					"messageIdsCSV":"{{ lNYg3.outputs.messageIdsCSV }}",
					"intputMsgTime":"{{ lNYg3.outputs.intputMsgTime }}",
					"outputMsgTime":"{{ lNYg3.outputs.outputMsgTime }}"
				},
				"insertLocation":"END",
				"listName":"{{ n_fH1Mn.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":447,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_bzWis@eLiw9@SLEwj@_HM960-1@l@1@y",
			"id":"_YbvRF",
			"index":15,
			"inputs":{
				"variables":[
					{
						"source":"{{ lNYg3.outputs.userInput }}",
						"value":"{{ SLEwj.outputs.item.properties.content.text }}"
					},
					{
						"source":"{{ lNYg3.outputs.actualOutput }}"
					},
					{
						"source":"{{ lNYg3.outputs.messageIdsCSV }}",
						"value":"{{ SLEwj.outputs.item.id }}"
					},
					{
						"source":"{{ lNYg3.outputs.intputMsgTime }}",
						"value":"{{ SLEwj.outputs.item.createdTime }}"
					},
					{
						"source":"{{ lNYg3.outputs.outputMsgTime }}",
						"value":-1
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_bzWis@eLiw9@SLEwj@_HM960-1@l@1@n",
			"id":"_ISDGS",
			"index":16,
			"inputs":{
				"filters":[
					{
						"filters":[
							{
								"property":"{{ lNYg3.outputs.userInput }}",
								"filter":{
									"operator":"EXISTS"
								}
							},
							{
								"filters":[
									{
										"filter":{
											"operator":"NOT_EQUAL",
											"value":"0"
										},
										"property":"=LEN({{ lNYg3.outputs.userInput }})"
									}
								],
								"operator":"AND"
							}
						],
						"operator":"AND"
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"User Message is present",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":447,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_ISDGS@n_bzWis@eLiw9@SLEwj@_HM960-1@l@1@n@y",
			"id":"_IuOwz",
			"index":17,
			"inputs":{
				"variables":[
					{
						"source":"{{ lNYg3.outputs.userInput }}",
						"value":"{{ lNYg3.outputs.userInput }} .\\n {{ SLEwj.outputs.item.properties.content.text }}"
					},
					{
						"source":"{{ lNYg3.outputs.messageIdsCSV }}",
						"value":"{{ lNYg3.outputs.messageIdsCSV }},{{ SLEwj.outputs.item.id }}"
					},
					{
						"source":"{{ lNYg3.outputs.intputMsgTime }}",
						"value":"{{ SLEwj.outputs.item.createdTime }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":447,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_ISDGS@n_bzWis@eLiw9@SLEwj@_HM960-1@l@1@n@n",
			"id":"_tziVy",
			"index":18,
			"inputs":{
				"variables":[
					{
						"source":"{{ lNYg3.outputs.userInput }}",
						"value":"{{ SLEwj.outputs.item.properties.content.text }}"
					},
					{
						"source":"{{ lNYg3.outputs.messageIdsCSV }}",
						"value":"{{ SLEwj.outputs.item.id }}"
					},
					{
						"source":"{{ lNYg3.outputs.intputMsgTime }}",
						"value":"{{ SLEwj.outputs.item.createdTime }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"branch_condition",
				"resourceVersion":162,
				"resourceName":"branch_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eLiw9@SLEwj@_HM960-1@l@2",
			"id":"eLiw9@2",
			"index":19,
			"inputs":{
				"name":"BOT / BRAND",
				"conditions":{
					"filters":[
						{
							"property":"{{ SLEwj.outputs.item.properties.content.text }}",
							"filter":{
								"operator":"EXISTS"
							}
						},
						{
							"filters":[
								{
									"property":"{{ SLEwj.outputs.item.properties.additional.internalMessageType }}",
									"filter":{
										"operator":"MISSING"
									}
								},
								{
									"property":"=LEN({{ SLEwj.outputs.item.properties.additional.internalMessageType }})",
									"filter":{
										"operator":"EQUAL",
										"value":"0"
									}
								}
							],
							"operator":"OR"
						},
						{
							"filters":[
								{
									"property":"{{ SLEwj.outputs.item.properties.type }}",
									"filter":{
										"operator":"EQUAL",
										"value":"bot"
									}
								},
								{
									"property":"{{ SLEwj.outputs.item.properties.type }}",
									"filter":{
										"operator":"EQUAL",
										"value":"brand"
									}
								}
							],
							"operator":"OR"
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"subTitle":"BOT",
			"title":"",
			"type":"BRANCH_CONDITION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":448,
				"resourceName":"code_by_unifyapps_javascript",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eLiw9@SLEwj@_HM960-1@l@2",
			"id":"_PLBXp",
			"index":20,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"result":{
							"type":"string",
							"title":"Result"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"message":{
							"type":"string",
							"title":"Message"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"code":"function cleanMessage(message) {\n    let result = message;\n\n    // 1) Remove $$...$$ blocks (including newlines)\n    result = result.replace(/\\$\\$[\\s\\S]*?\\$\\$/g, '');\n\n    // Remove single $...$ blocks\n    result = result.replace(/\\$.*?\\$/g, '');\n\n    // 2) Unwrap **...** (keep inner text)\n    result = result.replace(/\\*\\*(.+?)\\*\\*/g, '$1');\n\n    // 3) Tidy whitespace\n    result = result.replace(/\\s+/g, ' ').trim();\n    // Remove spaces before punctuation like \":\" or \",\"\n    result = result.replace(/\\s+([:;,.!?])/g, '$1');\n\n    return result;\n}\nresult = cleanMessage(message);\n\n",
				"isAsync":false,
				"parameters":{
					"message":"{{ SLEwj.outputs.item.properties.content.text }}"
				}
			},
			"skip":false,
			"subTitle":"Remove special characters",
			"title":"Execute Javascript",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"eLiw9@SLEwj@_HM960-1@l@2",
			"id":"_LjgoJ",
			"index":21,
			"inputs":{
				"filters":[
					{
						"filters":[
							{
								"property":"{{ lNYg3.outputs.actualOutput }}",
								"filter":{
									"operator":"MISSING"
								}
							},
							{
								"property":"=LEN({{ lNYg3.outputs.actualOutput }})",
								"filter":{
									"operator":"EQUAL",
									"value":"0"
								}
							}
						],
						"operator":"OR"
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Both Bot and User message are not present",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":447,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_LjgoJ@eLiw9@SLEwj@_HM960-1@l@2@y",
			"id":"_GQQ2R",
			"index":22,
			"inputs":{
				"variables":[
					{
						"source":"{{ lNYg3.outputs.actualOutput }}",
						"value":"{{ _PLBXp.outputs.result }}"
					},
					{
						"source":"{{ lNYg3.outputs.outputMsgTime }}",
						"value":"{{ SLEwj.outputs.item.createdTime }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":155,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_LjgoJ@eLiw9@SLEwj@_HM960-1@l@2@n",
			"id":"BIanj",
			"index":23,
			"inputs":{
				"variables":[
					{
						"source":"{{ lNYg3.outputs.actualOutput }}",
						"value":"{{ lNYg3.outputs.actualOutput }} .\\n {{ _PLBXp.outputs.result }}"
					},
					{
						"source":"{{ lNYg3.outputs.outputMsgTime }}",
						"value":"{{ SLEwj.outputs.item.createdTime }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Update actual output",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_HM960-1",
			"id":"_hXQRE",
			"index":24,
			"inputs":{
				"filters":[
					{
						"property":"{{ lNYg3.outputs.userInput }}",
						"filter":{
							"operator":"EXISTS"
						}
					},
					{
						"property":"=LEN({{ lNYg3.outputs.userInput }})",
						"filter":{
							"operator":"NOT_EQUAL",
							"value":"0"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"(Process Last Message) User message is present ",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_hXQRE@_HM960-1@y",
			"id":"_sBM15",
			"index":25,
			"inputs":{
				"filters":[
					{
						"filters":[
							{
								"property":"{{ lNYg3.outputs.actualOutput }}",
								"filter":{
									"operator":"MISSING"
								}
							},
							{
								"filters":[
									{
										"filter":{
											"operator":"EQUAL",
											"value":"0"
										},
										"property":"=LEN({{ lNYg3.outputs.actualOutput }})"
									}
								],
								"operator":"AND"
							}
						],
						"operator":"OR"
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Bot Message is not present",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":447,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_sBM15@_hXQRE@_HM960-1@y@y",
			"id":"n_KSgVK",
			"index":26,
			"inputs":{
				"variables":[
					{
						"source":"{{ lNYg3.outputs.outputMsgTime }}",
						"value":-1
					},
					{
						"source":"{{ lNYg3.outputs.actualOutput }}",
						"value":"{{ n_nZnhy.outputs.agentResponsePlaceholder }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":453,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_hXQRE@_HM960-1@y",
			"id":"_20fTb",
			"index":27,
			"inputs":{
				"itemToAdd":{
					"actual_output":"{{ lNYg3.outputs.actualOutput }}",
					"input":"{{ lNYg3.outputs.userInput }}",
					"messageIdsCSV":"{{ lNYg3.outputs.messageIdsCSV }}",
					"intputMsgTime":"{{ lNYg3.outputs.intputMsgTime }}",
					"outputMsgTime":"{{ lNYg3.outputs.outputMsgTime }}"
				},
				"insertLocation":"END",
				"listName":"{{ n_fH1Mn.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_hXQRE@_HM960-1@n",
			"id":"_o0Xxz",
			"index":28,
			"inputs":{
				"filters":[
					{
						"filters":[
							{
								"property":"{{ lNYg3.outputs.actualOutput }}",
								"filter":{
									"operator":"EXISTS"
								}
							},
							{
								"filters":[
									{
										"filter":{
											"operator":"NOT_EQUAL",
											"value":"0"
										},
										"property":"=LEN({{ lNYg3.outputs.actualOutput }})"
									}
								],
								"operator":"AND"
							}
						],
						"operator":"AND"
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Bot Message is present",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":453,
				"resourceName":"variable_by_unifyapps_add_item_to_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_o0Xxz@_hXQRE@_HM960-1@n@y",
			"id":"_V4My8",
			"index":29,
			"inputs":{
				"itemToAdd":{
					"actual_output":"{{ lNYg3.outputs.actualOutput }}",
					"input":"{{ n_nZnhy.outputs.userPrerequisiteMessage }}",
					"messageIdsCSV":"-1",
					"intputMsgTime":-1,
					"outputMsgTime":"{{ lNYg3.outputs.outputMsgTime }}"
				},
				"insertLocation":"END",
				"listName":"{{ n_fH1Mn.outputs.items[0] }}"
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Add item to list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_HM960-1",
			"id":"n_KEChn",
			"index":30,
			"inputs":{
				"filters":[
					{
						"property":"=LEN({{ n_fH1Mn.outputs.items }})",
						"filter":{
							"operator":"EQUAL",
							"value":"1"
						}
					},
					{
						"property":"{{ n_fH1Mn.outputs.items[0].input }}",
						"filter":{
							"operator":"EQUAL",
							"value":"{{ n_nZnhy.outputs.userPrerequisiteMessage }}"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":457,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_KEChn@_HM960-1@y",
			"id":"n_2mvzn",
			"index":31,
			"inputs":{
				"result":{
					"succsss":false
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":456,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_HM960-1",
			"id":"n_0z3Kn",
			"index":32,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ n_fH1Mn.outputs.items }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For each loop",
			"type":"LOOP"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.toolDetailsList.items",
					"root.parameters.messageIdList.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":194,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_0z3Kn@_HM960-1@l",
			"id":"UPeaY",
			"index":33,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"toolDetails":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Tool Details"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"toolDetailsList":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Tool Details List"
						},
						"messageIdList":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Message Id List"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"\nif (binding.hasVariable('toolDetailsList') && binding.hasVariable('messageIdList')) {\n\n    def inputToolDetailsList = toolDetailsList\n    def inputMessageIdList = messageIdList\n\n    def matchingToolDetails = inputToolDetailsList.findAll { tool ->\n        inputMessageIdList.contains(tool?.messageId)\n    }\n\n    matchingToolDetails.each { tool ->\n        if (tool instanceof Map) {\n            tool.remove('messageId')\n        }\n    }\n\n    return [\"toolDetails\" : matchingToolDetails]\n}\n\nreturn []",
				"parameters":{
					"messageIdList":{
						"source":"{{ raQvP.outputs.items }}",
						"ua:type":"mappedArray",
						"items":"{{ raQvP.outputs.items[0] }}"
					},
					"toolDetailsList":{
						"source":"{{ n_LWF65.outputs.toolDetailsList }}",
						"ua:type":"mappedArray",
						"items":"{{ n_LWF65.outputs.toolDetailsList[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Get tool for this message ID",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.toolDetails.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":195,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_0z3Kn@_HM960-1@l",
			"id":"YzAxb",
			"index":34,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"retrieved_context":{
							"type":"string",
							"title":"Retrieved Context"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"toolDetails":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Tool Details"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def retrieved_context = \"\"\n\nif (binding.hasVariable('toolDetails')) {\n  for(item in toolDetails){\n    if(item?.name == \"ReferFromKnowledge\"){\n      retrieved_context += item?.output\n    }\n  }\n}\n\nreturn [\"retrieved_context\" : retrieved_context]\n",
				"parameters":{
					"toolDetails":{
						"source":"{{ UPeaY.outputs.result.toolDetails }}",
						"ua:type":"mappedArray",
						"items":"{{ UPeaY.outputs.result.toolDetails[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":458,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_0z3Kn@_HM960-1@l",
			"id":"n_pMSXT",
			"index":35,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"cost":{
							"type":"number",
							"title":"Cost"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"cost":0
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"cost":{
							"type":"number",
							"title":"Cost"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_0z3Kn@_HM960-1@l",
			"id":"n_D8her",
			"index":36,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"messageIds":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Message Ids"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"messageIdsCSV":{
							"type":"string",
							"title":"Message Ids CSV"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def messageIdsCSV = binding.hasVariable('messageIdsCSV') ? messageIdsCSV : \"-1\"\ndef messageIds = messageIdsCSV\n        ?.split(\"\\\\s*,\\\\s*\")          // split by commas, trim spaces\n        ?.findAll { it && it.trim() != \"-1\" }  // drop empty and -1\n        ?.collect { it.trim() }       // trim each value\n\nreturn [\"messageIds\": messageIds]",
				"parameters":{
					"messageIdsCSV":"{{ n_0z3Kn.outputs.item.messageIdsCSV }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":550,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_0z3Kn@_HM960-1@l",
			"id":"n_49wZO",
			"index":37,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_caseId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ n_LWF65.outputs.caseId }}"
							}
						},
						{
							"property":"properties_messageId",
							"filter":{
								"operator":"IN",
								"value":"{{ n_D8her.outputs.result.messageIds }}"
							}
						},
						{
							"property":"properties_fromAutomationId",
							"filter":{
								"operator":"EQUAL",
								"value":"66ac70650f725f5b425d12d8"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"e_traces",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"translationsOption":"DEFAULT",
				"page":{
					"paginateBy":"OFFSET",
					"limit":200
				},
				"numberOfRecordsToFetch":"MULTIPLE",
				"readThroughSessionVariables":false,
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":456,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_0z3Kn@_HM960-1@l",
			"id":"n_jmVOx",
			"index":38,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ n_49wZO.outputs.objects }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For each loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"continue",
				"resourceVersion":441,
				"resourceName":"continue",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_jmVOx@n_0z3Kn@_HM960-1@l@l",
			"id":"n_baZIF",
			"index":39,
			"inputs":{
				"loop":"n_jmVOx",
				"conditions":{
					"filters":[
						{
							"property":"{{ n_jmVOx.outputs.item.properties.cost }}",
							"filter":{
								"operator":"MISSING"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"subTitle":"Continue",
			"title":"Continue",
			"type":"CONTINUE"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":447,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_jmVOx@n_0z3Kn@_HM960-1@l@l",
			"id":"n_LEBze",
			"index":40,
			"inputs":{
				"variables":[
					{
						"source":"{{ n_pMSXT.outputs.cost }}",
						"value":"=({{ n_pMSXT.outputs.cost }} + {{ n_jmVOx.outputs.item.properties.cost }})"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.item.actual_output",
					"root.parameters.item.input",
					"root.parameters.item.tools_called.items",
					"root.parameters.item.caseId",
					"root.parameters.item.messageId",
					"root.parameters.item.retrieved_context"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":803,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_0z3Kn@_HM960-1@l",
			"id":"n_ZTJeE",
			"index":41,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"record":{
							"type":"object",
							"properties":{
								"input":{
									"type":"string",
									"title":"Input"
								},
								"context":{
									"type":"string",
									"title":"Context"
								},
								"expected_output":{
									"type":"string",
									"title":"Expected Output"
								},
								"expected_tools":{
									"type":"array",
									"items":{
										"type":"object",
										"properties":{},
										"additionalProperties":false
									},
									"title":"Expected Tools"
								},
								"actual_output":{
									"type":"string",
									"title":"Actual Output"
								},
								"retrieved_context":{
									"type":"string",
									"title":"Retrieved Context"
								},
								"tools_called":{
									"type":"array",
									"items":{
										"type":"object",
										"properties":{},
										"additionalProperties":false
									},
									"title":"Tools Called"
								}
							},
							"additionalProperties":false,
							"title":"Record",
							"required":[]
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"entityFieldToSessionFieldMap":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Entity Field To Session Field Map"
						},
						"item":{
							"type":"object",
							"properties":{
								"actual_output":{
									"type":"string",
									"title":"Actual Output"
								},
								"input":{
									"type":"string",
									"title":"Input"
								},
								"tools_called":{
									"type":"array",
									"items":{
										"type":"object",
										"properties":{},
										"additionalProperties":false
									},
									"title":"Tools Called"
								},
								"caseId":{
									"type":"string",
									"title":"Case Id"
								},
								"messageId":{
									"type":"string",
									"title":"Message Id"
								},
								"retrieved_context":{
									"type":"string",
									"title":"Retrieved Context"
								}
							},
							"additionalProperties":false,
							"title":"Item",
							"required":[]
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def item = binding.hasVariable(\"item\") ? binding.getVariable(\"item\") : [:]\ndef entityFieldToSessionFieldMap = binding.hasVariable(\"entityFieldToSessionFieldMap\") ? binding.getVariable(\"entityFieldToSessionFieldMap\") : [:]\n\ndef record = [:]\n\ndef allowedKeys = [\"name\", \"input\", \"output\", \"reasoning\", \"description\"]\ndef expectedTools = item.containsKey(entityFieldToSessionFieldMap['expected_tools']) ? item[entityFieldToSessionFieldMap['expected_tools']] : []\n\n// def schemaMismatchCount = 0\n\ndef filteredExpectedTools = expectedTools.collect { tool ->\n    def extraKeys = tool.keySet() - allowedKeys\n    // if (!extraKeys.isEmpty()) {\n    //     schemaMismatchCount = schemaMismatchCount + 1  \n    // }\n    // Return only the allowed keys in each tool\n    tool.findAll { k, v -> allowedKeys.contains(k) }\n}\n\nrecord[\"expected_tools\"] = filteredExpectedTools\nrecord[\"input\"] = item.containsKey(entityFieldToSessionFieldMap['input']) ? item[entityFieldToSessionFieldMap['input']] : \"\"\nrecord[\"context\"] = item.containsKey(entityFieldToSessionFieldMap['context']) ? item[entityFieldToSessionFieldMap['context']] : \"\"\nrecord[\"expected_output\"] = item.containsKey(entityFieldToSessionFieldMap['expected_output']) ? item[entityFieldToSessionFieldMap['expected_output']] : \"\"\nrecord[\"actual_output\"] = item.containsKey(entityFieldToSessionFieldMap['actual_output']) ? item[entityFieldToSessionFieldMap['actual_output']] : \"\"\nrecord[\"retrieved_context\"] = item.containsKey(entityFieldToSessionFieldMap['retrieved_context']) ? item[entityFieldToSessionFieldMap['retrieved_context']] : \"\"\nrecord[\"tools_called\"] = item.containsKey(entityFieldToSessionFieldMap['tools_called']) ? item[entityFieldToSessionFieldMap['tools_called']] : []\n\nreturn [\"record\": record] //, \"schemaMismatchCount\": schemaMismatchCount\n",
				"parameters":{
					"item":{
						"input":"{{ n_0z3Kn.outputs.item.input }}",
						"actual_output":"{{ n_0z3Kn.outputs.item.actual_output }}",
						"tools_called":{
							"source":"{{ UPeaY.outputs.result.toolDetails }}",
							"ua:type":"mappedArray",
							"items":"{{ UPeaY.outputs.result.toolDetails[0] }}"
						},
						"caseId":"{{ n_LWF65.outputs.caseId }}",
						"messageId":"{{ n_0z3Kn.outputs.item.messageIdsCSV }}",
						"retrieved_context":"{{ YzAxb.outputs.result.retrieved_context }}"
					},
					"entityFieldToSessionFieldMap":"{{ n_LWF65.outputs.entityFieldToSessionFieldMap }}"
				}
			},
			"skip":false,
			"subTitle":"Code",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":155,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_0z3Kn@_HM960-1@l",
			"id":"0CSmi",
			"index":42,
			"inputs":{
				"filters":[
					{
						"property":"{{ n_LWF65.outputs.testCaseType }}",
						"filter":{
							"operator":"NOT_EQUAL",
							"value":"LLM"
						}
					},
					{
						"property":"{{ n_0z3Kn.outputs.index }}",
						"filter":{
							"operator":"EQUAL",
							"value":"0"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"llm / conv",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.record.dataset_ids.items"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":157,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"0CSmi@n_0z3Kn@_HM960-1@l@y",
			"id":"LUpaD",
			"index":43,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"conversational_test_case",
				"skipIfBlank":false,
				"record":{
					"name":"{{ n_ZTJeE.outputs.result.record.input }}",
					"datasetId":"{{ n_LWF65.outputs.datasetId }}",
					"agent_role":"{{ n_LWF65.outputs.agent_role }}",
					"datasetImportHistoryId":"{{ n_LWF65.outputs.datasetImportHistoryId }}",
					"dataset_ids":{
						"items":"{{ n_LWF65.outputs.datasetId }}",
						"ua:type":"mappedArray"
					}
				}
			},
			"skip":false,
			"subTitle":"Create conv test case",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.record.tools_called.items",
					"root.record.expected_tools.items",
					"root.record.dataset_ids.items"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":155,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_0z3Kn@_HM960-1@l",
			"id":"42DIY",
			"index":44,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"llm_test_case",
				"skipIfBlank":false,
				"record":{
					"input":"{{ n_ZTJeE.outputs.result.record.input }}",
					"expected_output":"{{ n_ZTJeE.outputs.result.record.expected_output }}",
					"context":"{{ n_ZTJeE.outputs.result.record.context }}",
					"conversationId":"{{ LUpaD.outputs.id }}",
					"datasetId":"{{ n_LWF65.outputs.datasetId }}",
					"actual_output":"{{ n_ZTJeE.outputs.result.record.actual_output }}",
					"retrieved_context":"{{ n_ZTJeE.outputs.result.record.retrieved_context }}",
					"latency":"=IF(OR({{ n_0z3Kn.outputs.item.outputMsgTime }}=-1, {{ n_0z3Kn.outputs.item.intputMsgTime }}=-1), -1, ROUND(({{ n_0z3Kn.outputs.item.outputMsgTime }}-{{ n_0z3Kn.outputs.item.intputMsgTime }})/1000, 3))",
					"cost":"{{ n_pMSXT.outputs.cost }}",
					"datasetImportHistoryId":"{{ n_LWF65.outputs.datasetImportHistoryId }}",
					"expected_tools":{
						"ua:type":"mappedArray",
						"source":"{{ n_ZTJeE.outputs.result.record.expected_tools }}",
						"items":"{{ n_ZTJeE.outputs.result.record.expected_tools[0] }}"
					},
					"dataset_ids":{
						"items":"{{ n_LWF65.outputs.datasetId }}",
						"ua:type":"mappedArray"
					},
					"tools_called":{
						"source":"{{ n_ZTJeE.outputs.result.record.tools_called }}",
						"ua:type":"mappedArray",
						"items":"{{ n_ZTJeE.outputs.result.record.tools_called[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Create LLM test case",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":457,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_HM960-1",
			"id":"n_L0ifu",
			"index":45,
			"inputs":{
				"result":{
					"succsss":true
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":45771,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		
	],
	"version":61
}
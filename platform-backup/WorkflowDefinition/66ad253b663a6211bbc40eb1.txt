{
	"appsUsed":[
		"slack",
		"storage_by_unifyapps"
	],
	"createdTime":1722623291052,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1758655410658,
		"deployedBy":0,
		"deployedDefinitionId":"68d2f3b238757c179b123eef",
		"status":"DEPLOYED",
		"version":20,
		"workflowVersion":1260
	},
	"edges":[
		{
			"fromNodeId":"MFA0U",
			"priority":0,
			"skip":false,
			"toNodeId":"f4X3O",
			"type":"next"
		},
		{
			"fromNodeId":"f4X3O",
			"priority":0,
			"skip":false,
			"toNodeId":"NSnGY",
			"type":"next"
		},
		{
			"fromNodeId":"NSnGY",
			"priority":0,
			"skip":false,
			"toNodeId":"tZyPr",
			"type":"next"
		},
		{
			"fromNodeId":"tZyPr",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"kM5ek",
			"type":"if"
		},
		{
			"fromNodeId":"kM5ek",
			"priority":0,
			"skip":false,
			"toNodeId":"VvkHg",
			"type":"next"
		},
		{
			"fromNodeId":"VvkHg",
			"priority":0,
			"skip":false,
			"toNodeId":"Ixr4y",
			"type":"next"
		},
		{
			"fromNodeId":"tZyPr",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"Ixr4y",
			"type":"next"
		},
		{
			"fromNodeId":"Ixr4y",
			"priority":0,
			"skip":false,
			"toNodeId":"gL8TG",
			"type":"next"
		},
		{
			"fromNodeId":"gL8TG",
			"priority":0,
			"skip":false,
			"toNodeId":"5gJh1",
			"type":"loop"
		},
		{
			"fromNodeId":"5gJh1",
			"priority":0,
			"skip":false,
			"toNodeId":"SMMp1",
			"type":"next"
		},
		{
			"fromNodeId":"SMMp1",
			"priority":0,
			"skip":false,
			"toNodeId":"owI2M",
			"type":"loop"
		},
		{
			"fromNodeId":"owI2M",
			"priority":0,
			"skip":false,
			"toNodeId":"PmnPY",
			"type":"next"
		},
		{
			"fromNodeId":"PmnPY",
			"priority":0,
			"skip":false,
			"toNodeId":"5vVnS",
			"type":"next"
		},
		{
			"fromNodeId":"5vVnS",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"SMMp1",
			"type":"next"
		},
		{
			"fromNodeId":"SMMp1",
			"priority":0,
			"skip":false,
			"toNodeId":"ykXhj",
			"type":"next"
		},
		{
			"fromNodeId":"ykXhj",
			"priority":0,
			"skip":false,
			"toNodeId":"dPpyf",
			"type":"next"
		},
		{
			"fromNodeId":"dPpyf",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"gL8TG",
			"type":"next"
		},
		{
			"fromNodeId":"gL8TG",
			"priority":0,
			"skip":false,
			"toNodeId":"A6R0p",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"66ad253b663a6211bbc40eb1",
	"lastModifiedBy":-1,
	"lcName":"knowledge indexer main | slack",
	"modifiedTime":1759243588131,
	"name":"Knowledge Indexer Main | Slack",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":46,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"H2HSq-1",
			"id":"MFA0U",
			"index":0,
			"inputs":{
				"result":{
					"type":"object",
					"properties":{
						"response":{
							"type":"boolean",
							"title":"Response",
							"default":false
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"setup":{
					"type":"object",
					"properties":{
						"refresh":{
							"type":"boolean",
							"title":"Refresh",
							"default":false
						},
						"aiAgentId":{
							"type":"string",
							"title":"Ai Agent Id"
						},
						"knowledgeId":{
							"type":"string",
							"title":"Knowledge Id"
						}
					},
					"additionalProperties":false,
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger from automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2041,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"H2HSq-1",
			"id":"f4X3O",
			"index":0,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"id",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ MFA0U.outputs.knowledgeId }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge",
				"page":{
					"limit":20,
					"offset":0
				},
				"numberOfRecordsToFetch":"SINGLE",
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"Fetch knowledge",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2041,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"H2HSq-1",
			"id":"NSnGY",
			"index":0,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_knowledgeId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ MFA0U.outputs.knowledgeId }}"
							}
						},
						{
							"property":"properties_knowledgeVersion",
							"filter":{
								"operator":"EQUAL",
								"value":"={{ f4X3O.outputs.properties.readVersion }}+1"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge_fetch_tracker",
				"page":{
					"limit":20,
					"offset":0
				},
				"numberOfRecordsToFetch":"SINGLE",
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"Fetch tracker",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":50,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"H2HSq-1",
			"id":"tZyPr",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ NSnGY.outputs.properties.fetchedEntities }}",
						"filter":{
							"operator":"MISSING"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Tracker not found",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2052,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"tZyPr@H2HSq-1@y",
			"id":"kM5ek",
			"index":0,
			"inputs":{
				"object_type":"knowledge_fetch_tracker",
				"record":{
					"knowledgeVersion":"={{ f4X3O.outputs.properties.readVersion }}+1",
					"knowledgeId":"{{ MFA0U.outputs.knowledgeId }}"
				}
			},
			"skip":false,
			"subTitle":"create tracker",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2043,
				"resourceName":"storage_by_unifyapps_delete_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"tZyPr@H2HSq-1@y",
			"id":"VvkHg",
			"index":0,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_knowledgeId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ MFA0U.outputs.knowledgeId }}"
							}
						},
						{
							"property":"properties_knowledgeVersion",
							"filter":{
								"operator":"EQUAL",
								"value":"={{ f4X3O.outputs.properties.readVersion }}-1"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge_fetch_tracker",
				"numberOfRecordsToDelete":"SINGLE",
				"page":{
					"limit":20,
					"offset":0
				}
			},
			"skip":false,
			"subTitle":"remove stale tracker",
			"title":"Delete records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":114,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"H2HSq-1",
			"id":"Ixr4y",
			"index":0,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"ui:submitButtonOptions":{
						"norender":true
					}
				},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"has_more":{
							"type":"boolean",
							"title":"Has More",
							"default":false
						},
						"cursor":{
							"type":"string",
							"title":"Cursor"
						}
					},
					"required":[]
				}
			},
			"inputs":{
				"has_more":true
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"has_more":{
							"type":"boolean",
							"title":"Has More",
							"default":false
						},
						"cursor":{
							"type":"string",
							"title":"Cursor"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":90,
				"resourceName":"loop_while",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"H2HSq-1",
			"id":"gL8TG",
			"index":0,
			"inputs":{
				"condition":{
					"filters":[
						{
							"property":"{{ Ixr4y.outputs.has_more }}",
							"filter":{
								"operator":"EQUAL",
								"value":"true"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"While conditions are met",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"slack",
				"resourceVersion":2,
				"connectionId":"683888c98653f754b0b35bb3",
				"resourceName":"slack_list_conversations",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"CONTINUE",
			"groupId":"gL8TG@H2HSq-1@l",
			"id":"5gJh1",
			"index":0,
			"inputs":{
				"cursor":"{{ Ixr4y.outputs.cursor }}",
				"limit":500
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false,
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false,
					"slidingWindowType":"COUNT_BASED"
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"unit":"MINUTES",
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":2.0,
					"captureRetries":false,
					"count":2,
					"enabled":true,
					"initialDelay":30000
				},
				"stepError":"CONTINUE",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"Slack",
			"title":"List conversations",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":87,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"gL8TG@H2HSq-1@l",
			"id":"SMMp1",
			"index":0,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ 5gJh1.outputs.channels }}"
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For each item in the list",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"continue",
				"resourceVersion":50,
				"resourceName":"continue",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"SMMp1@gL8TG@H2HSq-1@l@l",
			"id":"owI2M",
			"index":0,
			"inputs":{
				"loop":"SMMp1",
				"conditions":{
					"filters":[
						{
							"property":"{{ NSnGY.outputs.properties.fetchedEntities }}",
							"filter":{
								"operator":"CONTAINS",
								"value":"{{ SMMp1.outputs.item.name }}"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"subTitle":"Already indexed",
			"title":"Continue",
			"type":"CONTINUE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":48,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"SMMp1@gL8TG@H2HSq-1@l@l",
			"id":"PmnPY",
			"index":0,
			"inputs":{
				"automationId":"66abd0925f8653164a3be2a2",
				"runtimeConnections":{
					"slack":"{{ f4X3O.outputs.properties.applicationInfo.context.connectionId }}"
				},
				"synchronous":true,
				"parameters":{
					"isPrivate":"{{ SMMp1.outputs.item.is_private }}",
					"channel_name":"{{ SMMp1.outputs.item.name }}",
					"knowledgeId":"{{ MFA0U.outputs.knowledgeId }}",
					"aiAgentId":"{{ MFA0U.outputs.aiAgentId }}",
					"channel":"{{ SMMp1.outputs.item.id }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":2041,
				"resourceName":"storage_by_unifyapps_update_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"SMMp1@gL8TG@H2HSq-1@l@l",
			"id":"5vVnS",
			"index":0,
			"inputs":{
				"numberOfRecordsToUpdate":"SINGLE",
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_knowledgeId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ MFA0U.outputs.knowledgeId }}"
							}
						},
						{
							"property":"properties_knowledgeVersion",
							"filter":{
								"operator":"EQUAL",
								"value":"={{ f4X3O.outputs.properties.readVersion }}+1"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"knowledge_fetch_tracker",
				"updateFields":[
					{
						"fieldName":"properties.fetchedEntities",
						"actionType":"ADD",
						"setValue":"{{ SMMp1.outputs.item.name }}"
					}
				],
				"skipIfEmpty":false,
				"page":{
					"offset":0,
					"limit":20
				}
			},
			"skip":false,
			"subTitle":"track channel",
			"title":"Update records by query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":52,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"gL8TG@H2HSq-1@l",
			"id":"ykXhj",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"has_more":{
							"type":"boolean",
							"title":"Has More",
							"default":false
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"next_cursor":{
							"type":"string",
							"title":"Next Cursor"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"code":"return [\"has_more\": (binding.hasVariable('next_cursor') && next_cursor) ? true : false]",
				"isAsync":false,
				"parameters":{
					"next_cursor":"{{ 5gJh1.outputs.response_metadata.next_cursor }}"
				}
			},
			"skip":false,
			"subTitle":"Code By UnifyApps",
			"title":"Execute groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":56,
				"resourceName":"variable_by_unifyapps_update_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"gL8TG@H2HSq-1@l",
			"id":"dPpyf",
			"index":0,
			"inputs":{
				"variables":[
					{
						"source":"{{ Ixr4y.outputs.cursor }}",
						"value":"{{ 5gJh1.outputs.response_metadata.next_cursor }}"
					},
					{
						"source":"{{ Ixr4y.outputs.has_more }}",
						"value":"{{ ykXhj.outputs.result.has_more }}"
					}
				]
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Update variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":42,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"H2HSq-1",
			"id":"A6R0p",
			"index":0,
			"inputs":{
				"result":{
					"response":true
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Return data to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":635,
	"runtimeConnectionAppNames":[
		"slack"
	],
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"headerValueTierMap":{},
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		"AI Agent",
		"Knowledge"
	],
	"version":1261
}
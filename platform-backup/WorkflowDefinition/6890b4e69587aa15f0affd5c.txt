{
	"appsUsed":[
		"storage_by_unifyapps"
	],
	"createdTime":1759483643563,
	"deleted":false,
	"edges":[
		{
			"fromNodeId":"n_gMZwI",
			"priority":0,
			"skip":false,
			"toNodeId":"n_ua6Z9",
			"type":"next"
		},
		{
			"fromNodeId":"n_ua6Z9",
			"priority":0,
			"skip":false,
			"toNodeId":"n_e7LIU",
			"type":"next"
		},
		{
			"fromNodeId":"n_e7LIU",
			"priority":0,
			"skip":false,
			"toNodeId":"n_eNiyx",
			"type":"next"
		},
		{
			"fromNodeId":"n_eNiyx",
			"priority":0,
			"skip":false,
			"toNodeId":"n_NZskw",
			"type":"next"
		},
		{
			"fromNodeId":"n_NZskw",
			"priority":0,
			"skip":false,
			"toNodeId":"n_T6fYL",
			"type":"next"
		},
		{
			"fromNodeId":"n_T6fYL",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"n_VZcii",
			"type":"next"
		},
		{
			"fromNodeId":"n_T6fYL",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_Dmc0d",
			"type":"if"
		},
		{
			"fromNodeId":"n_VZcii",
			"priority":0,
			"skip":false,
			"toNodeId":"_Dmc0d",
			"type":"next"
		},
		{
			"fromNodeId":"_Dmc0d",
			"priority":0,
			"skip":false,
			"toNodeId":"n_zQdIf",
			"type":"next"
		},
		{
			"fromNodeId":"n_zQdIf",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_frPqr",
			"type":"if"
		},
		{
			"fromNodeId":"n_frPqr",
			"priority":0,
			"skip":false,
			"toNodeId":"n_w2DwV",
			"type":"next"
		},
		{
			"fromNodeId":"n_w2DwV",
			"priority":0,
			"skip":false,
			"toNodeId":"n_Nyb8I",
			"type":"next"
		},
		{
			"fromNodeId":"n_Nyb8I",
			"priority":0,
			"skip":false,
			"toNodeId":"n_svrNG",
			"type":"next"
		},
		{
			"fromNodeId":"n_svrNG",
			"priority":0,
			"skip":false,
			"toNodeId":"n_T61VR",
			"type":"next"
		},
		{
			"fromNodeId":"n_zQdIf",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"n_oYPKh",
			"type":"next"
		},
		{
			"fromNodeId":"n_oYPKh",
			"priority":0,
			"skip":false,
			"toNodeId":"_lLBG7",
			"type":"next"
		},
		{
			"fromNodeId":"_lLBG7",
			"priority":0,
			"skip":false,
			"toNodeId":"_Qjv8A",
			"type":"next"
		},
		{
			"fromNodeId":"n_T61VR",
			"priority":0,
			"skip":false,
			"toNodeId":"n_eZ0Vz",
			"type":"next"
		},
		{
			"fromNodeId":"_Qjv8A",
			"priority":0,
			"skip":false,
			"toNodeId":"n_eZ0Vz",
			"type":"next"
		}
	],
	"id":"6890b4e69587aa15f0affd5c",
	"lastModifiedBy":43502,
	"lcName":"check opensearch",
	"modifiedTime":1759483643563,
	"name":"check opensearch",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":101,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_T3sPu-1",
			"id":"n_gMZwI",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"properties":{
						"success":{
							"type":"string",
							"title":"Success"
						},
						"response":{
							"type":"string",
							"title":"Response"
						}
					},
					"additionalProperties":false,
					"required":[
						"success",
						"response"
					]
				},
				"setup":{
					"type":"object",
					"properties":{
						"trigger":{
							"type":"string",
							"title":"Trigger"
						}
					},
					"additionalProperties":false,
					"required":[
						"trigger"
					]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":3,
				"resourceName":"variable_by_unifyapps_create_variables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_T3sPu-1",
			"id":"n_ua6Z9",
			"index":2,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{},
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"opensearchHost":{
							"type":"string",
							"title":"Opensearch Host"
						}
					},
					"required":[
						"opensearchHost"
					]
				}
			},
			"inputs":{
				"opensearchHost":"http://opensearch-app1-svc.unifyapps-infra.svc.cluster.local:9200"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"additionalProperties":false,
					"type":"object",
					"properties":{
						"opensearchHost":{
							"type":"string",
							"title":"Opensearch Host"
						}
					},
					"required":[
						"opensearchHost"
					]
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create variables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":101,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_T3sPu-1",
			"id":"n_e7LIU",
			"index":3,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"additionalProperties":false,
									"type":[
										"object",
										"string",
										"number",
										"boolean",
										"integer"
									],
									"properties":{}
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray"
				},
				"ua:title":"errorMessages",
				"ua:list_type":"STRING"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"errorMessages",
							"disableActions":true,
							"items":{
								"type":"string"
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"opensearchResults",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"standard_entities",
				"resourceVersion":73,
				"resourceName":"standard_entities_lookup_entities",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_T3sPu-1",
			"id":"n_eNiyx",
			"index":4,
			"inputs":{
				"keys":[
					"knowledge_vector_store_open_ai_3072"
				],
				"lookupType":"ENTITY_TYPE",
				"type":"ByKeys"
			},
			"skip":false,
			"subTitle":"Standard entities by UnifyApps",
			"title":"Lookup Request",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":101,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_T3sPu-1",
			"id":"n_NZskw",
			"index":5,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"indexName":{
							"type":"string",
							"title":"Index Name"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"lookupResponse":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Lookup Response"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"return [\"indexName\":\"knowledge_vector_store_open_ai_3072_10100_v3\"]\n//return [\"indexName\": lookupResponse?.objects.knowledge_vector_store_open_ai_3072?.metadata?.storeDetails?.indexName]",
				"parameters":{
					"lookupResponse":"{{ n_eNiyx.outputs.response }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":100,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_T3sPu-1",
			"id":"n_T6fYL",
			"index":6,
			"inputs":{
				"filters":[
					{
						"property":"{{ n_NZskw.outputs.result.indexName }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":102,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_T6fYL@_T3sPu-1@n",
			"id":"n_VZcii",
			"index":7,
			"inputs":{
				"result":{
					"success":"false",
					"response":"Index Name not found"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"additional":{
				"xsdSchemaConfig":{
					"root":{}
				}
			},
			"context":{
				"appName":"custom_http_endpoint",
				"resourceVersion":162,
				"resourceName":"custom_http_endpoint_execute",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_T3sPu-1",
			"id":"_Dmc0d",
			"index":8,
			"inputs":{
				"path":"/_plugins/_knn/stats",
				"responseSchema":{
					"type":"object",
					"properties":{
						"_nodes":{
							"type":"object",
							"properties":{
								"total":{
									"type":"integer",
									"title":"total"
								},
								"successful":{
									"type":"integer",
									"title":"successful"
								},
								"failed":{
									"type":"integer",
									"title":"failed"
								}
							},
							"title":"_nodes",
							"additionalProperties":false
						},
						"cluster_name":{
							"type":"string",
							"title":"cluster_name"
						},
						"circuit_breaker_triggered":{
							"type":"boolean",
							"title":"circuit_breaker_triggered"
						},
						"nodes":{
							"type":"object",
							"properties":{
								"sgM3sD_iSuCwU4Gkd72PtA":{
									"type":"object",
									"properties":{
										"max_distance_query_with_filter_requests":{
											"type":"integer",
											"title":"max_distance_query_with_filter_requests"
										},
										"graph_memory_usage_percentage":{
											"type":"number",
											"title":"graph_memory_usage_percentage"
										},
										"graph_query_requests":{
											"type":"integer",
											"title":"graph_query_requests"
										},
										"graph_memory_usage":{
											"type":"integer",
											"title":"graph_memory_usage"
										},
										"cache_capacity_reached":{
											"type":"boolean",
											"title":"cache_capacity_reached"
										},
										"load_success_count":{
											"type":"integer",
											"title":"load_success_count"
										},
										"training_memory_usage":{
											"type":"integer",
											"title":"training_memory_usage"
										},
										"indices_in_cache":{
											"type":"object",
											"properties":{
												"e_knowledge_metadata_store_147":{
													"type":"object",
													"properties":{
														"graph_memory_usage_percentage":{
															"type":"number",
															"title":"graph_memory_usage_percentage"
														},
														"graph_memory_usage":{
															"type":"integer",
															"title":"graph_memory_usage"
														},
														"graph_count":{
															"type":"integer",
															"title":"graph_count"
														}
													},
													"title":"e_knowledge_metadata_store_147",
													"additionalProperties":false
												},
												"knowledge_vector_store_open_ai_3072_147":{
													"type":"object",
													"properties":{
														"graph_memory_usage_percentage":{
															"type":"number",
															"title":"graph_memory_usage_percentage"
														},
														"graph_memory_usage":{
															"type":"integer",
															"title":"graph_memory_usage"
														},
														"graph_count":{
															"type":"integer",
															"title":"graph_count"
														}
													},
													"title":"knowledge_vector_store_open_ai_3072_147",
													"additionalProperties":false
												}
											},
											"title":"indices_in_cache",
											"additionalProperties":false
										},
										"script_query_errors":{
											"type":"integer",
											"title":"script_query_errors"
										},
										"hit_count":{
											"type":"integer",
											"title":"hit_count"
										},
										"knn_query_requests":{
											"type":"integer",
											"title":"knn_query_requests"
										},
										"total_load_time":{
											"type":"integer",
											"title":"total_load_time"
										},
										"miss_count":{
											"type":"integer",
											"title":"miss_count"
										},
										"min_score_query_requests":{
											"type":"integer",
											"title":"min_score_query_requests"
										},
										"knn_query_with_filter_requests":{
											"type":"integer",
											"title":"knn_query_with_filter_requests"
										},
										"training_memory_usage_percentage":{
											"type":"integer",
											"title":"training_memory_usage_percentage"
										},
										"max_distance_query_requests":{
											"type":"integer",
											"title":"max_distance_query_requests"
										},
										"lucene_initialized":{
											"type":"boolean",
											"title":"lucene_initialized"
										},
										"graph_index_requests":{
											"type":"integer",
											"title":"graph_index_requests"
										},
										"faiss_initialized":{
											"type":"boolean",
											"title":"faiss_initialized"
										},
										"load_exception_count":{
											"type":"integer",
											"title":"load_exception_count"
										},
										"training_errors":{
											"type":"integer",
											"title":"training_errors"
										},
										"min_score_query_with_filter_requests":{
											"type":"integer",
											"title":"min_score_query_with_filter_requests"
										},
										"eviction_count":{
											"type":"integer",
											"title":"eviction_count"
										},
										"nmslib_initialized":{
											"type":"boolean",
											"title":"nmslib_initialized"
										},
										"script_compilations":{
											"type":"integer",
											"title":"script_compilations"
										},
										"script_query_requests":{
											"type":"integer",
											"title":"script_query_requests"
										},
										"graph_stats":{
											"type":"object",
											"properties":{
												"merge":{
													"type":"object",
													"properties":{
														"current":{
															"type":"integer",
															"title":"current"
														},
														"total":{
															"type":"integer",
															"title":"total"
														},
														"total_time_in_millis":{
															"type":"integer",
															"title":"total_time_in_millis"
														},
														"current_docs":{
															"type":"integer",
															"title":"current_docs"
														},
														"total_docs":{
															"type":"integer",
															"title":"total_docs"
														},
														"total_size_in_bytes":{
															"type":"integer",
															"title":"total_size_in_bytes"
														},
														"current_size_in_bytes":{
															"type":"integer",
															"title":"current_size_in_bytes"
														}
													},
													"title":"merge",
													"additionalProperties":false
												},
												"refresh":{
													"type":"object",
													"properties":{
														"total":{
															"type":"integer",
															"title":"total"
														},
														"total_time_in_millis":{
															"type":"integer",
															"title":"total_time_in_millis"
														}
													},
													"title":"refresh",
													"additionalProperties":false
												}
											},
											"title":"graph_stats",
											"additionalProperties":false
										},
										"graph_query_errors":{
											"type":"integer",
											"title":"graph_query_errors"
										},
										"indexing_from_model_degraded":{
											"type":"boolean",
											"title":"indexing_from_model_degraded"
										},
										"graph_index_errors":{
											"type":"integer",
											"title":"graph_index_errors"
										},
										"training_requests":{
											"type":"integer",
											"title":"training_requests"
										},
										"script_compilation_errors":{
											"type":"integer",
											"title":"script_compilation_errors"
										}
									},
									"title":"sgM3sD_iSuCwU4Gkd72PtA",
									"additionalProperties":false
								}
							},
							"title":"nodes",
							"additionalProperties":false
						}
					},
					"additionalProperties":false
				},
				"baseUrl":"{{ n_ua6Z9.outputs.opensearchHost }}",
				"responseContentType":"application/json",
				"isAsync":false,
				"enableProxy":false,
				"requestTimeoutInSecs":-1,
				"authType":"CUSTOM",
				"httpMethod":"GET",
				"requestContentType":"application/json",
				"ignoreTrailingSlashes":false,
				"sslVerify":false
			},
			"skip":false,
			"subTitle":"Custom HTTP Endpoint",
			"title":"Execute REST request",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":100,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_T3sPu-1",
			"id":"n_zQdIf",
			"index":9,
			"inputs":{
				"filters":[
					{
						"property":"{{ _Dmc0d.outputs.result.circuit_breaker_triggered }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"custom_http_endpoint",
				"resourceVersion":162,
				"resourceName":"custom_http_endpoint_execute",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_zQdIf@_T3sPu-1@y",
			"id":"n_frPqr",
			"index":10,
			"inputs":{
				"isAsync":false,
				"enableProxy":false,
				"requestTimeoutInSecs":-1,
				"httpMethod":"POST",
				"body":{
					"size":0,
					"aggs":{
						"na":{
							"terms":{
								"field":"properties.knowledgeId"
							}
						}
					}
				},
				"sslVerify":false,
				"path":"/{{ n_NZskw.outputs.result.indexName }}/_search",
				"responseSchema":{
					"type":"object",
					"properties":{
						"took":{
							"type":"integer",
							"title":"took"
						},
						"timed_out":{
							"type":"boolean",
							"title":"timed_out"
						},
						"terminated_early":{
							"type":"boolean",
							"title":"terminated_early"
						},
						"num_reduce_phases":{
							"type":"integer",
							"title":"num_reduce_phases"
						},
						"_shards":{
							"type":"object",
							"properties":{
								"total":{
									"type":"integer",
									"title":"total"
								},
								"successful":{
									"type":"integer",
									"title":"successful"
								},
								"skipped":{
									"type":"integer",
									"title":"skipped"
								},
								"failed":{
									"type":"integer",
									"title":"failed"
								}
							},
							"title":"_shards",
							"additionalProperties":false
						},
						"hits":{
							"type":"object",
							"properties":{
								"total":{
									"type":"object",
									"properties":{
										"value":{
											"type":"integer",
											"title":"value"
										},
										"relation":{
											"type":"string",
											"title":"relation"
										}
									},
									"title":"total",
									"additionalProperties":false
								},
								"hits":{
									"type":"array",
									"title":"hits"
								}
							},
							"title":"hits",
							"additionalProperties":false
						},
						"aggregations":{
							"type":"object",
							"properties":{
								"na":{
									"type":"object",
									"properties":{
										"doc_count_error_upper_bound":{
											"type":"integer",
											"title":"doc_count_error_upper_bound"
										},
										"sum_other_doc_count":{
											"type":"integer",
											"title":"sum_other_doc_count"
										},
										"buckets":{
											"type":"array",
											"items":{
												"type":"object",
												"properties":{
													"key":{
														"type":"string",
														"title":"key"
													},
													"doc_count":{
														"type":"integer",
														"title":"doc_count"
													}
												},
												"additionalProperties":false
											},
											"title":"buckets"
										}
									},
									"title":"na",
									"additionalProperties":false
								}
							},
							"title":"aggregations",
							"additionalProperties":false
						}
					},
					"additionalProperties":false
				},
				"baseUrl":"{{ n_ua6Z9.outputs.opensearchHost }}",
				"bodySchema":{
					"type":"object",
					"properties":{
						"size":{
							"type":"integer",
							"title":"size"
						},
						"query":{
							"type":"object",
							"properties":{
								"match_all":{
									"type":"object",
									"title":"match_all"
								}
							},
							"title":"query",
							"additionalProperties":false
						},
						"aggs":{
							"type":"object",
							"properties":{
								"na":{
									"type":"object",
									"properties":{
										"terms":{
											"type":"object",
											"properties":{
												"field":{
													"type":"string",
													"title":"field"
												}
											},
											"title":"terms",
											"additionalProperties":false
										}
									},
									"title":"na",
									"additionalProperties":false
								}
							},
							"title":"aggs",
							"additionalProperties":false
						}
					},
					"additionalProperties":false
				},
				"responseContentType":"application/json",
				"authType":"CUSTOM",
				"requestContentType":"application/json",
				"ignoreTrailingSlashes":false
			},
			"skip":false,
			"subTitle":"Custom HTTP Endpoint",
			"title":"Execute REST request",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"variable_by_unifyapps",
				"resourceVersion":101,
				"resourceName":"variable_by_unifyapps_create_list",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_zQdIf@_T3sPu-1@y",
			"id":"n_w2DwV",
			"index":11,
			"inputSchema":{
				"type":"SCHEMA_AND_LAYOUT",
				"dynamic":false,
				"layout":{
					"createList":{
						"ui:title":"",
						"ua:type":{
							"ui:widget":"hidden"
						},
						"items":{
							"ui:title":"Initial list items",
							"ui:description":"Set the initial values of the list (defaults to empty)"
						},
						"ui:order":[
							"*",
							"items"
						]
					},
					"ua:title":{
						"ui:widget":"hidden"
					},
					"ua:list_type":{
						"ui:widget":"hidden"
					}
				},
				"schema":{
					"allOf":[
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"OBJECT"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"items":{
												"type":"object",
												"properties":{}
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"STRING"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of String"
											},
											"items":{
												"type":"string"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"INTEGER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Integers"
											},
											"items":{
												"type":"integer"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"NUMBER"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Numbers"
											},
											"items":{
												"type":"number"
											}
										}
									}
								}
							}
						},
						{
							"if":{
								"properties":{
									"ua:list_type":{
										"const":"BOOLEAN"
									}
								}
							},
							"then":{
								"properties":{
									"createList":{
										"type":"object",
										"properties":{
											"source":{
												"type":"string",
												"format":"ua:source",
												"title":"List of Booleans"
											},
											"items":{
												"type":"boolean"
											}
										}
									}
								}
							}
						}
					],
					"format":"ua:list",
					"type":"object",
					"properties":{
						"ua:title":{
							"type":"string"
						},
						"ua:list_type":{
							"type":"string",
							"title":"List Type",
							"oneOf":[
								{
									"const":"OBJECT",
									"title":"Object"
								},
								{
									"const":"STRING",
									"title":"String"
								},
								{
									"const":"NUMBER",
									"title":"Number"
								},
								{
									"const":"INTEGER",
									"title":"Integer"
								},
								{
									"const":"BOOLEAN",
									"title":"Boolean"
								}
							],
							"default":"OBJECT"
						},
						"createList":{
							"type":"object",
							"properties":{
								"ua:type":{
									"type":"string",
									"default":"mappedArray"
								},
								"source":{
									"type":"string",
									"format":"ua:source",
									"title":"List Item Source"
								},
								"items":{
									"additionalProperties":false,
									"type":[
										"object",
										"string",
										"number",
										"boolean",
										"integer"
									],
									"properties":{}
								}
							}
						}
					}
				}
			},
			"inputs":{
				"createList":{
					"ua:type":"mappedArray",
					"source":"{{ n_frPqr.outputs.result.aggregations.na.buckets }}",
					"items":"{{ n_frPqr.outputs.result.aggregations.na.buckets[0].key }}"
				},
				"ua:title":"knowledges",
				"ua:list_type":"STRING"
			},
			"outputSchema":{
				"dynamic":false,
				"schema":{
					"type":"object",
					"properties":{
						"items":{
							"type":"array",
							"title":"knowledges",
							"disableActions":true,
							"items":{
								"type":"string"
							}
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Variable by UnifyApps",
			"title":"Create list",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":133,
				"resourceName":"storage_by_unifyapps_get_records_by_ids",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_zQdIf@_T3sPu-1@y",
			"id":"n_Nyb8I",
			"index":12,
			"inputs":{
				"object_type":"knowledge",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"ids":{
					"source":"{{ n_w2DwV.outputs.items }}",
					"ua:type":"mappedArray",
					"items":"{{ n_w2DwV.outputs.items[0] }}"
				},
				"readThroughSessionVariables":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Get records by IDs",
			"type":"ACTION"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.parameters.availableKnowledges.items",
					"root.parameters.knowledges.items"
				]
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":101,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_zQdIf@_T3sPu-1@y",
			"id":"n_svrNG",
			"index":13,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"missingKnowledges":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Missing Knowledges"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"availableKnowledges":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Available Knowledges"
						},
						"knowledges":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Knowledges"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def missingKnowledges = knowledges - availableKnowledges\nreturn [\"missingKnowledges\": missingKnowledges]",
				"parameters":{
					"availableKnowledges":{
						"source":"{{ n_Nyb8I.outputs.objects }}",
						"ua:type":"mappedArray",
						"items":"{{ n_Nyb8I.outputs.objects[0].id }}"
					},
					"knowledges":{
						"source":"{{ n_w2DwV.outputs.items }}",
						"ua:type":"mappedArray",
						"items":"{{ n_w2DwV.outputs.items[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":102,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_zQdIf@_T3sPu-1@y",
			"id":"n_T61VR",
			"index":14,
			"inputs":{
				"result":{
					"success":"false",
					"response":"Circuit breaker Triggered"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":3,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_zQdIf@_T3sPu-1@n",
			"id":"n_oYPKh",
			"index":15,
			"inputs":{
				"automationId":"6784b9216fb83f0972c5625d",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"userQuery":"Hi"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"additional":{
				"xsdSchemaConfig":{
					"root":{}
				}
			},
			"context":{
				"appName":"custom_http_endpoint",
				"resourceVersion":162,
				"resourceName":"custom_http_endpoint_execute",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"CONTINUE",
			"groupId":"n_zQdIf@_T3sPu-1@n",
			"id":"_lLBG7",
			"index":16,
			"inputs":{
				"isAsync":false,
				"enableProxy":false,
				"requestTimeoutInSecs":-1,
				"httpMethod":"POST",
				"body":{
					"properties_knowledgeId":"test_knowledge",
					"properties":{
						"embeddings":{
							"source":"{{ n_oYPKh.outputs.embeddings }}",
							"ua:type":"mappedArray",
							"items":"{{ n_oYPKh.outputs.embeddings[0] }}"
						}
					}
				},
				"sslVerify":false,
				"path":"/{{ n_NZskw.outputs.result.indexName }}/_doc",
				"responseSchema":{
					"type":"object",
					"properties":{
						"took":{
							"type":"integer",
							"title":"took"
						},
						"timed_out":{
							"type":"boolean",
							"title":"timed_out"
						},
						"terminated_early":{
							"type":"boolean",
							"title":"terminated_early"
						},
						"num_reduce_phases":{
							"type":"integer",
							"title":"num_reduce_phases"
						},
						"_shards":{
							"type":"object",
							"properties":{
								"total":{
									"type":"integer",
									"title":"total"
								},
								"successful":{
									"type":"integer",
									"title":"successful"
								},
								"skipped":{
									"type":"integer",
									"title":"skipped"
								},
								"failed":{
									"type":"integer",
									"title":"failed"
								}
							},
							"title":"_shards",
							"additionalProperties":false
						},
						"hits":{
							"type":"object",
							"properties":{
								"total":{
									"type":"object",
									"properties":{
										"value":{
											"type":"integer",
											"title":"value"
										},
										"relation":{
											"type":"string",
											"title":"relation"
										}
									},
									"title":"total",
									"additionalProperties":false
								},
								"hits":{
									"type":"array",
									"title":"hits"
								}
							},
							"title":"hits",
							"additionalProperties":false
						},
						"aggregations":{
							"type":"object",
							"properties":{
								"na":{
									"type":"object",
									"properties":{
										"doc_count_error_upper_bound":{
											"type":"integer",
											"title":"doc_count_error_upper_bound"
										},
										"sum_other_doc_count":{
											"type":"integer",
											"title":"sum_other_doc_count"
										},
										"buckets":{
											"type":"array",
											"items":{
												"type":"object",
												"properties":{
													"key":{
														"type":"string",
														"title":"key"
													},
													"doc_count":{
														"type":"integer",
														"title":"doc_count"
													}
												},
												"additionalProperties":false
											},
											"title":"buckets"
										}
									},
									"title":"na",
									"additionalProperties":false
								}
							},
							"title":"aggregations",
							"additionalProperties":false
						}
					},
					"additionalProperties":false
				},
				"baseUrl":"{{ n_ua6Z9.outputs.opensearchHost }}",
				"bodySchema":{
					"type":"object",
					"properties":{
						"properties":{
							"type":"object",
							"properties":{
								"embeddings":{
									"type":"array",
									"items":{
										"type":"number"
									},
									"title":"embeddings"
								}
							},
							"title":"properties",
							"additionalProperties":false
						},
						"properties_knowledgeId":{
							"type":"string",
							"title":"Properties Knowledge Id"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"responseContentType":"application/json",
				"authType":"CUSTOM",
				"requestContentType":"application/json",
				"ignoreTrailingSlashes":false
			},
			"options":{
				"bulkheadConfig":{
					"enabled":false,
					"global":false
				},
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false,
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false,
					"slidingWindowType":"COUNT_BASED"
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"unit":"MINUTES",
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"CONTINUE",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"insert",
			"title":"Execute REST request",
			"type":"ACTION"
		},
		{
			"additional":{
				"xsdSchemaConfig":{
					"root":{}
				}
			},
			"context":{
				"appName":"custom_http_endpoint",
				"resourceVersion":162,
				"resourceName":"custom_http_endpoint_execute",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"CONTINUE",
			"groupId":"n_zQdIf@_T3sPu-1@n",
			"id":"_Qjv8A",
			"index":17,
			"inputs":{
				"isAsync":false,
				"enableProxy":false,
				"requestTimeoutInSecs":-1,
				"httpMethod":"POST",
				"body":{
					"query":{
						"knn":{
							"properties_embeddings":{
								"vector":{
									"source":"{{ n_oYPKh.outputs.embeddings }}",
									"ua:type":"mappedArray",
									"items":"{{ n_oYPKh.outputs.embeddings[0] }}"
								},
								"k":10
							},
							"filter":{
								"bool":{
									"must":{
										"items":{
											"term":{
												"properties_knowledgeId":"test_knowledge"
											}
										},
										"ua:type":"mappedArray"
									}
								}
							}
						}
					},
					"size":10
				},
				"sslVerify":false,
				"path":"/{{ n_NZskw.outputs.result.indexName }}/_search",
				"responseSchema":{
					"type":"object",
					"properties":{
						"took":{
							"type":"integer",
							"title":"took"
						},
						"timed_out":{
							"type":"boolean",
							"title":"timed_out"
						},
						"terminated_early":{
							"type":"boolean",
							"title":"terminated_early"
						},
						"num_reduce_phases":{
							"type":"integer",
							"title":"num_reduce_phases"
						},
						"_shards":{
							"type":"object",
							"properties":{
								"total":{
									"type":"integer",
									"title":"total"
								},
								"successful":{
									"type":"integer",
									"title":"successful"
								},
								"skipped":{
									"type":"integer",
									"title":"skipped"
								},
								"failed":{
									"type":"integer",
									"title":"failed"
								}
							},
							"title":"_shards",
							"additionalProperties":false
						},
						"hits":{
							"type":"object",
							"properties":{
								"total":{
									"type":"object",
									"properties":{
										"value":{
											"type":"integer",
											"title":"value"
										},
										"relation":{
											"type":"string",
											"title":"relation"
										}
									},
									"title":"total",
									"additionalProperties":false
								},
								"hits":{
									"type":"array",
									"title":"hits"
								}
							},
							"title":"hits",
							"additionalProperties":false
						},
						"aggregations":{
							"type":"object",
							"properties":{
								"na":{
									"type":"object",
									"properties":{
										"doc_count_error_upper_bound":{
											"type":"integer",
											"title":"doc_count_error_upper_bound"
										},
										"sum_other_doc_count":{
											"type":"integer",
											"title":"sum_other_doc_count"
										},
										"buckets":{
											"type":"array",
											"items":{
												"type":"object",
												"properties":{
													"key":{
														"type":"string",
														"title":"key"
													},
													"doc_count":{
														"type":"integer",
														"title":"doc_count"
													}
												},
												"additionalProperties":false
											},
											"title":"buckets"
										}
									},
									"title":"na",
									"additionalProperties":false
								}
							},
							"title":"aggregations",
							"additionalProperties":false
						}
					},
					"additionalProperties":false
				},
				"baseUrl":"{{ n_ua6Z9.outputs.opensearchHost }}",
				"bodySchema":{
					"type":"object",
					"properties":{
						"size":{
							"type":"integer",
							"title":"size"
						},
						"query":{
							"type":"object",
							"properties":{
								"knn":{
									"type":"object",
									"properties":{
										"filter":{
											"type":"object",
											"properties":{
												"bool":{
													"type":"object",
													"properties":{
														"must":{
															"type":"array",
															"items":{
																"type":"object",
																"properties":{
																	"term":{
																		"type":"object",
																		"properties":{
																			"properties_knowledgeId":{
																				"type":"string",
																				"title":"properties_knowledgeId"
																			}
																		},
																		"title":"term",
																		"additionalProperties":false
																	}
																},
																"additionalProperties":false
															},
															"title":"must"
														}
													},
													"title":"bool",
													"additionalProperties":false
												}
											},
											"title":"filter",
											"additionalProperties":false
										},
										"properties_embeddings":{
											"type":"object",
											"properties":{
												"vector":{
													"type":"array",
													"items":{
														"type":"number"
													},
													"title":"vector"
												},
												"k":{
													"type":"integer",
													"title":"k"
												}
											},
											"title":"properties_embeddings",
											"additionalProperties":false
										}
									},
									"title":"knn",
									"additionalProperties":false
								}
							},
							"title":"query",
							"additionalProperties":false
						}
					},
					"additionalProperties":false
				},
				"responseContentType":"application/json",
				"authType":"CUSTOM",
				"requestContentType":"application/json",
				"ignoreTrailingSlashes":false
			},
			"options":{
				"bulkheadConfig":{
					"enabled":false,
					"global":false
				},
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false,
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false,
					"slidingWindowType":"COUNT_BASED"
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"unit":"MINUTES",
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"CONTINUE",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"search",
			"title":"Execute REST request",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":102,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_T3sPu-1",
			"id":"n_eZ0Vz",
			"index":18,
			"inputs":{
				"result":{
					"success":"true",
					"response":"done"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":43502,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":false,
	"tags":[
		
	],
	"version":12
}
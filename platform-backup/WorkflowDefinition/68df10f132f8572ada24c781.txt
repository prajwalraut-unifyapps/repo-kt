{
	"appsUsed":[
		"storage_by_unifyapps"
	],
	"createdTime":1759449329611,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1759451762942,
		"deployedBy":59995,
		"deployedDefinitionId":"68df1a72aa7c7b4f21f8434e",
		"status":"DEPLOYED",
		"version":1,
		"workflowVersion":3
	},
	"edges":[
		{
			"fromNodeId":"n_aHG9Z",
			"priority":0,
			"skip":false,
			"toNodeId":"n_96ZBq",
			"type":"next"
		},
		{
			"fromNodeId":"n_96ZBq",
			"priority":0,
			"skip":false,
			"toNodeId":"_1fTuQ",
			"type":"next"
		},
		{
			"fromNodeId":"_1fTuQ",
			"priority":0,
			"skip":false,
			"toNodeId":"_Y9MIK",
			"type":"next"
		},
		{
			"fromNodeId":"_Y9MIK",
			"priority":0,
			"skip":false,
			"toNodeId":"_3dH62",
			"type":"next"
		},
		{
			"fromNodeId":"_3dH62",
			"priority":0,
			"skip":false,
			"toNodeId":"_wcAiW",
			"type":"next"
		},
		{
			"fromNodeId":"_wcAiW",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"_7hrr3",
			"type":"if"
		},
		{
			"fromNodeId":"_7hrr3",
			"priority":0,
			"skip":false,
			"toNodeId":"_TNCsd",
			"type":"next"
		},
		{
			"fromNodeId":"_wcAiW",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_7DI3g",
			"type":"next"
		},
		{
			"fromNodeId":"_7DI3g",
			"priority":0,
			"skip":false,
			"toNodeId":"_nHiIA",
			"type":"next"
		},
		{
			"fromNodeId":"_TNCsd",
			"priority":0,
			"skip":false,
			"toNodeId":"n_v5jm5",
			"type":"next"
		},
		{
			"fromNodeId":"_nHiIA",
			"priority":0,
			"skip":false,
			"toNodeId":"n_v5jm5",
			"type":"next"
		}
	],
	"id":"68df10f132f8572ada24c781",
	"lastModifiedBy":59995,
	"lcName":" missing next partition",
	"modifiedTime":1759651205589,
	"name":" Missing Next Partition",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":976,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_BzeUm-1",
			"id":"n_aHG9Z",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"additionalProperties":false,
					"properties":{
						"missingPartitions":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"DB_NAME":{
										"type":"string",
										"title":"DB_NAME"
									},
									"TABLE_NAME":{
										"type":"string",
										"title":"TABLE_NAME"
									},
									"PARTITION_NAME":{
										"type":"string",
										"title":"PARTITION_NAME"
									},
									"LATEST_PARTITION_END_DATE":{
										"type":"string",
										"title":"LATEST_PARTITION_END_DATE"
									},
									"DAYS_REMAINING":{
										"type":"integer",
										"title":"DAYS_REMAINING"
									},
									"DATA_SIZE":{
										"type":"string",
										"title":"DATA_SIZE"
									},
									"ROW_COUNT":{
										"type":"integer",
										"title":"ROW_COUNT"
									}
								},
								"additionalProperties":false
							},
							"title":"missingPartitions"
						}
					}
				},
				"setup":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"customerId",
						"rootAutomationId",
						"rootExecutionId",
						"executedAt"
					],
					"properties":{
						"customerId":{
							"type":"string",
							"title":"Customer Id"
						},
						"rootAutomationId":{
							"type":"string",
							"title":"Root Automation Id"
						},
						"rootExecutionId":{
							"type":"string",
							"title":"Root Execution Id"
						},
						"executedAt":{
							"type":"number",
							"title":"Executed At"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":3,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_BzeUm-1",
			"id":"n_96ZBq",
			"index":2,
			"inputs":{
				"automationId":"68b932d26607f33c4d7f0988",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{}
			},
			"options":{
				"bulkheadConfig":{
					"enabled":false,
					"global":false
				},
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":true,
					"timeToLive":"3600",
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"custom_http_endpoint",
				"resourceVersion":871,
				"resourceName":"custom_http_endpoint_execute",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_BzeUm-1",
			"id":"_1fTuQ",
			"index":3,
			"inputs":{
				"isAsync":false,
				"enableProxy":false,
				"requestTimeoutInSecs":-1,
				"httpMethod":"POST",
				"body":{
					"sql":"SELECT DB_NAME, TABLE_NAME, PARTITION_NAME, DATA_SIZE, ROW_COUNT, VISIBLE_VERSION_TIME, PARTITION_VALUE FROM ( SELECT *, ROW_NUMBER() OVER ( PARTITION BY DB_NAME, TABLE_NAME ORDER BY CAST(SUBSTRING(PARTITION_NAME, 2) AS BIGINT) DESC ) as rn FROM information_schema.partitions_meta WHERE PARTITION_NAME IS NOT NULL AND TABLE_NAME NOT LIKE 'ENTITY_%' AND DB_NAME LIKE 'REPORTING_%' AND TABLE_NAME NOT IN ('AUDIT_LOG', 'CONNECTION', 'WORKFLOW_ITERATION_VARIABLE', 'WORKFLOW_VARIABLE')) ranked WHERE rn = 1 ORDER BY DB_NAME, TABLE_NAME;"
				},
				"connectionType":"DIRECT",
				"sslVerify":false,
				"path":"/internal/sql-report/runSQL/query/{{ n_aHG9Z.outputs.customerId }}",
				"responseSchema":{
					"type":"object",
					"additionalProperties":false,
					"properties":{
						"objects":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"DATA_SIZE":{
										"type":"string",
										"title":"DATA SIZE"
									},
									"PARTITION_NAME":{
										"type":"string",
										"title":"PARTITION NAME"
									},
									"TABLE_NAME":{
										"type":"string",
										"title":"TABLE NAME"
									},
									"DB_NAME":{
										"type":"string",
										"title":"DB NAME"
									}
								},
								"additionalProperties":false,
								"required":[
									"DATA_SIZE",
									"PARTITION_NAME",
									"TABLE_NAME",
									"DB_NAME"
								]
							},
							"title":"objects"
						}
					}
				},
				"baseUrl":"{{ n_96ZBq.outputs.baseInternalUrl }}",
				"httpVersion":"HTTP_2",
				"bodySchema":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"sql":{
							"type":"string",
							"title":"Sql"
						}
					}
				},
				"queryParamsList":[
					{
						"key":"sqlResourceType",
						"value":"PLATFORM"
					}
				],
				"responseContentType":"application/json",
				"authType":"CUSTOM",
				"requestContentType":"application/json",
				"ignoreTrailingSlashes":false,
				"certificateType":"CERT_STRING"
			},
			"skip":false,
			"subTitle":"get partitions",
			"title":"Execute REST request",
			"type":"ACTION"
		},
		{
			"additional":{
				"xsdSchemaConfig":{
					"root":{}
				}
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":111,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_BzeUm-1",
			"id":"_Y9MIK",
			"index":4,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"properties":{
						"result":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"DB_NAME":{
										"type":"string",
										"title":"DB_NAME"
									},
									"TABLE_NAME":{
										"type":"string",
										"title":"TABLE_NAME"
									},
									"PARTITION_NAME":{
										"type":"string",
										"title":"PARTITION_NAME"
									},
									"LATEST_PARTITION_END_DATE":{
										"type":"string",
										"title":"LATEST_PARTITION_END_DATE"
									},
									"DAYS_REMAINING":{
										"type":"integer",
										"title":"DAYS_REMAINING"
									},
									"DATA_SIZE":{
										"type":"string",
										"title":"DATA_SIZE"
									},
									"ROW_COUNT":{
										"type":"integer",
										"title":"ROW_COUNT"
									}
								},
								"additionalProperties":false
							},
							"title":"result"
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"partitions"
					],
					"properties":{
						"partitions":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Partitions"
						}
					}
				},
				"code":"import java.time.LocalDateTime\nimport java.time.format.DateTimeFormatter\nimport java.time.temporal.ChronoUnit\n\ndef filterTablesWithInsufficientPartitions(data) {\n    def now = LocalDateTime.now()\n    def oneWeekFromNow = now.plusWeeks(1)\n    \n    def tablesWithInsufficientPartitions = []\n    \n    data.each { partition ->\n        def tableName = partition.TABLE_NAME\n        def dbName = partition.DB_NAME\n        def partitionName = partition.PARTITION_NAME\n        def partitionValue = partition.PARTITION_VALUE\n        \n        try {\n            def endDate = extractEndDateFromPartitionValue(partitionValue)\n            \n            if (endDate && endDate.isBefore(oneWeekFromNow)) {\n                tablesWithInsufficientPartitions << [\n                    DB_NAME: dbName,\n                    TABLE_NAME: tableName,\n                    PARTITION_NAME: partitionName,\n                    LATEST_PARTITION_END_DATE: endDate.toString(),\n                    DAYS_REMAINING: ChronoUnit.DAYS.between(now, endDate),\n                    DATA_SIZE: partition.DATA_SIZE,\n                    ROW_COUNT: partition.ROW_COUNT\n                ]\n            }\n        } catch (Exception e) {\n            println \"Error processing partition ${dbName}.${tableName}.${partitionName}: ${e.message}\"\n        }\n    }\n    \n    return tablesWithInsufficientPartitions\n}\n\ndef extractEndDateFromPartitionValue(partitionValue) {\n    try {\n        def pattern = /.*\\.\\.types:\\s*\\[[^\\]]+\\];\\s*keys:\\s*\\[([^\\]]+)\\]/\n        def matcher = partitionValue =~ pattern\n        \n        if (matcher.find()) {\n            def endValueStr = matcher.group(1).trim()\n            if (endValueStr.matches(/^\\d+$/)) {\n                def timestamp = Long.parseLong(endValueStr)\n                if (timestamp > 1000000000000L) {\n                    def instant = java.time.Instant.ofEpochMilli(timestamp)\n                    return LocalDateTime.ofInstant(instant, java.time.ZoneId.systemDefault())\n                } else {\n                    def instant = java.time.Instant.ofEpochSecond(timestamp)\n                    return LocalDateTime.ofInstant(instant, java.time.ZoneId.systemDefault())\n                }\n            } else {\n                def formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\")\n                return LocalDateTime.parse(endValueStr, formatter)\n            }\n        }\n        return extractDateFromPartitionName(partitionName)\n        \n    } catch (Exception e) {\n        return null\n    }\n}\n\ndef extractDateFromPartitionName(partitionName) {\n    try {\n        if (partitionName.startsWith('p') && partitionName.length() == 9) {\n            def dateStr = partitionName.substring(1)\n            def year = dateStr.substring(0, 4) as int\n            def month = dateStr.substring(4, 6) as int\n            def day = dateStr.substring(6, 8) as int\n            return LocalDateTime.of(year, month, day, 0, 0, 0).plusDays(1)\n        } else if (partitionName.startsWith('p') && partitionName.length() > 10) {\n            def timestamp = Long.parseLong(partitionName.substring(1))\n            def instant = java.time.Instant.ofEpochMilli(timestamp)\n            return LocalDateTime.ofInstant(instant, java.time.ZoneId.systemDefault())\n        }\n    } catch (Exception e) {\n        \n    }\n    return null\n}\n\ndef result = []\nif (binding.hasVariable(\"partitions\") && partitions)\n    result = filterTablesWithInsufficientPartitions(partitions)\n\nreturn [\"result\": result]\n\n\n",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"partitions":{
						"ua:type":"mappedArray",
						"source":"{{ _1fTuQ.outputs.result.objects }}",
						"items":"{{ _1fTuQ.outputs.result.objects[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Filter partitions",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"xsdSchemaConfig":{
					"root":{}
				}
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":0,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_BzeUm-1",
			"id":"_3dH62",
			"index":5,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"message",
						"inputs",
						"outputs"
					],
					"properties":{
						"message":{
							"type":"string",
							"title":"Message"
						},
						"inputs":{
							"type":"object",
							"properties":{
								"totalPartitionsMissing":{
									"type":"integer",
									"title":"Total Partitions Missing"
								}
							},
							"additionalProperties":false,
							"title":"Inputs",
							"required":[
								"totalPartitionsMissing"
							]
						},
						"outputs":{
							"type":"object",
							"properties":{
								"missingNextPartitions":{
									"type":"array",
									"items":{
										"type":"object",
										"properties":{},
										"additionalProperties":false
									},
									"title":"Missing Next Partitions"
								}
							},
							"additionalProperties":false,
							"title":"Outputs",
							"required":[
								"missingNextPartitions"
							]
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[
						"missingNextPartitions"
					],
					"properties":{
						"missingNextPartitions":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{
									"dbName":{
										"type":"string",
										"title":"Db Name"
									},
									"tableName":{
										"type":"string",
										"title":"Table Name"
									},
									"LATEST_PARTITION_END_DATE":{
										"type":"string",
										"title":"LATEST PARTITION END DATE"
									},
									"PARTITION_NAME":{
										"type":"string",
										"title":"PARTITION NAME"
									},
									"DAYS_REMAINING":{
										"type":"integer",
										"title":"DAYS REMAINING"
									},
									"DATA_SIZE":{
										"type":"string",
										"title":"DATA SIZE"
									},
									"ROW_COUNT":{
										"type":"integer",
										"title":"ROW COUNT"
									}
								},
								"additionalProperties":false,
								"required":[
									"dbName",
									"tableName",
									"LATEST_PARTITION_END_DATE",
									"PARTITION_NAME",
									"DAYS_REMAINING",
									"DATA_SIZE",
									"ROW_COUNT"
								]
							},
							"title":"Missing Next Partitions"
						}
					}
				},
				"code":"if (!(binding.hasVariable(\"missingNextPartitions\") && missingNextPartitions)) {\n  return [message: \"\", inputs: [totalPartitionsMissing: 0], outputs: [missingNextPartitions: []]]\n}\ndef messages = []\n\nif (missingNextPartitions.size() > 0) {\n  for (item in missingNextPartitions) {\n    def storageMessage = [\"[ \"]\n    for (partitions in item.partitions) {\n      storageMessage << \" [ PartitionName = \" + partitions.PARTITION_NAME + \", PartitionLatestEndDate = \" + partitions.LATEST_PARTITION_END_DATE + \", PartitionDaysRemaining = \" + partitions.DAYS_REMAINING + \" ] , \"\n    }\n    storageMessage << \" ]\"\n    storageMessage = storageMessage.join()\n    messages << \"• Database = \" + item.DB_NAME + \", tableName =  \" + item.TABLE_NAME + \", PartitionName = \" + item.PARTITION_NAME + \", PartitionLatestEndDate = \" + item.LATEST_PARTITION_END_DATE + \", PartitionDaysRemaining = \" + item.DAYS_REMAINING + \"\\n\"\n  }\n}\nreturn [outputs: [missingNextPartitions: missingNextPartitions], inputs: [\"totalPartitionsMissing\": missingNextPartitions.size()], message: messages.join()]",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"missingNextPartitions":{
						"ua:type":"mappedArray",
						"items":{
							"dbName":"{{ _Y9MIK.outputs.result.result[0].DB_NAME }}",
							"tableName":"{{ _Y9MIK.outputs.result.result[0].TABLE_NAME }}",
							"LATEST_PARTITION_END_DATE":"{{ _Y9MIK.outputs.result.result[0].LATEST_PARTITION_END_DATE }}",
							"PARTITION_NAME":"{{ _Y9MIK.outputs.result.result[0].PARTITION_NAME }}",
							"DAYS_REMAINING":"{{ _Y9MIK.outputs.result.result[0].DAYS_REMAINING }}",
							"DATA_SIZE":"{{ _Y9MIK.outputs.result.result[0].DATA_SIZE }}",
							"ROW_COUNT":"{{ _Y9MIK.outputs.result.result[0].ROW_COUNT }}"
						},
						"source":"{{ _Y9MIK.outputs.result.result }}"
					}
				}
			},
			"skip":false,
			"subTitle":" Missing next partition output",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":767,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_BzeUm-1",
			"id":"_wcAiW",
			"index":6,
			"inputs":{
				"filters":[
					{
						"property":"=LEN({{ _3dH62.outputs.result.outputs.missingNextPartitions }})",
						"filter":{
							"operator":"GT",
							"value":"0"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.record.steps.inputs",
					"root.record.steps.outputs"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":3226,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_wcAiW@_BzeUm-1@y",
			"id":"_7hrr3",
			"index":7,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"infra_alert_steps",
				"skipIfBlank":false,
				"record":{
					"alertType":"starrocks_table_health",
					"rootAutomationId":"{{ n_aHG9Z.outputs.rootAutomationId }}",
					"rootExecutionId":"{{ n_aHG9Z.outputs.rootExecutionId }}",
					"executedAt":"{{ n_aHG9Z.outputs.executedAt }}",
					"alertCategory":"starrocks",
					"alertSubType":"routine_load_missing_next_partition",
					"stepsOrder":8,
					"summary":"Check whether a routine load has it's next partition setup",
					"steps":{
						"inputs":"{{ _3dH62.outputs.result.inputs }}",
						"outputs":"{{ _3dH62.outputs.result.outputs }}"
					},
					"status":"CRITICAL",
					"stepDescription":"Check whether a routine load has it's next partition setup",
					"resolved":false
				}
			},
			"skip":false,
			"subTitle":"Create Alert Step",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":3,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_wcAiW@_BzeUm-1@y",
			"id":"_TNCsd",
			"index":8,
			"inputs":{
				"automationId":"68721bd4feea003f6a9cb688",
				"runtimeConnections":{},
				"synchronous":false,
				"version":"-1",
				"parameters":{
					"env":"{{ n_96ZBq.outputs.env }}",
					"alertCategory":"starrocks",
					"alertType":"starrocks_table_health",
					"alertTitle":"🚨 Missing Current Partitions for Routine Loads",
					"alertDescription":"For customer {{ n_aHG9Z.outputs.customerId }}, the following routine loads are missing their next partition:\n{{ _3dH62.outputs.result.message }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"additional":{
				"visibleOptionalFields":[
					"root.record.steps.inputs",
					"root.record.steps.outputs"
				]
			},
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":3226,
				"resourceName":"storage_by_unifyapps_create_record",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_wcAiW@_BzeUm-1@n",
			"id":"_7DI3g",
			"index":9,
			"inputs":{
				"writeThroughSessionVariables":false,
				"object_type":"infra_alert_steps",
				"skipIfBlank":false,
				"record":{
					"alertType":"starrocks_table_health",
					"rootAutomationId":"{{ n_aHG9Z.outputs.rootAutomationId }}",
					"rootExecutionId":"{{ n_aHG9Z.outputs.rootExecutionId }}",
					"executedAt":"{{ n_aHG9Z.outputs.executedAt }}",
					"alertCategory":"starrocks",
					"alertSubType":"routine_load_missing_next_partition",
					"stepsOrder":8,
					"summary":"Check whether a routine load has it's next partition setup",
					"steps":{
						"inputs":"{{ _3dH62.outputs.result.inputs }}",
						"outputs":"{{ _3dH62.outputs.result.outputs }}"
					},
					"status":"OK",
					"stepDescription":"Check whether a routine load has it's next partition setup",
					"resolved":true
				}
			},
			"skip":false,
			"subTitle":"Create Alert Step",
			"title":"Create record",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":3,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_wcAiW@_BzeUm-1@n",
			"id":"_nHiIA",
			"index":10,
			"inputs":{
				"automationId":"68721bd4feea003f6a9cb688",
				"runtimeConnections":{},
				"synchronous":false,
				"version":"-1",
				"parameters":{
					"env":"{{ n_96ZBq.outputs.env }}",
					"alertCategory":"starrocks",
					"alertType":"starrocks_table_health",
					"alertTitle":"🚨 Missing Current Partitions for Routine Loads",
					"alertDescription":"For customer {{ n_aHG9Z.outputs.customerId }}, the following routine loads are missing their next partition:\n{{ _3dH62.outputs.result.message }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":1001,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":true,
			"fallbackMode":"STOP",
			"groupId":"_BzeUm-1",
			"id":"n_v5jm5",
			"index":11,
			"inputs":{
				"result":{
					"missingPartitions":{
						"source":"{{ _Y9MIK.outputs.result.result }}",
						"ua:type":"mappedArray",
						"items":{
							"DB_NAME":"{{ _Y9MIK.outputs.result.result[0].DB_NAME }}",
							"TABLE_NAME":"{{ _Y9MIK.outputs.result.result[0].TABLE_NAME }}",
							"PARTITION_NAME":"{{ _Y9MIK.outputs.result.result[0].PARTITION_NAME }}",
							"LATEST_PARTITION_END_DATE":"{{ _Y9MIK.outputs.result.result[0].LATEST_PARTITION_END_DATE }}",
							"DAYS_REMAINING":"{{ _Y9MIK.outputs.result.result[0].DAYS_REMAINING }}",
							"DATA_SIZE":"{{ _Y9MIK.outputs.result.result[0].DATA_SIZE }}",
							"ROW_COUNT":"{{ _Y9MIK.outputs.result.result[0].ROW_COUNT }}"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":59995,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":false,
	"tags":[
		
	],
	"version":4
}
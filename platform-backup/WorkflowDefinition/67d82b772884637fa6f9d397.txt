{
	"appsUsed":[
		"servicenow"
	],
	"createdTime":1742293154024,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1759243552311,
		"deployedBy":-1,
		"deployedDefinitionId":"68dbed2023e6682b9a51eb30",
		"status":"DEPLOYED",
		"version":46,
		"workflowVersion":79
	},
	"edges":[
		{
			"fromNodeId":"39uEb",
			"priority":0,
			"skip":false,
			"toNodeId":"1WPP3",
			"type":"next"
		},
		{
			"fromNodeId":"1WPP3",
			"priority":0,
			"skip":false,
			"toNodeId":"JYlQn",
			"type":"next"
		},
		{
			"fromNodeId":"JYlQn",
			"priority":0,
			"skip":false,
			"toNodeId":"TDQKf",
			"type":"next"
		},
		{
			"fromNodeId":"TDQKf",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"PV1C4",
			"type":"if"
		},
		{
			"fromNodeId":"PV1C4",
			"priority":0,
			"skip":false,
			"toNodeId":"4eypG",
			"type":"next"
		},
		{
			"fromNodeId":"4eypG",
			"priority":0,
			"skip":false,
			"toNodeId":"AY0md",
			"type":"loop"
		},
		{
			"fromNodeId":"AY0md",
			"name":"error",
			"priority":0,
			"skip":false,
			"toNodeId":"Wt3g2",
			"type":"error"
		},
		{
			"fromNodeId":"AY0md",
			"priority":0,
			"skip":false,
			"toNodeId":"mCZ26",
			"type":"next"
		},
		{
			"fromNodeId":"Wt3g2",
			"priority":0,
			"skip":false,
			"toNodeId":"mCZ26",
			"type":"next"
		},
		{
			"fromNodeId":"WBuHt",
			"priority":0,
			"skip":false,
			"toNodeId":"mCZ26",
			"type":"next"
		},
		{
			"fromNodeId":"mCZ26",
			"priority":0,
			"skip":false,
			"toNodeId":"FeBPL",
			"type":"loop"
		},
		{
			"fromNodeId":"FeBPL",
			"priority":0,
			"skip":false,
			"toNodeId":"qT7sb",
			"type":"next"
		},
		{
			"fromNodeId":"qT7sb",
			"priority":0,
			"skip":false,
			"toNodeId":"7iars",
			"type":"next"
		},
		{
			"fromNodeId":"7iars",
			"priority":0,
			"skip":false,
			"toNodeId":"yBZqs",
			"type":"next"
		},
		{
			"fromNodeId":"yBZqs",
			"priority":0,
			"skip":false,
			"toNodeId":"j9hvq",
			"type":"next"
		},
		{
			"fromNodeId":"j9hvq",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"gsdr0",
			"type":"next"
		},
		{
			"fromNodeId":"j9hvq",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"xoEQm",
			"type":"if"
		},
		{
			"fromNodeId":"gsdr0",
			"priority":0,
			"skip":false,
			"toNodeId":"xoEQm",
			"type":"next"
		},
		{
			"fromNodeId":"xoEQm",
			"name":"success",
			"priority":0,
			"skip":false,
			"toNodeId":"bLXsJ",
			"type":"next"
		},
		{
			"fromNodeId":"bLXsJ",
			"priority":0,
			"skip":false,
			"toNodeId":"VvSVN",
			"type":"next"
		},
		{
			"fromNodeId":"VvSVN",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"lUMvK",
			"type":"if"
		},
		{
			"fromNodeId":"lUMvK",
			"priority":0,
			"skip":false,
			"toNodeId":"RmwZL",
			"type":"next"
		},
		{
			"fromNodeId":"VvSVN",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"RmwZL",
			"type":"next"
		},
		{
			"fromNodeId":"xoEQm",
			"name":"error",
			"priority":0,
			"skip":false,
			"toNodeId":"RmwZL",
			"type":"error"
		},
		{
			"fromNodeId":"RmwZL",
			"priority":0,
			"skip":false,
			"toNodeId":"WBuHt",
			"type":"next"
		},
		{
			"fromNodeId":"WBuHt",
			"priority":0,
			"skip":false,
			"toNodeId":"Vfyvv",
			"type":"loop"
		},
		{
			"fromNodeId":"Vfyvv",
			"priority":0,
			"skip":false,
			"toNodeId":"OzCYx",
			"type":"next"
		},
		{
			"fromNodeId":"OzCYx",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"WBuHt",
			"type":"next"
		},
		{
			"fromNodeId":"mCZ26",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"4eypG",
			"type":"next"
		},
		{
			"fromNodeId":"TDQKf",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"2uCNz",
			"type":"next"
		},
		{
			"fromNodeId":"2uCNz",
			"priority":0,
			"skip":false,
			"toNodeId":"id2xY",
			"type":"loop"
		},
		{
			"fromNodeId":"id2xY",
			"priority":0,
			"skip":false,
			"toNodeId":"Y7yc7",
			"type":"next"
		},
		{
			"fromNodeId":"Y7yc7",
			"priority":0,
			"skip":false,
			"toNodeId":"DH2M5",
			"type":"loop"
		},
		{
			"fromNodeId":"DH2M5",
			"priority":0,
			"skip":false,
			"toNodeId":"9CpZa",
			"type":"next"
		},
		{
			"fromNodeId":"9CpZa",
			"priority":0,
			"skip":false,
			"toNodeId":"P0aYt",
			"type":"next"
		},
		{
			"fromNodeId":"P0aYt",
			"priority":0,
			"skip":false,
			"toNodeId":"MaxtI",
			"type":"next"
		},
		{
			"fromNodeId":"MaxtI",
			"priority":0,
			"skip":false,
			"toNodeId":"LwIgW",
			"type":"next"
		},
		{
			"fromNodeId":"LwIgW",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"bWvt3",
			"type":"next"
		},
		{
			"fromNodeId":"LwIgW",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"oYTWE",
			"type":"if"
		},
		{
			"fromNodeId":"bWvt3",
			"priority":0,
			"skip":false,
			"toNodeId":"oYTWE",
			"type":"next"
		},
		{
			"fromNodeId":"oYTWE",
			"name":"success",
			"priority":0,
			"skip":false,
			"toNodeId":"XmpcK",
			"type":"next"
		},
		{
			"fromNodeId":"XmpcK",
			"priority":0,
			"skip":false,
			"toNodeId":"FiYyu",
			"type":"next"
		},
		{
			"fromNodeId":"FiYyu",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"uLSwf",
			"type":"if"
		},
		{
			"fromNodeId":"uLSwf",
			"priority":0,
			"skip":false,
			"toNodeId":"qhEL0",
			"type":"next"
		},
		{
			"fromNodeId":"FiYyu",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"qhEL0",
			"type":"next"
		},
		{
			"fromNodeId":"oYTWE",
			"name":"error",
			"priority":0,
			"skip":false,
			"toNodeId":"qhEL0",
			"type":"error"
		},
		{
			"fromNodeId":"qhEL0",
			"priority":0,
			"skip":false,
			"toNodeId":"EsXP6",
			"type":"next"
		},
		{
			"fromNodeId":"EsXP6",
			"priority":0,
			"skip":false,
			"toNodeId":"FmThL",
			"type":"loop"
		},
		{
			"fromNodeId":"FmThL",
			"priority":0,
			"skip":false,
			"toNodeId":"OTR9S",
			"type":"next"
		},
		{
			"fromNodeId":"OTR9S",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"EsXP6",
			"type":"next"
		},
		{
			"fromNodeId":"EsXP6",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"Y7yc7",
			"type":"next"
		},
		{
			"fromNodeId":"Y7yc7",
			"name":"loopback",
			"priority":0,
			"skip":false,
			"toNodeId":"2uCNz",
			"type":"next"
		},
		{
			"fromNodeId":"4eypG",
			"priority":0,
			"skip":false,
			"toNodeId":"I5XNx",
			"type":"next"
		},
		{
			"fromNodeId":"2uCNz",
			"priority":0,
			"skip":false,
			"toNodeId":"I5XNx",
			"type":"next"
		},
		{
			"fromNodeId":"I5XNx",
			"priority":0,
			"skip":false,
			"toNodeId":"vicH0",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"67d82b772884637fa6f9d397",
	"lastModifiedBy":-1,
	"lcName":"knowledge indexer | servicenow | get records",
	"modifiedTime":1759371874225,
	"name":"Knowledge Indexer | ServiceNow | Get records",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":139,
				"resourceName":"callables_from_interface"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"FwRqR-1",
			"id":"39uEb",
			"index":0,
			"inputs":{
				"result":{
					"additionalProperties":false,
					"ua:modal":{
						"field_type":"STRING",
						"is_optional":true
					},
					"type":"object",
					"properties":{
						"cursorObject":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"cursorObject"
						},
						"success":{
							"type":"boolean",
							"title":"Success"
						},
						"lastSyncTime":{
							"type":"string",
							"title":"Last Sync Time"
						}
					},
					"required":[]
				},
				"callableInterfaceId":"674855d2634d220ea5dd2d71",
				"setup":{
					"additionalProperties":false,
					"ua:modal":{
						"field_type":"STRING",
						"is_optional":true
					},
					"type":"object",
					"properties":{
						"knowledgeId":{
							"type":"string",
							"title":"knowledgeId"
						},
						"aiAgentId":{
							"type":"string",
							"title":"aiAgentId"
						},
						"knowledge":{
							"type":"object",
							"properties":{
								"readVersion":{
									"type":"integer",
									"title":"readVersion"
								},
								"lastSyncTime":{
									"type":"integer",
									"title":"lastSyncTime"
								},
								"cursorObject":{
									"type":"object",
									"title":"cursorObject"
								},
								"applicationInfo":{
									"type":"object",
									"properties":{
										"context":{
											"type":"object",
											"properties":{
												"connectionId":{
													"type":"string",
													"title":"Connection Id"
												}
											},
											"additionalProperties":false,
											"title":"Context",
											"required":[]
										}
									},
									"additionalProperties":false,
									"title":"Application Info",
									"required":[]
								}
							},
							"title":"knowledge",
							"additionalProperties":false,
							"required":[]
						},
						"inputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Inputs"
						}
					},
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger interface",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"additional":{
				"xsdSchemaConfig":{}
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":68,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"FwRqR-1",
			"id":"1WPP3",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"objectId":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Object Id"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"inputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Inputs",
							"required":[]
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"def toReturn = [:]\n\nif (binding.hasVariable('inputs') && inputs?.objectId && inputs?.objectId.size()>0)\n{\n    toReturn[\"objectId\"] = inputs?.objectId\n}\n\nreturn toReturn\n",
				"parameters":{
					"inputs":"{{ 39uEb.outputs.inputs }}"
				}
			},
			"skip":false,
			"subTitle":"Extract inputs",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":65,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"FwRqR-1",
			"id":"JYlQn",
			"index":0,
			"inputs":{
				"automationId":"67dcffd08445037d9b0667e9",
				"runtimeConnections":{
					"servicenow":"{{ 39uEb.outputs.knowledge.applicationInfo.context.connectionId }}"
				},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"tableName":"{{ Y7yc7.outputs.item }}",
					"userEmailAddress":"{{ __USER__.outputs.contactDetails.email }}"
				}
			},
			"skip":false,
			"subTitle":"get user sharedIDs",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":140,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"FwRqR-1",
			"id":"TDQKf",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ 1WPP3.outputs.result.objectId }}",
						"filter":{
							"operator":"MISSING"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"servicenow",
				"resourceVersion":2,
				"connectionId":"67d90c05c16d90524f544628",
				"resourceName":"servicenow_list_tables",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"TDQKf@FwRqR-1@y",
			"id":"PV1C4",
			"index":0,
			"inputs":{
				"sysparm_limit":100000
			},
			"skip":false,
			"subTitle":"ServiceNow",
			"title":"List tables",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":145,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"TDQKf@FwRqR-1@y",
			"id":"4eypG",
			"index":0,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ PV1C4.outputs.result }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"servicenow",
				"resourceVersion":840,
				"connectionId":"67d90c05c16d90524f544628",
				"resourceName":"servicenow_search_records_using_query",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"MANUAL",
			"groupId":"4eypG@TDQKf@FwRqR-1@y@l",
			"id":"AY0md",
			"index":0,
			"inputs":{
				"objectSourceResourceName":"servicenow_fetch_object",
				"objectId":"{{ 4eypG.outputs.item.name }}",
				"result_size":50000
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"MANUAL",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"ServiceNow",
			"title":"Search records using query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"continue",
				"resourceVersion":382,
				"resourceName":"continue",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"AY0md@4eypG@TDQKf@FwRqR-1@y@l@error",
			"id":"Wt3g2",
			"index":0,
			"inputs":{
				"loop":"4eypG"
			},
			"skip":false,
			"subTitle":"Continue",
			"title":"Continue",
			"type":"CONTINUE"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":144,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"4eypG@TDQKf@FwRqR-1@y@l",
			"id":"mCZ26",
			"index":0,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ AY0md.outputs.result }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"additional":{
				"xsdSchemaConfig":{}
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":58,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mCZ26@4eypG@TDQKf@FwRqR-1@y@l@l",
			"id":"FeBPL",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"data":{
							"type":"string",
							"title":"Data"
						}
					},
					"additionalProperties":false,
					"required":[
						"data"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"items":{
							"type":"string",
							"title":"Items"
						}
					},
					"additionalProperties":false,
					"required":[
						"items"
					]
				},
				"compile_static":false,
				"code":"def convertToString(data, indent=\" \") {\n    if (data instanceof Map) {\n        if(data==[:]){\n            return \"not given, \"\n        }\n        return data.findAll { key, value -> value != null || value != \"\" }\n               .collect { key, value -> \"${indent}${key} is ${convertToString(value, indent)}\" }\n               .join(\", \")\n    } else if (data instanceof List) {\n        if(data.size()==0){\n            return \"not given, \"\n        }\n        return data.collect { item -> convertToString(item, indent) }.join(\", \")\n    } else {\n        return data?.toString() ?: \"not given, \"\n    }\n}\ndef data = binding.hasVariable(\"items\") ? convertToString(items) : null\n\nreturn [\"data\":data]",
				"parameters":{
					"items":"{{ mCZ26.outputs.item }}"
				}
			},
			"skip":false,
			"subTitle":"index data",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":58,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mCZ26@4eypG@TDQKf@FwRqR-1@y@l@l",
			"id":"qT7sb",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"chunkMetadata":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Chunk Metadata"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"data":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Data"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"import java.text.SimpleDateFormat\nimport java.util.Date\ndef chunkMetadata = [:]\ndef SERVICENOW_DATE_FORMAT = \"yyyy-MM-dd HH:mm:ss\"\n\nstatic long getTimestampMillis(String timestamp, String dateFormat) {\n    def timestampMillis = 0\n    if (timestamp != null) {\n        def format = new SimpleDateFormat(dateFormat)\n        format.setLenient(false)\n        def date = format.parse(timestamp)\n        return date.getTime()\n    }\n    return 0\n}\n\nif(binding.hasVariable(\"data\") && data.sys_updated_on)\n{\n    lastModified=data.sys_updated_on\n    modifiedTime = lastModified?getTimestampMillis(lastModified, SERVICENOW_DATE_FORMAT) : null\n    chunkMetadata << [\"modifiedTime\":modifiedTime]\n}\nif(binding.hasVariable(\"data\") && data.sys_created_on)\n{\n    createdOn=data.sys_created_on\n    createdTime = createdOn?getTimestampMillis(createdOn, SERVICENOW_DATE_FORMAT) : null\n    chunkMetadata << [\"createdTime\":createdTime]\n}\nif(binding.hasVariable(\"data\") && data.sys_updated_by)\n{\n    chunkMetadata << [\"modifiedBy\":data.sys_updated_by]\n}\nif(binding.hasVariable(\"data\") && data.sys_created_by)\n{\n    chunkMetadata << [\"createdBy\":data.sys_created_by]\n}\nif(binding.hasVariable(\"data\") && data.sys_id)\n{\n    chunkMetadata << [\"uniqueEntityId\":data.sys_id]\n}\nchunkMetadata << [\"appName\": \"servicenow\"]\nreturn [\"chunkMetadata\": chunkMetadata]",
				"parameters":{
					"data":"{{ mCZ26.outputs.item }}"
				}
			},
			"skip":false,
			"subTitle":"chunk metadata",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":143,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mCZ26@4eypG@TDQKf@FwRqR-1@y@l@l",
			"id":"7iars",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"uniqueEntityId":{
							"type":"string",
							"title":"Unique Entity Id"
						},
						"name":{
							"type":"string",
							"title":"Name"
						},
						"appName":{
							"type":"string",
							"title":"App Name"
						},
						"createdTime":{
							"type":"string",
							"title":"Created Time"
						},
						"createdBy":{
							"type":"string",
							"title":"Created By"
						},
						"modifiedTime":{
							"type":"string",
							"title":"Modified Time"
						},
						"modifiedBy":{
							"type":"string",
							"title":"Modified By"
						}
					},
					"additionalProperties":false,
					"required":[
						"modifiedBy"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"chunkMetadata":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Chunk Metadata"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"if(!binding.hasVariable('chunkMetadata')){\n  return [:]\n}\nreturn chunkMetadata;",
				"parameters":{
					"chunkMetadata":"{{ qT7sb.outputs.result.chunkMetadata }}"
				}
			},
			"skip":false,
			"subTitle":"Extract variables",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"xsdSchemaConfig":{}
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":87,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mCZ26@4eypG@TDQKf@FwRqR-1@y@l@l",
			"id":"yBZqs",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"allowed":{
							"type":"boolean",
							"title":"Allowed"
						},
						"modifiedTime":{
							"type":"string",
							"title":"Modified Time"
						}
					},
					"additionalProperties":false,
					"required":[
						"allowed",
						"modifiedTime"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"lastSyncTime":{
							"type":"string",
							"title":"Last Sync Time"
						},
						"lastModified":{
							"type":"string",
							"title":"Last Modified"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"import java.text.SimpleDateFormat\nimport java.util.Date\ndef SERVICENOW_DATE_FORMAT = \"yyyy-MM-dd HH:mm:ss\"\ndef UNIFY_DATE_FORMAT = \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\"\n\ndef allowed = true\ndef modifiedTime\nif (binding.hasVariable('lastSyncTime')) {\n  modifiedTime = lastModified\n  allowed = allowed && (lastSyncTime < modifiedTime) \n}\n\nreturn ['allowed':allowed,'modifiedTime':modifiedTime]\n\n\nstatic long getTimestampMillis(String timestamp, String dateFormat) {\n    def timestampMillis = 0\n    if(timestamp != null) {\n        def format = new SimpleDateFormat(dateFormat)\n        def date = format.parse(timestamp)\n        timestampMillis = date.getTime()\n    }\n    return timestampMillis\n}\n",
				"parameters":{
					"lastSyncTime":"{{ 39uEb.outputs.knowledge.lastSyncTime }}",
					"lastModified":"{{ 7iars.outputs.result.modifiedTime }}"
				}
			},
			"skip":false,
			"subTitle":"lastSyncTime check",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":141,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mCZ26@4eypG@TDQKf@FwRqR-1@y@l@l",
			"id":"j9hvq",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ yBZqs.outputs.result.allowed }}",
						"filter":{
							"operator":"EQUAL",
							"value":"false"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"continue",
				"resourceVersion":141,
				"resourceName":"continue",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"j9hvq@mCZ26@4eypG@TDQKf@FwRqR-1@y@l@l@n",
			"id":"gsdr0",
			"index":0,
			"inputs":{
				"loop":"mCZ26",
				"conditions":{
					"filters":[
						{
							"property":"{{ yBZqs.outputs.result.allowed }}",
							"filter":{
								"operator":"EQUAL",
								"value":"false"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"subTitle":"Continue",
			"title":"Continue",
			"type":"CONTINUE"
		},
		{
			"context":{
				"appName":"servicenow",
				"resourceVersion":843,
				"connectionId":"67d90c05c16d90524f544628",
				"resourceName":"servicenow_fetch_attachments",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"MANUAL",
			"groupId":"mCZ26@4eypG@TDQKf@FwRqR-1@y@l@l",
			"id":"xoEQm",
			"index":0,
			"inputs":{
				"recordId":"{{ 7iars.outputs.result.uniqueEntityId }}",
				"tableName":"{{ 4eypG.outputs.item.name }}"
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"MANUAL",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"ServiceNow",
			"title":"Fetch attachments",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":397,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"xoEQm@mCZ26@4eypG@TDQKf@FwRqR-1@y@l@l@success",
			"id":"bLXsJ",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"inputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Inputs"
						},
						"allowed":{
							"type":"boolean",
							"title":"Allowed"
						}
					},
					"additionalProperties":false,
					"required":[
						"inputs"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"attachments":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Attachments"
						},
						"chunkMetadata":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Chunk Metadata"
						},
						"sharedWithIds":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Shared With Ids"
						},
						"createdTime":{
							"type":"string",
							"title":"Created Time"
						},
						"createdBy":{
							"type":"string",
							"title":"Created By"
						},
						"recordId":{
							"type":"string",
							"title":"Record Id"
						}
					},
					"additionalProperties":false,
					"required":[
						"attachments",
						"chunkMetadata",
						"sharedWithIds",
						"recordId"
					]
				},
				"compile_static":false,
				"code":"def toReturn = [:]\ndef allowed=false\n\nif(binding.hasVariable('attachments') && !attachments?.isEmpty()){\n  allowed=true\n  toReturn.put(\"attachments\", attachments)\n}\nif(binding.hasVariable('sharedWithIds')){\n  toReturn.put(\"sharedWithIds\", sharedWithIds)\n}\nif(binding.hasVariable('recordId')){\n  toReturn.put(\"recordId\", recordId)\n}\nif(binding.hasVariable('chunkMetadata')){\n  toReturn.put(\"chunkMetadata\", chunkMetadata)\n}\nif(binding.hasVariable('createdTime')){\n  toReturn.put(\"createdTime\", createdTime)\n}\nif(binding.hasVariable('createdBy')){\n  toReturn.put(\"createdBy\", createdBy)\n}\nreturn [\"inputs\":toReturn,\"allowed\":allowed]",
				"parameters":{
					"attachments":{
						"ua:type":"mappedArray",
						"source":"{{ xoEQm.outputs.result }}",
						"items":"{{ xoEQm.outputs.result[0] }}"
					},
					"chunkMetadata":"{{ qT7sb.outputs.result.chunkMetadata }}",
					"sharedWithIds":{
						"ua:type":"mappedArray",
						"source":"{{ JYlQn.outputs.sharedWithIds }}",
						"items":"{{ JYlQn.outputs.sharedWithIds[0] }}"
					},
					"createdBy":"{{ xoEQm.outputs.result[0].created_by_name }}",
					"createdTime":"{{ xoEQm.outputs.result[0].sys_created_on }}",
					"recordId":"{{ 7iars.outputs.result.uniqueEntityId }}"
				}
			},
			"skip":false,
			"subTitle":"Creating Inputs for index attachments",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":392,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"xoEQm@mCZ26@4eypG@TDQKf@FwRqR-1@y@l@l@success",
			"id":"VvSVN",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ bLXsJ.outputs.result.allowed }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":151,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"CONTINUE",
			"groupId":"VvSVN@xoEQm@mCZ26@4eypG@TDQKf@FwRqR-1@y@l@l@success@y",
			"id":"lUMvK",
			"index":0,
			"inputs":{
				"automationId":"67d93bbed9a9f13897d1f5ee",
				"runtimeConnections":{
					"servicenow":"{{ 39uEb.outputs.knowledge.applicationInfo.context.connectionId }}"
				},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"knowledgeId":"{{ 39uEb.outputs.knowledgeId }}",
					"aiAgentId":"{{ 39uEb.outputs.aiAgentId }}",
					"knowledge":{
						"readVersion":"{{ 39uEb.outputs.knowledge.readVersion }}",
						"lastSyncTime":"{{ 39uEb.outputs.knowledge.lastSyncTime }}",
						"applicationInfo":{
							"context":{
								"connectionId":"{{ 39uEb.outputs.knowledge.applicationInfo.context.connectionId }}"
							}
						}
					},
					"inputs":"{{ bLXsJ.outputs.result.inputs }}"
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"CONTINUE",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":198,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mCZ26@4eypG@TDQKf@FwRqR-1@y@l@l",
			"id":"RmwZL",
			"index":0,
			"inputs":{
				"automationId":"67091f09c6db330cf5b08ead",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"knowledgeId":"{{ 39uEb.outputs.knowledgeId }}",
					"text":"{{ FeBPL.outputs.result.data }}"
				}
			},
			"skip":false,
			"subTitle":"TextChunker",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":302,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"mCZ26@4eypG@TDQKf@FwRqR-1@y@l@l",
			"id":"WBuHt",
			"index":0,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ RmwZL.outputs.chunks }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"additional":{
				"xsdSchemaConfig":{}
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":203,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"WBuHt@mCZ26@4eypG@TDQKf@FwRqR-1@y@l@l@l",
			"id":"Vfyvv",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"chunkMetadata":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Chunk Metadata"
						}
					},
					"additionalProperties":false,
					"required":[
						"chunkMetadata"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"chunkMetadata":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Chunk Metadata"
						}
					},
					"additionalProperties":false,
					"required":[
						"chunkMetadata"
					]
				},
				"compile_static":false,
				"code":"def uuid=UUID.randomUUID().toString()\nchunkMetadata << [\"chunkUUID\":uuid]\nreturn[\n  'chunkMetadata' : chunkMetadata,\n]",
				"parameters":{
					"chunkMetadata":"{{ qT7sb.outputs.result.chunkMetadata }}"
				}
			},
			"skip":false,
			"subTitle":"Extracting Information ",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":230,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"WBuHt@mCZ26@4eypG@TDQKf@FwRqR-1@y@l@l@l",
			"id":"OzCYx",
			"index":0,
			"inputs":{
				"automationId":"66af3ff4cd79b321cb478a37",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"chunks":{
						"ua:type":"mappedArray",
						"items":{
							"sharedWithIds":{
								"ua:type":"mappedArray",
								"source":"{{ JYlQn.outputs.sharedWithIds }}",
								"items":"{{ JYlQn.outputs.sharedWithIds[0] }}"
							},
							"data":"{{ WBuHt.outputs.item }}",
							"chunkMetadata":"{{ Vfyvv.outputs.result.chunkMetadata }}"
						}
					},
					"chunkMetadata":"{{ Vfyvv.outputs.result.chunkMetadata }}",
					"knowledgeId":"{{ 39uEb.outputs.knowledgeId }}",
					"knowledgeVersion":"{{ 39uEb.outputs.knowledge.readVersion }}",
					"uniqueEntityId":"{{ 7iars.outputs.result.uniqueEntityId }}"
				}
			},
			"skip":false,
			"subTitle":"Knowledge Indexer",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":144,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"TDQKf@FwRqR-1@n",
			"id":"2uCNz",
			"index":0,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ 1WPP3.outputs.result.objectId }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"context":{
				"appName":"servicenow",
				"resourceVersion":840,
				"connectionId":"67d90c05c16d90524f544628",
				"resourceName":"servicenow_search_records_using_query",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"2uCNz@TDQKf@FwRqR-1@n@l",
			"id":"id2xY",
			"index":0,
			"inputs":{
				"objectSourceResourceName":"servicenow_fetch_object",
				"objectId":"{{ 2uCNz.outputs.item }}",
				"result_size":50000
			},
			"skip":false,
			"subTitle":"ServiceNow",
			"title":"Search records using query",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":144,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"2uCNz@TDQKf@FwRqR-1@n@l",
			"id":"Y7yc7",
			"index":0,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ id2xY.outputs.result }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"additional":{
				"xsdSchemaConfig":{}
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":58,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Y7yc7@2uCNz@TDQKf@FwRqR-1@n@l@l",
			"id":"DH2M5",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"data":{
							"type":"string",
							"title":"Data"
						}
					},
					"additionalProperties":false,
					"required":[
						"data"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"items":{
							"type":"string",
							"title":"Items"
						}
					},
					"additionalProperties":false,
					"required":[
						"items"
					]
				},
				"compile_static":false,
				"code":"def convertToString(data, indent=\" \") {\n    if (data instanceof Map) {\n        if(data==[:]){\n            return \"not given, \"\n        }\n        return data.findAll { key, value -> value != null || value != \"\" }\n               .collect { key, value -> \"${indent}${key} is ${convertToString(value, indent)}\" }\n               .join(\", \")\n    } else if (data instanceof List) {\n        if(data.size()==0){\n            return \"not given, \"\n        }\n        return data.collect { item -> convertToString(item, indent) }.join(\", \")\n    } else {\n        return data?.toString() ?: \"not given, \"\n    }\n}\ndef data = binding.hasVariable(\"items\") ? convertToString(items) : null\n\nreturn [\"data\":data]",
				"parameters":{
					"items":"{{ Y7yc7.outputs.item }}"
				}
			},
			"skip":false,
			"subTitle":"index data",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":58,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Y7yc7@2uCNz@TDQKf@FwRqR-1@n@l@l",
			"id":"9CpZa",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"chunkMetadata":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Chunk Metadata"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"data":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Data"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"import java.text.SimpleDateFormat\nimport java.util.Date\ndef chunkMetadata = [:]\ndef SERVICENOW_DATE_FORMAT = \"yyyy-MM-dd HH:mm:ss\"\n\nstatic long getTimestampMillis(String timestamp, String dateFormat) {\n    def timestampMillis = 0\n    if (timestamp != null) {\n        def format = new SimpleDateFormat(dateFormat)\n        format.setLenient(false)\n        def date = format.parse(timestamp)\n        return date.getTime()\n    }\n    return 0\n}\n\nif(binding.hasVariable(\"data\") && data.sys_updated_on)\n{\n    lastModified=data.sys_updated_on\n    modifiedTime = lastModified?getTimestampMillis(lastModified, SERVICENOW_DATE_FORMAT) : null\n    chunkMetadata << [\"modifiedTime\":modifiedTime]\n}\nif(binding.hasVariable(\"data\") && data.sys_created_on)\n{\n    createdOn=data.sys_created_on\n    createdTime = createdOn?getTimestampMillis(createdOn, SERVICENOW_DATE_FORMAT) : null\n    chunkMetadata << [\"createdTime\":createdTime]\n}\nif(binding.hasVariable(\"data\") && data.sys_updated_by)\n{\n    chunkMetadata << [\"modifiedBy\":data.sys_updated_by]\n}\nif(binding.hasVariable(\"data\") && data.sys_created_by)\n{\n    chunkMetadata << [\"createdBy\":data.sys_created_by]\n}\nif(binding.hasVariable(\"data\") && data.sys_id)\n{\n    chunkMetadata << [\"uniqueEntityId\":data.sys_id]\n}\nchunkMetadata << [\"appName\": \"servicenow\"]\nreturn [\"chunkMetadata\": chunkMetadata]",
				"parameters":{
					"data":"{{ Y7yc7.outputs.item }}"
				}
			},
			"skip":false,
			"subTitle":"chunk metadata",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":143,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Y7yc7@2uCNz@TDQKf@FwRqR-1@n@l@l",
			"id":"P0aYt",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"uniqueEntityId":{
							"type":"string",
							"title":"Unique Entity Id"
						},
						"name":{
							"type":"string",
							"title":"Name"
						},
						"appName":{
							"type":"string",
							"title":"App Name"
						},
						"createdTime":{
							"type":"string",
							"title":"Created Time"
						},
						"createdBy":{
							"type":"string",
							"title":"Created By"
						},
						"modifiedTime":{
							"type":"string",
							"title":"Modified Time"
						},
						"modifiedBy":{
							"type":"string",
							"title":"Modified By"
						}
					},
					"additionalProperties":false,
					"required":[
						"uniqueEntityId",
						"name",
						"appName",
						"createdTime",
						"createdBy",
						"modifiedTime",
						"modifiedBy"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"chunkMetadata":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Chunk Metadata"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"if(!binding.hasVariable('chunkMetadata')){\n  return [:]\n}\nreturn chunkMetadata;",
				"parameters":{
					"chunkMetadata":"{{ 9CpZa.outputs.result.chunkMetadata }}"
				}
			},
			"skip":false,
			"subTitle":"Extract variables",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"additional":{
				"xsdSchemaConfig":{}
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":87,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Y7yc7@2uCNz@TDQKf@FwRqR-1@n@l@l",
			"id":"MaxtI",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"allowed":{
							"type":"boolean",
							"title":"Allowed"
						},
						"modifiedTime":{
							"type":"string",
							"title":"Modified Time"
						}
					},
					"additionalProperties":false,
					"required":[
						"allowed",
						"modifiedTime"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"lastSyncTime":{
							"type":"string",
							"title":"Last Sync Time"
						},
						"lastModified":{
							"type":"string",
							"title":"Last Modified"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"compile_static":false,
				"code":"import java.text.SimpleDateFormat\nimport java.util.Date\ndef SERVICENOW_DATE_FORMAT = \"yyyy-MM-dd HH:mm:ss\"\ndef UNIFY_DATE_FORMAT = \"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\"\n\ndef allowed = true\ndef modifiedTime\nif (binding.hasVariable('lastSyncTime')) {\n  modifiedTime = lastModified\n  allowed = allowed && (lastSyncTime < modifiedTime) \n}\n\nreturn ['allowed':allowed,'modifiedTime':modifiedTime]\n\n\nstatic long getTimestampMillis(String timestamp, String dateFormat) {\n    def timestampMillis = 0\n    if(timestamp != null) {\n        def format = new SimpleDateFormat(dateFormat)\n        def date = format.parse(timestamp)\n        timestampMillis = date.getTime()\n    }\n    return timestampMillis\n}\n",
				"parameters":{
					"lastSyncTime":"{{ 39uEb.outputs.knowledge.lastSyncTime }}",
					"lastModified":"{{ P0aYt.outputs.result.modifiedTime }}"
				}
			},
			"skip":false,
			"subTitle":"lastSyncTime check",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":141,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Y7yc7@2uCNz@TDQKf@FwRqR-1@n@l@l",
			"id":"LwIgW",
			"index":0,
			"inputs":{},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"continue",
				"resourceVersion":141,
				"resourceName":"continue",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"LwIgW@Y7yc7@2uCNz@TDQKf@FwRqR-1@n@l@l@n",
			"id":"bWvt3",
			"index":0,
			"inputs":{
				"loop":"Y7yc7",
				"conditions":{
					"filters":[
						{
							"property":"{{ MaxtI.outputs.result.allowed }}",
							"filter":{
								"operator":"EQUAL",
								"value":"false"
							}
						}
					],
					"operator":"AND"
				}
			},
			"skip":false,
			"subTitle":"Continue",
			"title":"Continue",
			"type":"CONTINUE"
		},
		{
			"context":{
				"appName":"servicenow",
				"resourceVersion":843,
				"connectionId":"67d90c05c16d90524f544628",
				"resourceName":"servicenow_fetch_attachments",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"MANUAL",
			"groupId":"Y7yc7@2uCNz@TDQKf@FwRqR-1@n@l@l",
			"id":"oYTWE",
			"index":0,
			"inputs":{
				"recordId":"{{ P0aYt.outputs.result.uniqueEntityId }}",
				"tableName":"{{ 2uCNz.outputs.item }}"
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"MANUAL",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"ServiceNow",
			"title":"Fetch attachments",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":397,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"oYTWE@Y7yc7@2uCNz@TDQKf@FwRqR-1@n@l@l@success",
			"id":"XmpcK",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"inputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Inputs"
						},
						"allowed":{
							"type":"boolean",
							"title":"Allowed"
						}
					},
					"additionalProperties":false,
					"required":[
						"inputs",
						"allowed"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"attachments":{
							"type":"array",
							"items":{
								"type":"object",
								"properties":{},
								"additionalProperties":false
							},
							"title":"Attachments"
						},
						"chunkMetadata":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Chunk Metadata"
						},
						"sharedWithIds":{
							"type":"array",
							"items":{
								"type":"string"
							},
							"title":"Shared With Ids"
						},
						"createdTime":{
							"type":"string",
							"title":"Created Time"
						},
						"createdBy":{
							"type":"string",
							"title":"Created By"
						},
						"recordId":{
							"type":"string",
							"title":"Record Id"
						}
					},
					"additionalProperties":false,
					"required":[
						"attachments",
						"chunkMetadata",
						"sharedWithIds",
						"recordId"
					]
				},
				"compile_static":false,
				"code":"def toReturn = [:]\ndef allowed=false\n\nif(binding.hasVariable('attachments') && !attachments?.isEmpty()){\n  allowed=true\n  toReturn.put(\"attachments\", attachments)\n}\nif(binding.hasVariable('sharedWithIds')){\n  toReturn.put(\"sharedWithIds\", sharedWithIds)\n}\nif(binding.hasVariable('recordId')){\n  toReturn.put(\"recordId\", recordId)\n}\nif(binding.hasVariable('chunkMetadata')){\n  toReturn.put(\"chunkMetadata\", chunkMetadata)\n}\nif(binding.hasVariable('createdTime')){\n  toReturn.put(\"createdTime\", createdTime)\n}\nif(binding.hasVariable('createdBy')){\n  toReturn.put(\"createdBy\", createdBy)\n}\nreturn [\"inputs\":toReturn,\"allowed\":allowed]",
				"parameters":{
					"attachments":{
						"ua:type":"mappedArray",
						"source":"{{ oYTWE.outputs.result }}",
						"items":"{{ oYTWE.outputs.result[0] }}"
					},
					"sharedWithIds":{
						"ua:type":"mappedArray",
						"source":"{{ JYlQn.outputs.sharedWithIds }}",
						"items":"{{ JYlQn.outputs.sharedWithIds[0] }}"
					},
					"createdBy":"{{ oYTWE.outputs.result[0].created_by_name }}",
					"createdTime":"{{ oYTWE.outputs.result[0].sys_created_on }}",
					"chunkMetadata":"{{ 9CpZa.outputs.result.chunkMetadata }}",
					"recordId":"{{ P0aYt.outputs.result.uniqueEntityId }}"
				}
			},
			"skip":false,
			"subTitle":"Creating Inputs for index attachments",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":392,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"oYTWE@Y7yc7@2uCNz@TDQKf@FwRqR-1@n@l@l@success",
			"id":"FiYyu",
			"index":0,
			"inputs":{
				"filters":[
					{
						"property":"{{ XmpcK.outputs.result.allowed }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":151,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"CONTINUE",
			"groupId":"FiYyu@oYTWE@Y7yc7@2uCNz@TDQKf@FwRqR-1@n@l@l@success@y",
			"id":"uLSwf",
			"index":0,
			"inputs":{
				"automationId":"67d93bbed9a9f13897d1f5ee",
				"runtimeConnections":{
					"servicenow":"{{ 39uEb.outputs.knowledge.applicationInfo.context.connectionId }}"
				},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"knowledgeId":"{{ 39uEb.outputs.knowledgeId }}",
					"aiAgentId":"{{ 39uEb.outputs.aiAgentId }}",
					"knowledge":{
						"readVersion":"{{ 39uEb.outputs.knowledge.readVersion }}",
						"lastSyncTime":"{{ 39uEb.outputs.knowledge.lastSyncTime }}",
						"applicationInfo":{
							"context":{
								"connectionId":"{{ 39uEb.outputs.knowledge.applicationInfo.context.connectionId }}"
							}
						}
					},
					"inputs":"{{ XmpcK.outputs.result.inputs }}"
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"CONTINUE",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":198,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Y7yc7@2uCNz@TDQKf@FwRqR-1@n@l@l",
			"id":"qhEL0",
			"index":0,
			"inputs":{
				"automationId":"67091f09c6db330cf5b08ead",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"knowledgeId":"{{ 39uEb.outputs.knowledgeId }}",
					"text":"{{ DH2M5.outputs.result.data }}"
				}
			},
			"skip":false,
			"subTitle":"TextChunker",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"loop",
				"resourceVersion":302,
				"resourceName":"loop_for_each",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"Y7yc7@2uCNz@TDQKf@FwRqR-1@n@l@l",
			"id":"EsXP6",
			"index":0,
			"inputs":{
				"repeatMode":"SINGLE",
				"listSource":"{{ qhEL0.outputs.chunks }}",
				"captureIterations":false
			},
			"skip":false,
			"subTitle":"Loop",
			"title":"For loop",
			"type":"LOOP"
		},
		{
			"additional":{
				"xsdSchemaConfig":{}
			},
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":203,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"EsXP6@Y7yc7@2uCNz@TDQKf@FwRqR-1@n@l@l@l",
			"id":"FmThL",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"chunkMetadata":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Chunk Metadata"
						}
					},
					"additionalProperties":false,
					"required":[
						"chunkMetadata"
					]
				},
				"input":{
					"type":"object",
					"properties":{
						"chunkMetadata":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Chunk Metadata"
						}
					},
					"additionalProperties":false,
					"required":[
						"chunkMetadata"
					]
				},
				"compile_static":false,
				"code":"def uuid=UUID.randomUUID().toString()\nchunkMetadata << [\"chunkUUID\":uuid]\nreturn[\n  'chunkMetadata' : chunkMetadata,\n]",
				"parameters":{
					"chunkMetadata":"{{ 9CpZa.outputs.result.chunkMetadata }}"
				}
			},
			"skip":false,
			"subTitle":"Extracting Information ",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":230,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"EsXP6@Y7yc7@2uCNz@TDQKf@FwRqR-1@n@l@l@l",
			"id":"OTR9S",
			"index":0,
			"inputs":{
				"automationId":"66af3ff4cd79b321cb478a37",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"chunks":{
						"ua:type":"mappedArray",
						"items":{
							"sharedWithIds":{
								"ua:type":"mappedArray",
								"source":"{{ JYlQn.outputs.sharedWithIds }}",
								"items":"{{ JYlQn.outputs.sharedWithIds[0] }}"
							},
							"data":"{{ EsXP6.outputs.item }}",
							"chunkMetadata":"{{ FmThL.outputs.result.chunkMetadata }}"
						}
					},
					"chunkMetadata":"{{ FmThL.outputs.result.chunkMetadata }}",
					"knowledgeId":"{{ 39uEb.outputs.knowledgeId }}",
					"knowledgeVersion":"{{ 39uEb.outputs.knowledge.readVersion }}",
					"uniqueEntityId":"{{ P0aYt.outputs.result.uniqueEntityId }}"
				}
			},
			"skip":false,
			"subTitle":"Knowledge Indexer",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":88,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"FwRqR-1",
			"id":"I5XNx",
			"index":0,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"lastSyncTime":{
							"type":"string",
							"title":"Last Sync Time"
						}
					},
					"additionalProperties":false,
					"required":[
						"lastSyncTime"
					]
				},
				"compile_static":false,
				"code":"def lastSyncTime = System.currentTimeMillis()\nreturn lastSyncTime"
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":59,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"FwRqR-1",
			"id":"vicH0",
			"index":0,
			"inputs":{
				"result":{
					"success":true,
					"lastSyncTime":"{{ I5XNx.outputs.result.lastSyncTime }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":43502,
	"runtimeConnectionAppNames":[
		"servicenow"
	],
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"headerValueTierMap":{},
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		
	],
	"version":80
}
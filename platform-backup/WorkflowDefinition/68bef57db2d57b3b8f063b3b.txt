{
	"appsUsed":[
		"microsoft_onedrive"
	],
	"createdTime":1757528314282,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1759243541702,
		"deployedBy":-1,
		"deployedDefinitionId":"68dbed1523e6682b9a51eaf8",
		"status":"DEPLOYED",
		"version":4,
		"workflowVersion":56
	},
	"edges":[
		{
			"fromNodeId":"n_0pUZ3",
			"priority":0,
			"skip":false,
			"toNodeId":"_DH3yZ",
			"type":"next"
		},
		{
			"fromNodeId":"_DH3yZ",
			"priority":0,
			"skip":false,
			"toNodeId":"n_8AjJH",
			"type":"next"
		},
		{
			"fromNodeId":"n_8AjJH",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_OPSgR",
			"type":"if"
		},
		{
			"fromNodeId":"n_8AjJH",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"k3HVL",
			"type":"next"
		},
		{
			"fromNodeId":"k3HVL",
			"priority":0,
			"skip":false,
			"toNodeId":"_6O59K",
			"type":"next"
		},
		{
			"fromNodeId":"_6O59K",
			"priority":0,
			"skip":false,
			"toNodeId":"_sTbGo",
			"type":"next"
		},
		{
			"fromNodeId":"_sTbGo",
			"priority":0,
			"skip":false,
			"toNodeId":"n_pKtSl",
			"type":"next"
		},
		{
			"fromNodeId":"n_pKtSl",
			"priority":0,
			"skip":false,
			"toNodeId":"n_jHX4k",
			"type":"next"
		},
		{
			"fromNodeId":"n_jHX4k",
			"priority":0,
			"skip":false,
			"toNodeId":"_5iPjK",
			"type":"next"
		},
		{
			"fromNodeId":"_5iPjK",
			"priority":0,
			"skip":false,
			"toNodeId":"_SNVyB",
			"type":"next"
		},
		{
			"fromNodeId":"_SNVyB",
			"priority":0,
			"skip":false,
			"toNodeId":"_Ixbns",
			"type":"next"
		},
		{
			"fromNodeId":"n_OPSgR",
			"priority":0,
			"skip":false,
			"toNodeId":"n_9We9R",
			"type":"next"
		},
		{
			"fromNodeId":"_Ixbns",
			"priority":0,
			"skip":false,
			"toNodeId":"n_9We9R",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"68bef57db2d57b3b8f063b3b",
	"lastModifiedBy":-1,
	"lcName":"knowledge downloader | onedrive | file",
	"modifiedTime":1759243575365,
	"name":"Knowledge Downloader | OneDrive | File",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":447,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_fKbMz-1",
			"id":"n_0pUZ3",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"success":{
							"type":"boolean",
							"title":"Success"
						}
					}
				},
				"setup":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"filePath":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"File Path"
						},
						"knowledgeId":{
							"type":"string",
							"title":"Knowledge Id"
						},
						"connectionId":{
							"type":"string",
							"title":"Connection Id"
						},
						"indexingVersion":{
							"type":"string",
							"title":"Indexing Version"
						},
						"maxModifiedTime":{
							"type":"string",
							"title":"Max Modified Time"
						},
						"uniqueEntityId":{
							"type":"string",
							"title":"Unique Entity Id"
						},
						"downloaderConfig":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Downloader Config"
						}
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger via automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":48,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_fKbMz-1",
			"id":"_DH3yZ",
			"index":2,
			"inputs":{
				"automationId":"6703c52bec30651a8ce4a1e2",
				"runtimeConnections":{
					"microsoft_onedrive":"{{ n_0pUZ3.outputs.connectionId }}",
					"gdrive":"{{ n_tl3IP.outputs.connectionId }}"
				},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"filePath":"{{ n_0pUZ3.outputs.filePath }}"
				}
			},
			"options":{
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false,
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false,
					"slidingWindowType":"COUNT_BASED"
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"enabled":false,
					"unit":"MINUTES",
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":null,
					"captureRetries":false,
					"enabled":false
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"Get SharedWithIds",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":439,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_fKbMz-1",
			"id":"n_8AjJH",
			"index":3,
			"inputs":{
				"filters":[
					{
						"property":"{{ n_0pUZ3.outputs.downloaderConfig.grabberType }}",
						"filter":{
							"operator":"CONTAINS",
							"value":"backward_"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":465,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_8AjJH@_fKbMz-1@y",
			"id":"n_OPSgR",
			"index":4,
			"inputs":{
				"automationId":"68bf492eb9564171346f808d",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"knowledgeId":"{{ n_0pUZ3.outputs.knowledgeId }}",
					"knowledgeVersion":"{{ n_0pUZ3.outputs.indexingVersion }}",
					"uniqueEntityId":"{{ n_0pUZ3.outputs.uniqueEntityId }}",
					"sharedWithIds":{
						"source":"{{ _DH3yZ.outputs.sharedWithIds }}",
						"ua:type":"mappedArray",
						"items":"{{ _DH3yZ.outputs.sharedWithIds[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"microsoft_onedrive",
				"resourceVersion":172,
				"connectionId":"687202d6c188db3f0da57e9d",
				"resourceName":"microsoft_onedrive_get_drive_item_metadata",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_8AjJH@_fKbMz-1@n",
			"id":"k3HVL",
			"index":5,
			"inputs":{
				"path":"{{ n_0pUZ3.outputs.filePath }}"
			},
			"options":{
				"bulkheadConfig":{
					"enabled":false,
					"global":false
				},
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false,
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false
				},
				"logConfig":{
					"enabled":false
				},
				"rateLimitConfig":{
					"duration":"1",
					"enabled":true,
					"threshold":"100",
					"unit":"MINUTES",
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":2.0,
					"captureRetries":false,
					"count":3,
					"enabled":true,
					"initialDelay":3000,
					"maxDelay":15000
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false
				}
			},
			"skip":false,
			"subTitle":"Microsoft OneDrive",
			"title":"Get file metadata",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"microsoft_onedrive",
				"resourceVersion":2366,
				"connectionId":"687202d6c188db3f0da57e9d",
				"resourceName":"microsoft_onedrive_download_file",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_8AjJH@_fKbMz-1@n",
			"id":"_6O59K",
			"index":6,
			"inputs":{
				"path":"{{ n_0pUZ3.outputs.filePath }}"
			},
			"options":{
				"bulkheadConfig":{
					"enabled":false,
					"global":false
				},
				"businessHoursConfig":{
					"enabled":false,
					"waitForNextWindow":false
				},
				"cacheConfig":{
					"enabled":false,
					"usagePolicy":"ALWAYS"
				},
				"circuitBreakerConfig":{
					"enabled":false
				},
				"disableLogging":false,
				"enabledForReExecution":false,
				"hookConfig":{
					"enabled":false,
					"postHooks":[
						
					],
					"preHooks":[
						
					]
				},
				"logConfig":{
					"enabled":false,
					"logPolicies":[
						
					]
				},
				"rateLimitConfig":{
					"duration":"1",
					"enabled":true,
					"threshold":"100",
					"unit":"MINUTES",
					"waitForNextWindow":false
				},
				"retryConfig":{
					"backOffFactor":2.0,
					"captureRetries":false,
					"count":3,
					"enabled":true,
					"initialDelay":3000,
					"maxDelay":15000
				},
				"stepError":"STOP",
				"telemetryConfig":{
					"enableTelemetry":false,
					"metricConfigs":[
						
					]
				}
			},
			"skip":false,
			"subTitle":"Microsoft OneDrive",
			"title":"Download file",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"utility_by_unifyapps",
				"resourceVersion":434,
				"resourceName":"utility_by_unifyapps_create_unifyapps_path_for_file",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_8AjJH@_fKbMz-1@n",
			"id":"_sTbGo",
			"index":7,
			"inputs":{
				"file":"{{ _6O59K.outputs.file }}"
			},
			"skip":false,
			"subTitle":"Utility by UnifyApps",
			"title":"Create UnifyApps path for file",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"utility_by_unifyapps",
				"resourceVersion":449,
				"resourceName":"utility_by_unifyapps_generate_public_url",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_8AjJH@_fKbMz-1@n",
			"id":"n_pKtSl",
			"index":8,
			"inputs":{
				"file":"{{ _6O59K.outputs.file }}",
				"expiryTime":1
			},
			"skip":false,
			"subTitle":"Utility by UnifyApps",
			"title":"Generate public file URL",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"files_by_unifyapps",
				"resourceVersion":464,
				"resourceName":"files_by_unifyapps_upload_file",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_8AjJH@_fKbMz-1@n",
			"id":"n_jHX4k",
			"index":9,
			"inputs":{
				"fileName":"{{ k3HVL.outputs.name }}",
				"url":"{{ n_pKtSl.outputs.url }}",
				"option":"url"
			},
			"skip":false,
			"subTitle":"Files by UnifyApps",
			"title":"Upload file",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":52,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_8AjJH@_fKbMz-1@n",
			"id":"_5iPjK",
			"index":10,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"chunkMetadata":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Chunk Metadata",
							"required":[]
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"name":{
							"type":"string",
							"title":"Name"
						},
						"mimetype":{
							"type":"string",
							"title":"Mimetype"
						},
						"webViewLink":{
							"type":"string",
							"title":"Web View Link"
						},
						"size":{
							"type":"string",
							"title":"Size"
						},
						"author":{
							"type":"string",
							"title":"Author"
						},
						"creationDateTime":{
							"type":"string",
							"title":"Creation Date Time"
						},
						"modifiedTime":{
							"type":"string",
							"title":"Modified Time"
						},
						"authorEmail":{
							"type":"string",
							"title":"Author Email"
						},
						"folder":{
							"type":"string",
							"title":"Folder"
						}
					}
				},
				"code":"def chunkMetadata = [:]\n\nchunkMetadata << (binding.hasVariable('name') && name ? [\"name\": name] : [:])\nchunkMetadata << (binding.hasVariable('mimetype') && mimetype ? [\"mimetype\": mimetype] : [:])\nchunkMetadata << (binding.hasVariable('webViewLink') && webViewLink ? [\"referenceUrl\": webViewLink] : [:])\nchunkMetadata << (binding.hasVariable('size') && size ? [\"size\": size] : [:])\nchunkMetadata << [\"appName\" : \"microsoft_onedrive\"]\nchunkMetadata << (binding.hasVariable('folder') && folder ? [\"folderName\": folder] : [:])\nchunkMetadata << (binding.hasVariable('author') && author ? [\"author\": author] : [:])\nchunkMetadata << (binding.hasVariable('authorEmail') && authorEmail ? [\"authorEmail\": authorEmail] : [:])\nchunkMetadata << (binding.hasVariable('creationDateTime') && creationDateTime ? [\"createdTime\": java.time.Instant.parse(creationDateTime).toEpochMilli()] : [:])\nchunkMetadata << (binding.hasVariable('modifiedTime') && modifiedTime ? [\"modifiedTime\": java.time.Instant.parse(modifiedTime).toEpochMilli()] : [:])\n\nreturn [\"chunkMetadata\": chunkMetadata]\n",
				"compile_static":false,
				"isAsync":false,
				"captureStdOutput":false,
				"parameters":{
					"name":"{{ k3HVL.outputs.name }}",
					"mimetype":"{{ k3HVL.outputs.file.mimeType }}",
					"webViewLink":"{{ _sTbGo.outputs.path }}",
					"size":"{{ k3HVL.outputs.size }}",
					"author":"{{ k3HVL.outputs.createdBy.user.displayName }}",
					"creationDateTime":"{{ k3HVL.outputs.createdDateTime }}",
					"modifiedTime":"{{ k3HVL.outputs.lastModifiedDateTime }}",
					"authorEmail":"{{ k3HVL.outputs.createdBy.user.email }}",
					"folder":"{{ k3HVL.outputs.parentReference.path }}"
				}
			},
			"skip":false,
			"subTitle":"Create chunk metadata",
			"title":"Execute groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":448,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_8AjJH@_fKbMz-1@n",
			"id":"_SNVyB",
			"index":11,
			"inputs":{
				"output":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"sourceResponse":{
							"type":"object",
							"properties":{
								"author":{
									"type":"string",
									"title":"author"
								},
								"authorEmail":{
									"type":"string",
									"title":"authorEmail"
								},
								"creationDateTime":{
									"type":"string",
									"title":"creationDateTime"
								},
								"mimetype":{
									"type":"string",
									"title":"mimetype"
								},
								"modifiedTime":{
									"type":"string",
									"title":"modifiedTime"
								},
								"name":{
									"type":"string",
									"title":"name"
								},
								"size":{
									"type":"integer",
									"title":"size"
								},
								"webViewLink":{
									"type":"string",
									"title":"webViewLink"
								},
								"fileDetails":{
									"type":"object",
									"properties":{},
									"additionalProperties":false,
									"title":"File Details"
								},
								"folder":{
									"type":"string",
									"title":"Folder"
								}
							},
							"additionalProperties":false,
							"required":[]
						}
					}
				},
				"input":{
					"type":"object",
					"additionalProperties":false,
					"required":[],
					"properties":{
						"author":{
							"type":"string",
							"title":"author"
						},
						"authorEmail":{
							"type":"string",
							"title":"authorEmail"
						},
						"creationDateTime":{
							"type":"string",
							"title":"creationDateTime"
						},
						"mimetype":{
							"type":"string",
							"title":"mimetype"
						},
						"modifiedTime":{
							"type":"string",
							"title":"modifiedTime"
						},
						"name":{
							"type":"string",
							"title":"name"
						},
						"size":{
							"type":"integer",
							"title":"size"
						},
						"webViewLink":{
							"type":"string",
							"title":"webViewLink"
						},
						"fileDetails":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"File Details"
						},
						"folder":{
							"type":"string",
							"title":"Folder"
						}
					}
				},
				"code":"def sourceResponse = [:]\n\nif(binding.hasVariable('fileDetails')){\n  sourceResponse[\"fileDetails\"] = fileDetails\n}\n\nsourceResponse << (binding.hasVariable('name') && name ? [\"name\": name] : [:])\nsourceResponse << (binding.hasVariable('mimetype') && mimetype ? [\"mimetype\": mimetype] : [:])\nsourceResponse << (binding.hasVariable('webViewLink') && webViewLink ? [\"referenceUrl\": webViewLink] : [:])\nsourceResponse << (binding.hasVariable('size') && size ? [\"size\": size] : [:])\nsourceResponse << [\"appName\" : \"microsoft_onedrive\"]\nsourceResponse << (binding.hasVariable('author') && author ? [\"author\": author] : [:])\nsourceResponse << (binding.hasVariable('folder') && folder ? [\"folder\": folder] : [:])\nsourceResponse << (binding.hasVariable('authorEmail') && authorEmail ? [\"authorEmail\": authorEmail] : [:])\nsourceResponse << (binding.hasVariable('creationDateTime') && creationDateTime ? [\"createdTime\": java.time.Instant.parse(creationDateTime).toEpochMilli()] : [:])\nsourceResponse << (binding.hasVariable('modifiedTime') && modifiedTime ? [\"modifiedTime\": java.time.Instant.parse(modifiedTime).toEpochMilli()] : [:])\n\nreturn [\"sourceResponse\": sourceResponse]\n",
				"compile_static":false,
				"captureStdOutput":false,
				"parameters":{
					"author":"{{ k3HVL.outputs.createdBy.user.displayName }}",
					"authorEmail":"{{ k3HVL.outputs.createdBy.user.email }}",
					"creationDateTime":"{{ k3HVL.outputs.createdDateTime }}",
					"mimetype":"{{ k3HVL.outputs.file.mimeType }}",
					"modifiedTime":"{{ k3HVL.outputs.lastModifiedDateTime }}",
					"name":"{{ k3HVL.outputs.name }}",
					"size":"{{ k3HVL.outputs.size }}",
					"webViewLink":"{{ _sTbGo.outputs.path }}",
					"fileDetails":"{{ n_jHX4k.outputs.fileDetails }}",
					"folder":"{{ k3HVL.outputs.parentReference.path }}"
				}
			},
			"skip":false,
			"subTitle":"Create sourceResponse ",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":459,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"n_8AjJH@_fKbMz-1@n",
			"id":"_Ixbns",
			"index":12,
			"inputs":{
				"automationId":"6867a54b78989b484e92345e",
				"runtimeConnections":{},
				"runtimeContext":"{{ n_0pUZ3.outputs.connectionId }}",
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"knowledgeId":"{{ n_0pUZ3.outputs.knowledgeId }}",
					"sourceResponse":"{{ _SNVyB.outputs.result.sourceResponse }}",
					"knowledgeVersion":"{{ n_0pUZ3.outputs.indexingVersion }}",
					"resourceType":"file",
					"uniqueEntityId":"{{ n_0pUZ3.outputs.uniqueEntityId }}",
					"metadata":"{{ _5iPjK.outputs.result.chunkMetadata }}",
					"authorEmail":"{{ _SNVyB.outputs.result.sourceResponse.authorEmail }}",
					"isTypeFile":true,
					"sharedWithIds":{
						"ua:type":"mappedArray",
						"source":"{{ _DH3yZ.outputs.sharedWithIds }}",
						"items":"{{ _DH3yZ.outputs.sharedWithIds[0] }}"
					}
				}
			},
			"skip":false,
			"subTitle":"Store Raw Data",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":457,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_fKbMz-1",
			"id":"n_9We9R",
			"index":13,
			"inputs":{
				"result":{
					"success":true
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":635,
	"runtimeConnectionAppNames":[
		"microsoft_onedrive"
	],
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"headerValueTierMap":{},
			"tierName":"global"
		}
	},
	"standard":true,
	"tags":[
		"knowledge_v2"
	],
	"version":57
}
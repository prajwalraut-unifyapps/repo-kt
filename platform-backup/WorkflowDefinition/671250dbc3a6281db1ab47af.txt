{
	"appsUsed":[
		"storage_by_unifyapps"
	],
	"createdTime":1730998141049,
	"deleted":false,
	"deploymentState":{
		"deployedAt":1759371873106,
		"deployedBy":-1,
		"deployedDefinitionId":"68dde261421ec34d10d66bd3",
		"status":"DEPLOYED",
		"version":65,
		"workflowVersion":95
	},
	"edges":[
		{
			"fromNodeId":"_W9xca",
			"priority":0,
			"skip":false,
			"toNodeId":"_Im0I9",
			"type":"next"
		},
		{
			"fromNodeId":"_Im0I9",
			"priority":0,
			"skip":false,
			"toNodeId":"_Ocijb",
			"type":"next"
		},
		{
			"fromNodeId":"_Ocijb",
			"priority":0,
			"skip":false,
			"toNodeId":"_Q1ZEt",
			"type":"next"
		},
		{
			"fromNodeId":"_Q1ZEt",
			"priority":0,
			"skip":false,
			"toNodeId":"_droks",
			"type":"next"
		},
		{
			"fromNodeId":"_droks",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"c00Wc",
			"type":"if"
		},
		{
			"fromNodeId":"c00Wc",
			"priority":0,
			"skip":false,
			"toNodeId":"_twQ8P",
			"type":"next"
		},
		{
			"fromNodeId":"_twQ8P",
			"priority":0,
			"skip":false,
			"toNodeId":"N49vX",
			"type":"next"
		},
		{
			"fromNodeId":"N49vX",
			"priority":0,
			"skip":false,
			"toNodeId":"XbsuV",
			"type":"next"
		},
		{
			"fromNodeId":"XbsuV",
			"name":"yes",
			"priority":0,
			"skip":false,
			"toNodeId":"n_SmQOj",
			"type":"if"
		},
		{
			"fromNodeId":"n_SmQOj",
			"priority":0,
			"skip":false,
			"toNodeId":"WSKPt",
			"type":"next"
		},
		{
			"fromNodeId":"WSKPt",
			"priority":0,
			"skip":false,
			"toNodeId":"PIhIc",
			"type":"next"
		},
		{
			"fromNodeId":"PIhIc",
			"priority":0,
			"skip":false,
			"toNodeId":"86GQA",
			"type":"next"
		},
		{
			"fromNodeId":"86GQA",
			"priority":0,
			"skip":false,
			"toNodeId":"_FQtQa",
			"type":"next"
		},
		{
			"fromNodeId":"XbsuV",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_FQtQa",
			"type":"next"
		},
		{
			"fromNodeId":"_FQtQa",
			"priority":0,
			"skip":false,
			"toNodeId":"_o11rI",
			"type":"next"
		},
		{
			"fromNodeId":"_droks",
			"name":"no",
			"priority":0,
			"skip":false,
			"toNodeId":"_o11rI",
			"type":"next"
		}
	],
	"grants":{
		"configs":[
			{
				"permissions":[
					"V"
				],
				"principalType":"GLOBAL"
			}
		]
	},
	"id":"671250dbc3a6281db1ab47af",
	"lastModifiedBy":44109,
	"lcName":"trigger interface and get user inputs",
	"modifiedTime":1759495180342,
	"name":"Trigger Interface and Get User Inputs",
	"nodes":[
		{
			"context":{
				"appName":"callables",
				"resourceVersion":3,
				"resourceName":"callables_from_automation"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_IdCmG-1",
			"id":"_W9xca",
			"index":1,
			"inputs":{
				"result":{
					"type":"object",
					"properties":{
						"userInput":{
							"type":"string",
							"title":"User Input"
						},
						"messageId":{
							"type":"string",
							"title":"Message Id"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"setup":{
					"type":"object",
					"properties":{
						"interfaceDetails":{
							"type":"object",
							"properties":{
								"pageId":{
									"type":"string",
									"title":"Page Id"
								},
								"interfaceId":{
									"type":"string",
									"title":"Interface Id"
								},
								"pageInputs":{
									"type":"object",
									"properties":{},
									"additionalProperties":false,
									"title":"Page Inputs"
								},
								"slug":{
									"type":"string",
									"title":"Slug"
								}
							},
							"additionalProperties":false,
							"title":"Interface Details",
							"required":[]
						},
						"caseId":{
							"type":"string",
							"title":"Case Id"
						},
						"interfaceDescription":{
							"type":"string",
							"title":"Interface Description"
						},
						"waitForUserInput":{
							"type":"boolean",
							"title":"Wait For User Input",
							"default":"true"
						}
					},
					"additionalProperties":false,
					"required":[]
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Trigger from automation",
			"trigger":{
				"type":"CALLABLE"
			},
			"type":"START"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":3,
				"resourceName":"storage_by_unifyapps_get_record_by_id",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_IdCmG-1",
			"id":"_Im0I9",
			"index":2,
			"inputs":{
				"object_type":"e_ai_agent_conversation_state",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"id":"{{ _W9xca.outputs.caseId }}",
				"readThroughSessionVariables":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"code_by_unifyapps",
				"resourceVersion":3,
				"resourceName":"code_by_unifyapps_groovy",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_IdCmG-1",
			"id":"_Ocijb",
			"index":3,
			"inputs":{
				"output":{
					"type":"object",
					"properties":{
						"inputsWithCaseId":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Inputs With Case Id"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"input":{
					"type":"object",
					"properties":{
						"inputs":{
							"type":"object",
							"properties":{},
							"additionalProperties":false,
							"title":"Inputs"
						},
						"caseId":{
							"type":"string",
							"title":"Case Id"
						}
					},
					"additionalProperties":false,
					"required":[]
				},
				"code":"def inputsWithCaseId = [\"caseId\": caseId]\nif(binding.hasVariable('inputs')){\n    inputsWithCaseId.putAll(inputs)\n}\nreturn [\"inputsWithCaseId\": inputsWithCaseId]",
				"isAsync":false,
				"parameters":{
					"inputs":"{{ _W9xca.outputs.interfaceDetails.pageInputs }}",
					"caseId":"{{ _W9xca.outputs.caseId }}"
				}
			},
			"skip":false,
			"subTitle":"Code by UnifyApps",
			"title":"Execute Groovy code",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":57,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_IdCmG-1",
			"id":"_Q1ZEt",
			"index":4,
			"inputs":{
				"automationId":"66d1673d9627d00147081244",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"interfaceDetails":{
						"interfaceId":"{{ _W9xca.outputs.interfaceDetails.interfaceId }}",
						"pageId":"{{ _W9xca.outputs.interfaceDetails.pageId }}",
						"slug":"{{ _W9xca.outputs.interfaceDetails.slug }}",
						"pageInputs":"{{ _Ocijb.outputs.result.inputsWithCaseId }}"
					},
					"caseId":"{{ _W9xca.outputs.caseId }}",
					"fromCustomerUserId":"{{ _Im0I9.outputs.properties.currentAIAgentId }}"
				}
			},
			"skip":false,
			"subTitle":"Send Low Code App as Response",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":3,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_IdCmG-1",
			"id":"_droks",
			"index":5,
			"inputs":{
				"filters":[
					{
						"property":"{{ _W9xca.outputs.waitForUserInput }}",
						"filter":{
							"operator":"EQUAL",
							"value":"true"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":202,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_droks@_IdCmG-1@y",
			"id":"c00Wc",
			"index":6,
			"inputs":{
				"automationId":"67b4908aaffe713b4ced2d83",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"completed":true,
					"caseId":"{{ _W9xca.outputs.caseId }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":57,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_droks@_IdCmG-1@y",
			"id":"_twQ8P",
			"index":7,
			"inputs":{
				"automationId":"67133e74272bf52973eeed1f",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"statusToResumeWith":"{{ _Im0I9.outputs.properties.status }}",
					"caseId":"{{ _W9xca.outputs.caseId }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"storage_by_unifyapps",
				"resourceVersion":387,
				"resourceName":"storage_by_unifyapps_fetch_records",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_droks@_IdCmG-1@y",
			"id":"N49vX",
			"index":8,
			"inputs":{
				"triggerInputCondition":{
					"filters":[
						{
							"property":"properties_messageId",
							"filter":{
								"operator":"EQUAL",
								"value":"{{ _Q1ZEt.outputs.messageId }}"
							}
						}
					],
					"operator":"AND"
				},
				"object_type":"e_ai_agent_interface_state",
				"includeRoleMappings":false,
				"includeCurrentUserPermissions":false,
				"page":{
					"paginateBy":"OFFSET",
					"limit":20
				},
				"numberOfRecordsToFetch":"SINGLE",
				"includeTotalCount":false
			},
			"skip":false,
			"subTitle":"Storage by UnifyApps",
			"title":"Fetch records",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"if_else",
				"resourceVersion":374,
				"resourceName":"if_else_condition",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_droks@_IdCmG-1@y",
			"id":"XbsuV",
			"index":9,
			"inputs":{
				"filters":[
					{
						"property":"{{ N49vX.outputs.properties.llmContext }}",
						"filter":{
							"operator":"EXISTS"
						}
					}
				],
				"operator":"AND"
			},
			"skip":false,
			"subTitle":"Condition",
			"title":"Condition",
			"type":"IF_ELSE"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":458,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"XbsuV@_droks@_IdCmG-1@y@y",
			"id":"n_SmQOj",
			"index":10,
			"inputs":{
				"automationId":"67a48d37f8f1744841dabb63",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"aiAgentId":"{{ _Im0I9.outputs.properties.currentAIAgentId }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"utility_by_unifyapps",
				"resourceVersion":381,
				"resourceName":"utility_by_unifyapps_to_json_string",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"XbsuV@_droks@_IdCmG-1@y@y",
			"id":"WSKPt",
			"index":11,
			"inputs":{
				"object":"{{ N49vX.outputs.properties.llmContext }}"
			},
			"skip":false,
			"subTitle":"Utility by UnifyApps",
			"title":"Serialise object to JSON string",
			"type":"ACTION"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":394,
				"resourceName":"callables_call_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"XbsuV@_droks@_IdCmG-1@y@y",
			"id":"PIhIc",
			"index":12,
			"inputs":{
				"automationId":"67a31b86addac8605df79166",
				"runtimeConnections":{},
				"synchronous":true,
				"version":"-1",
				"parameters":{
					"caseId":"{{ _W9xca.outputs.caseId }}",
					"createMessageIfAbsent":true,
					"aiAgentId":"{{ _Im0I9.outputs.properties.currentAIAgentId }}",
					"streamingInProgress":false,
					"messageContent":"{{ WSKPt.outputs.result }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call automation",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":22,
				"resourceName":"callables_call_interface",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"XbsuV@_droks@_IdCmG-1@y@y",
			"id":"86GQA",
			"index":13,
			"inputs":{
				"callableInterfaceId":"6839b38ef76005427e28a666",
				"runtimeConnections":{},
				"synchronous":true,
				"triggerWorkflowWithRuntimeType":"DEFAULT",
				"callableInterfaces":[
					{
						"workflowId":"{{ n_SmQOj.outputs.properties.preProcessingSettings.userInputProcessingSettings.interfaceInputHandler }}",
						"filter":{
							"filters":[
								{
									"property":"{{ n_SmQOj.outputs.properties.preProcessingSettings.userInputProcessingSettings.interfaceInputHandler }}",
									"filter":{
										"operator":"EXISTS"
									}
								}
							],
							"operator":"AND"
						}
					}
				],
				"fallbackWorkflowId":"6839b3c471899b7ee7cb048e",
				"parameters":{
					"interfaceDetails":{
						"pageId":"{{ _W9xca.outputs.interfaceDetails.pageId }}",
						"interfaceId":"{{ _W9xca.outputs.interfaceDetails.interfaceId }}",
						"pageInputs":"{{ _W9xca.outputs.interfaceDetails.pageInputs }}"
					},
					"userResponse":"{{ N49vX.outputs.properties.llmContext }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Call interface",
			"type":"CALL_WORKFLOW"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":4,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_droks@_IdCmG-1@y",
			"id":"_FQtQa",
			"index":14,
			"inputs":{
				"result":{
					"userInput":"{{ N49vX.outputs.properties.llmContext }}",
					"messageId":"{{ _Q1ZEt.outputs.messageId }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		},
		{
			"context":{
				"appName":"callables",
				"resourceVersion":4,
				"resourceName":"callables_return_to_automation",
				"type":"APPLICATION"
			},
			"debug":false,
			"dirty":false,
			"fallbackMode":"STOP",
			"groupId":"_IdCmG-1",
			"id":"_o11rI",
			"index":15,
			"inputs":{
				"result":{
					"userInput":"NONE",
					"messageId":"{{ _Q1ZEt.outputs.messageId }}"
				}
			},
			"skip":false,
			"subTitle":"Callable",
			"title":"Respond to automation",
			"type":"STOP"
		}
	],
	"ownerUserId":520,
	"schemaReferences":[
		
	],
	"settings":{
		"enableNodeLevelLogging":true,
		"enableRunLogging":true,
		"enableVariableLogging":true,
		"route":{
			"default":false,
			"tierName":"global"
		}
	},
	"standard":false,
	"tags":[
		
	],
	"version":96
}